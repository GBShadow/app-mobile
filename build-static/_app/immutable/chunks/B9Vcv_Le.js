import"./DsnmJJEf.js";import{I as bs,h as nr,am as Ha,K as ra,D as Wa,C as Xa,q as ee,$ as Ya,F as ja,H as Za,G as Fs,J as vs,S as fi,an as Ka,ao as qa,M as Is,P as Qa,O as Ja,ap as na,aq as $a,ah as eo,ar as Us,Q as ia,R as to,as as ro,at as Cs,au as sa,av as no,aw as io,ax as so,ay as ao,az as oo,aA as lo,a3 as co,p as ae,i as q,y as fe,z as Q,t as K,d as M,e as oe,A as ge,ai as Ts,o as uo,ak as ue,c as le,f as ce,a1 as Hn,aB as fo,s as aa,aC as ho,n as go,aD as xo,aE as As,al as hi,B as wo}from"./CIVpFGfg.js";import{_ as mo,p,i as re,b as bo,s as Es}from"./CR-C9glK.js";import{s as Ss,a as vo}from"./D5z1WZEH.js";function Co(g,o){for(var c=0;c<o.length;c++){const x=o[c];if(typeof x!="string"&&!Array.isArray(x)){for(const h in x)if(h!=="default"&&!(h in g)){const d=Object.getOwnPropertyDescriptor(x,h);d&&Object.defineProperty(g,h,d.get?d:{enumerable:!0,get:()=>x[h]})}}}return Object.freeze(Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}))}function rt(g,o){return o}function Ao(g,o,c){for(var x=g.items,h=[],d=o.length,m=0;m<d;m++)ao(o[m].e,h,!0);var A=d>0&&h.length===0&&c!==null;if(A){var b=c.parentNode;oo(b),b.append(c),x.clear(),vr(g,o[0].prev,o[d-1].next)}lo(h,()=>{for(var f=0;f<d;f++){var I=o[f];A||(x.delete(I.k),vr(g,I.prev,I.next)),sa(I.e,!A)}})}function nt(g,o,c,x,h,d=null){var m=g,A={flags:o,items:new Map,first:null};{var b=g;m=nr?bs(Ha(b)):b.appendChild(ra())}nr&&Wa();var f=null,I=!1,y=new Map,S=Ya(()=>{var H=c();return $a(H)?H:H==null?[]:na(H)}),N,X;function j(){Eo(X,N,A,y,m,h,o,x,c),d!==null&&(N.length===0?f?ia(f):f=Is(()=>d(m)):f!==null&&to(f,()=>{f=null}))}Xa(()=>{X??=co,N=ee(S);var H=N.length;if(I&&H===0)return;I=H===0;let Ie=!1;if(nr){var me=ja(m)===Za;me!==(H===0)&&(m=Fs(),bs(m),vs(!1),Ie=!0)}if(nr){for(var $=null,te,Ce=0;Ce<H;Ce++){if(fi.nodeType===Ka&&fi.data===qa){m=fi,Ie=!0,vs(!1);break}var he=N[Ce],G=x(he,Ce);te=ks(fi,A,$,null,he,G,Ce,h,o,c),A.items.set(G,te),$=te}H>0&&bs(Fs())}if(nr)H===0&&d&&(f=Is(()=>d(m)));else if(Qa()){var xe=new Set,z=Ja;for(Ce=0;Ce<H;Ce+=1){he=N[Ce],G=x(he,Ce);var Be=A.items.get(G)??y.get(G);Be||(te=ks(null,A,null,null,he,G,Ce,h,o,c,!0),y.set(G,te)),xe.add(G)}for(const[Se,ie]of A.items)xe.has(Se)||z.skipped_effects.add(ie.e);z.add_callback(j)}else j();Ie&&vs(!0),ee(S)}),nr&&(m=fi)}function Eo(g,o,c,x,h,d,m,A,b){var f=o.length,I=c.items,y=c.first,S=y,N,X=null,j=[],H=[],Ie,me,$,te;for(te=0;te<f;te+=1){if(Ie=o[te],me=A(Ie,te),$=I.get(me),$===void 0){var Ce=x.get(me);if(Ce!==void 0){x.delete(me),I.set(me,Ce);var he=X?X.next:S;vr(c,X,Ce),vr(c,Ce,he),ps(Ce,he,h),X=Ce}else{var G=S?S.e.nodes_start:h;X=ks(G,c,X,X===null?c.first:X.next,Ie,me,te,d,m,b)}I.set(me,X),j=[],H=[],S=X.next;continue}if(($.e.f&Cs)!==0&&ia($.e),$!==S){if(N!==void 0&&N.has($)){if(j.length<H.length){var xe=H[0],z;X=xe.prev;var Be=j[0],Se=j[j.length-1];for(z=0;z<j.length;z+=1)ps(j[z],xe,h);for(z=0;z<H.length;z+=1)N.delete(H[z]);vr(c,Be.prev,Se.next),vr(c,X,Be),vr(c,Se,xe),S=xe,X=Se,te-=1,j=[],H=[]}else N.delete($),ps($,S,h),vr(c,$.prev,$.next),vr(c,$,X===null?c.first:X.next),vr(c,X,$),X=$;continue}for(j=[],H=[];S!==null&&S.k!==me;)(S.e.f&Cs)===0&&(N??=new Set).add(S),H.push(S),S=S.next;if(S===null)continue;$=S}j.push($),X=$,S=$.next}if(S!==null||N!==void 0){for(var ie=N===void 0?[]:na(N);S!==null;)(S.e.f&Cs)===0&&ie.push(S),S=S.next;var _e=ie.length;if(_e>0){var Ue=f===0?h:null;Ao(c,ie,Ue)}}g.first=c.first&&c.first.e,g.last=X&&X.e;for(var U of x.values())sa(U.e);x.clear()}function ks(g,o,c,x,h,d,m,A,b,f,I){var y=(b&no)!==0,S=(b&io)===0,N=y?S?eo(h,!1,!1):Us(h):h,X=(b&ro)===0?m:Us(m),j={i:X,v:N,k:d,a:null,e:null,prev:c,next:x};try{if(g===null){var H=document.createDocumentFragment();H.append(g=ra())}return j.e=Is(()=>A(g,N,X,f),nr),j.e.prev=c&&c.e,j.e.next=x&&x.e,c===null?I||(o.first=j):(c.next=j,c.e.next=j.e),x!==null&&(x.prev=j,x.e.prev=j.e),j}finally{}}function ps(g,o,c){for(var x=g.next?g.next.e.nodes_start:c,h=o?o.e.nodes_start:c,d=g.e.nodes_start;d!==null&&d!==x;){var m=so(d);h.before(d),d=m}}function vr(g,o,c){o===null?g.first=c:(o.next=c,o.e.next=c&&c.e),c!==null&&(c.prev=o,c.e.prev=o&&o.e)}const zs=[...` 	
\r\fÂ \v\uFEFF`];function po(g,o,c){var x=g==null?"":""+g;if(o&&(x=x?x+" "+o:o),c){for(var h in c)if(c[h])x=x?x+" "+h:h;else if(x.length)for(var d=h.length,m=0;(m=x.indexOf(h,m))>=0;){var A=m+d;(m===0||zs.includes(x[m-1]))&&(A===x.length||zs.includes(x[A]))?x=(m===0?"":x.substring(0,m))+x.substring(A+1):m=A}}return x===""?null:x}function yo(g,o){return g==null?null:String(g)}function R(g,o,c,x,h,d){var m=g.__className;if(nr||m!==c||m===void 0){var A=po(c,x,d);(!nr||A!==g.getAttribute("class"))&&(A==null?g.removeAttribute("class"):o?g.className=A:g.setAttribute("class",A)),g.__className=c}else if(d&&h!==d)for(var b in d){var f=!!d[b];(h==null||f!==!!h[b])&&g.classList.toggle(b,f)}return d}function F(g,o,c,x){var h=g.__style;if(nr||h!==o){var d=yo(o);(!nr||d!==g.getAttribute("style"))&&(d==null?g.removeAttribute("style"):g.style.cssText=d),g.__style=o}return x}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Xn;(function(g){g.Unimplemented="UNIMPLEMENTED",g.Unavailable="UNAVAILABLE"})(Xn||(Xn={}));class ys extends Error{constructor(o,c,x){super(o),this.message=o,this.code=c,this.data=x}}const _o=g=>{var o,c;return g?.androidBridge?"android":!((c=(o=g?.webkit)===null||o===void 0?void 0:o.messageHandlers)===null||c===void 0)&&c.bridge?"ios":"web"},Io=g=>{const o=g.CapacitorCustomPlatform||null,c=g.Capacitor||{},x=c.Plugins=c.Plugins||{},h=()=>o!==null?o.name:_o(g),d=()=>h()!=="web",m=y=>{const S=f.get(y);return!!(S?.platforms.has(h())||A(y))},A=y=>{var S;return(S=c.PluginHeaders)===null||S===void 0?void 0:S.find(N=>N.name===y)},b=y=>g.console.error(y),f=new Map,I=(y,S={})=>{const N=f.get(y);if(N)return console.warn(`Capacitor plugin "${y}" already registered. Cannot register plugins twice.`),N.proxy;const X=h(),j=A(y);let H;const Ie=async()=>(!H&&X in S?H=typeof S[X]=="function"?H=await S[X]():H=S[X]:o!==null&&!H&&"web"in S&&(H=typeof S.web=="function"?H=await S.web():H=S.web),H),me=(xe,z)=>{var Be,Se;if(j){const ie=j?.methods.find(_e=>z===_e.name);if(ie)return ie.rtype==="promise"?_e=>c.nativePromise(y,z.toString(),_e):(_e,Ue)=>c.nativeCallback(y,z.toString(),_e,Ue);if(xe)return(Be=xe[z])===null||Be===void 0?void 0:Be.bind(xe)}else{if(xe)return(Se=xe[z])===null||Se===void 0?void 0:Se.bind(xe);throw new ys(`"${y}" plugin is not implemented on ${X}`,Xn.Unimplemented)}},$=xe=>{let z;const Be=(...Se)=>{const ie=Ie().then(_e=>{const Ue=me(_e,xe);if(Ue){const U=Ue(...Se);return z=U?.remove,U}else throw new ys(`"${y}.${xe}()" is not implemented on ${X}`,Xn.Unimplemented)});return xe==="addListener"&&(ie.remove=async()=>z()),ie};return Be.toString=()=>`${xe.toString()}() { [capacitor code] }`,Object.defineProperty(Be,"name",{value:xe,writable:!1,configurable:!1}),Be},te=$("addListener"),Ce=$("removeListener"),he=(xe,z)=>{const Be=te({eventName:xe},z),Se=async()=>{const _e=await Be;Ce({eventName:xe,callbackId:_e},z)},ie=new Promise(_e=>Be.then(()=>_e({remove:Se})));return ie.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Se()},ie},G=new Proxy({},{get(xe,z){switch(z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return j?he:te;case"removeListener":return Ce;default:return $(z)}}});return x[y]=G,f.set(y,{name:y,proxy:G,platforms:new Set([...Object.keys(S),...j?[X]:[]])}),G};return c.convertFileSrc||(c.convertFileSrc=y=>y),c.getPlatform=h,c.handleError=b,c.isNativePlatform=d,c.isPluginAvailable=m,c.registerPlugin=I,c.Exception=ys,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c},To=g=>g.Capacitor=Io(g),Ns=To(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ls=Ns.registerPlugin;class oa{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(o,c){let x=!1;this.listeners[o]||(this.listeners[o]=[],x=!0),this.listeners[o].push(c);const d=this.windowListeners[o];d&&!d.registered&&this.addWindowListener(d),x&&this.sendRetainedArgumentsForEvent(o);const m=async()=>this.removeListener(o,c);return Promise.resolve({remove:m})}async removeAllListeners(){this.listeners={};for(const o in this.windowListeners)this.removeWindowListener(this.windowListeners[o]);this.windowListeners={}}notifyListeners(o,c,x){const h=this.listeners[o];if(!h){if(x){let d=this.retainedEventArguments[o];d||(d=[]),d.push(c),this.retainedEventArguments[o]=d}return}h.forEach(d=>d(c))}hasListeners(o){var c;return!!(!((c=this.listeners[o])===null||c===void 0)&&c.length)}registerWindowListener(o,c){this.windowListeners[c]={registered:!1,windowEventName:o,pluginEventName:c,handler:x=>{this.notifyListeners(c,x)}}}unimplemented(o="not implemented"){return new Ns.Exception(o,Xn.Unimplemented)}unavailable(o="not available"){return new Ns.Exception(o,Xn.Unavailable)}async removeListener(o,c){const x=this.listeners[o];if(!x)return;const h=x.indexOf(c);this.listeners[o].splice(h,1),this.listeners[o].length||this.removeWindowListener(this.windowListeners[o])}addWindowListener(o){window.addEventListener(o.windowEventName,o.handler),o.registered=!0}removeWindowListener(o){o&&(window.removeEventListener(o.windowEventName,o.handler),o.registered=!1)}sendRetainedArgumentsForEvent(o){const c=this.retainedEventArguments[o];c&&(delete this.retainedEventArguments[o],c.forEach(x=>{this.notifyListeners(o,x)}))}}const Vs=g=>encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Gs=g=>g.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class So extends oa{async getCookies(){const o=document.cookie,c={};return o.split(";").forEach(x=>{if(x.length<=0)return;let[h,d]=x.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");h=Gs(h).trim(),d=Gs(d).trim(),c[h]=d}),c}async setCookie(o){try{const c=Vs(o.key),x=Vs(o.value),h=`; expires=${(o.expires||"").replace("expires=","")}`,d=(o.path||"/").replace("path=",""),m=o.url!=null&&o.url.length>0?`domain=${o.url}`:"";document.cookie=`${c}=${x||""}${h}; path=${d}; ${m};`}catch(c){return Promise.reject(c)}}async deleteCookie(o){try{document.cookie=`${o.key}=; Max-Age=0`}catch(c){return Promise.reject(c)}}async clearCookies(){try{const o=document.cookie.split(";")||[];for(const c of o)document.cookie=c.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(o){return Promise.reject(o)}}async clearAllCookies(){try{await this.clearCookies()}catch(o){return Promise.reject(o)}}}Ls("CapacitorCookies",{web:()=>new So});const ko=async g=>new Promise((o,c)=>{const x=new FileReader;x.onload=()=>{const h=x.result;o(h.indexOf(",")>=0?h.split(",")[1]:h)},x.onerror=h=>c(h),x.readAsDataURL(g)}),No=(g={})=>{const o=Object.keys(g);return Object.keys(g).map(h=>h.toLocaleLowerCase()).reduce((h,d,m)=>(h[d]=g[o[m]],h),{})},Oo=(g,o=!0)=>g?Object.entries(g).reduce((x,h)=>{const[d,m]=h;let A,b;return Array.isArray(m)?(b="",m.forEach(f=>{A=o?encodeURIComponent(f):f,b+=`${d}=${A}&`}),b.slice(0,-1)):(A=o?encodeURIComponent(m):m,b=`${d}=${A}`),`${x}&${b}`},"").substr(1):null,Ro=(g,o={})=>{const c=Object.assign({method:g.method||"GET",headers:g.headers},o),h=No(g.headers)["content-type"]||"";if(typeof g.data=="string")c.body=g.data;else if(h.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[m,A]of Object.entries(g.data||{}))d.set(m,A);c.body=d.toString()}else if(h.includes("multipart/form-data")||g.data instanceof FormData){const d=new FormData;if(g.data instanceof FormData)g.data.forEach((A,b)=>{d.append(b,A)});else for(const A of Object.keys(g.data))d.append(A,g.data[A]);c.body=d;const m=new Headers(c.headers);m.delete("content-type"),c.headers=m}else(h.includes("application/json")||typeof g.data=="object")&&(c.body=JSON.stringify(g.data));return c};class Do extends oa{async request(o){const c=Ro(o,o.webFetchExtra),x=Oo(o.params,o.shouldEncodeUrlParams),h=x?`${o.url}?${x}`:o.url,d=await fetch(h,c),m=d.headers.get("content-type")||"";let{responseType:A="text"}=d.ok?o:{};m.includes("application/json")&&(A="json");let b,f;switch(A){case"arraybuffer":case"blob":f=await d.blob(),b=await ko(f);break;case"json":b=await d.json();break;case"document":case"text":default:b=await d.text()}const I={};return d.headers.forEach((y,S)=>{I[S]=y}),{data:b,headers:I,status:d.status,url:d.url}}async get(o){return this.request(Object.assign(Object.assign({},o),{method:"GET"}))}async post(o){return this.request(Object.assign(Object.assign({},o),{method:"POST"}))}async put(o){return this.request(Object.assign(Object.assign({},o),{method:"PUT"}))}async patch(o){return this.request(Object.assign(Object.assign({},o),{method:"PATCH"}))}async delete(o){return this.request(Object.assign(Object.assign({},o),{method:"DELETE"}))}}Ls("CapacitorHttp",{web:()=>new Do});var se;(function(g){g[g.QR_CODE=0]="QR_CODE",g[g.AZTEC=1]="AZTEC",g[g.CODABAR=2]="CODABAR",g[g.CODE_39=3]="CODE_39",g[g.CODE_93=4]="CODE_93",g[g.CODE_128=5]="CODE_128",g[g.DATA_MATRIX=6]="DATA_MATRIX",g[g.MAXICODE=7]="MAXICODE",g[g.ITF=8]="ITF",g[g.EAN_13=9]="EAN_13",g[g.EAN_8=10]="EAN_8",g[g.PDF_417=11]="PDF_417",g[g.RSS_14=12]="RSS_14",g[g.RSS_EXPANDED=13]="RSS_EXPANDED",g[g.UPC_A=14]="UPC_A",g[g.UPC_E=15]="UPC_E",g[g.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(se||(se={}));var Hs=new Map([[se.QR_CODE,"QR_CODE"],[se.AZTEC,"AZTEC"],[se.CODABAR,"CODABAR"],[se.CODE_39,"CODE_39"],[se.CODE_93,"CODE_93"],[se.CODE_128,"CODE_128"],[se.DATA_MATRIX,"DATA_MATRIX"],[se.MAXICODE,"MAXICODE"],[se.ITF,"ITF"],[se.EAN_13,"EAN_13"],[se.EAN_8,"EAN_8"],[se.PDF_417,"PDF_417"],[se.RSS_14,"RSS_14"],[se.RSS_EXPANDED,"RSS_EXPANDED"],[se.UPC_A,"UPC_A"],[se.UPC_E,"UPC_E"],[se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ws;(function(g){g[g.UNKNOWN=0]="UNKNOWN",g[g.URL=1]="URL"})(Ws||(Ws={}));function Mo(g){return Object.values(se).includes(g)}var zi;(function(g){g[g.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",g[g.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(zi||(zi={}));var Bo=(function(){function g(){}return g.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",g.SCAN_DEFAULT_FPS=2,g.DEFAULT_DISABLE_FLIP=!1,g.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,g.DEFAULT_SUPPORTED_SCAN_TYPE=[zi.SCAN_TYPE_CAMERA,zi.SCAN_TYPE_FILE],g})(),la=(function(){function g(o,c){this.format=o,this.formatName=c}return g.prototype.toString=function(){return this.formatName},g.create=function(o){if(!Hs.has(o))throw"".concat(o," not in html5QrcodeSupportedFormatsTextMap");return new g(o,Hs.get(o))},g})(),Xs=(function(){function g(){}return g.createFromText=function(o){var c={text:o};return{decodedText:o,result:c}},g.createFromQrcodeResult=function(o){return{decodedText:o.text,result:o}},g})(),Os;(function(g){g[g.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",g[g.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",g[g.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Os||(Os={}));var Lo=(function(){function g(){}return g.createFrom=function(o){return{errorMessage:o,type:Os.UNKWOWN_ERROR}},g})(),Po=(function(){function g(o){this.verbose=o}return g.prototype.log=function(o){this.verbose&&console.log(o)},g.prototype.warn=function(o){this.verbose&&console.warn(o)},g.prototype.logError=function(o,c){(this.verbose||c===!0)&&console.error(o)},g.prototype.logErrors=function(o){if(o.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(o)},g})();function Mr(g){return typeof g>"u"||g===null}var Wn=(function(){function g(){}return g.codeParseError=function(o){return"QR code parse error, error = ".concat(o)},g.errorGettingUserMedia=function(o){return"Error getting userMedia, error = ".concat(o)},g.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},g.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},g.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},g.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},g.scannerPaused=function(){return"Scanner paused"},g})(),ca=(function(){function g(){}return g.isMediaStreamConstraintsValid=function(o,c){if(typeof o!="object"){var x=typeof o;return c.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(x,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(h),m=Object.keys(o),A=0,b=m;A<b.length;A++){var f=b[A];if(d.has(f))return c.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},g})(),Ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fo(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var gi={exports:{}},Uo=gi.exports,Ys;function zo(){return Ys||(Ys=1,(function(g,o){(function(c,x){x(o)})(Uo,(function(c){function x(v){return v==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,e){v.__proto__=e}||function(v,e){for(var t in e)e.hasOwnProperty(t)&&(v[t]=e[t])};function d(v,e){h(v,e);function t(){this.constructor=v}v.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function m(v,e){var t=Object.setPrototypeOf;t?t(v,e):v.__proto__=e}function A(v,e){e===void 0&&(e=v.constructor);var t=Error.captureStackTrace;t&&t(v,e)}var b=(function(v){d(e,v);function e(t){var r=this.constructor,n=v.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),m(n,r.prototype),A(n),n}return e})(Error);class f extends b{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}f.kind="Exception";class I extends f{}I.kind="ArgumentException";class y extends f{}y.kind="IllegalArgumentException";class S{constructor(e){if(this.binarizer=e,e===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const i=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new S(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends f{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class X{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class H extends f{}H.kind="IndexOutOfBoundsException";class Ie extends H{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}Ie.kind="ArrayIndexOutOfBoundsException";class me{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){me.rangeCheck(e.length,t,r);for(let i=t;i<r;i++)e[i]=n}static rangeCheck(e,t,r){if(t>r)throw new y("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new Ie(t);if(r>e)throw new Ie(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(i=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(i=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,i=new Int32Array(n);return j.arraycopy(e,t,i,0,n),i}static binarySearch(e,t,r){r===void 0&&(r=me.numberComparator);let n=0,i=e.length-1;for(;n<=i;){const s=i+n>>1,a=r(t,e[s]);if(a>0)n=s+1;else if(a<0)i=s-1;else return s}return-n-1}static numberComparator(e,t){return e-t}}class ${static numberOfTrailingZeros(e){let t;if(e===0)return 32;let r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}$.MIN_VALUE_32_BITS=-2147483648,$.MAX_VALUE=Number.MAX_SAFE_INTEGER;class te{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=te.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=te.makeArray(e);j.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=r[n];i&=~((1<<(e&31))-1);const s=r.length;for(;i===0;){if(++n===s)return t;i=r[n]}const a=n*32+$.numberOfTrailingZeros(i);return a>t?t:a}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=~r[n];i&=~((1<<(e&31))-1);const s=r.length;for(;i===0;){if(++n===s)return t;i=~r[n]}const a=n*32+$.numberOfTrailingZeros(i);return a>t?t:a}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new y;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits;for(let s=r;s<=n;s++){const a=s>r?0:e&31,u=(2<<(s<n?31:t&31))-(1<<a);i[s]|=u}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new y;if(t===e)return!0;t--;const n=Math.floor(e/32),i=Math.floor(t/32),s=this.bits;for(let a=n;a<=i;a++){const l=a>n?0:e&31,w=(2<<(a<i?31:t&31))-(1<<l)&4294967295;if((s[a]&w)!==(r?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new y("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let i=0;i<n;i++){let s=0;for(let a=0;a<8;a++)this.get(e)&&(s|=1<<7-a),e++;t[r+i]=s}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let i=0;i<r;i++){let s=n[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-i]=s}if(this.size!==r*32){const i=r*32-this.size;let s=e[0]>>>i;for(let a=1;a<r;a++){const l=e[a];s|=l<<32-i,e[a-1]=s,s=l>>>i}e[r-1]=s}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof te))return!1;const t=e;return this.size===t.size&&me.equals(this.bits,t.bits)}hashCode(){return 31*this.size+me.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new te(this.size,this.bits.slice())}}var Ce;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ce||(Ce={}));var he=Ce;class G extends f{static getFormatInstance(){return new G}}G.kind="FormatException";var xe;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(xe||(xe={}));class z{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=n,z.VALUE_IDENTIFIER_TO_ECI.set(e,this),z.NAME_TO_ECI.set(r,this);const i=this.values;for(let s=0,a=i.length;s!==a;s++){const l=i[s];z.VALUES_TO_ECI.set(l,this)}for(const s of n)z.NAME_TO_ECI.set(s,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new G("incorect value");const t=z.VALUES_TO_ECI.get(e);if(t===void 0)throw new G("incorect value");return t}static getCharacterSetECIByName(e){const t=z.NAME_TO_ECI.get(e);if(t===void 0)throw new G("incorect value");return t}equals(e){if(!(e instanceof z))return!1;const t=e;return this.getName()===t.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(xe.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(xe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(xe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(xe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(xe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(xe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(xe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(xe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(xe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(xe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(xe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(xe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(xe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(xe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(xe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(xe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(xe.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(xe.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(xe.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(xe.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(xe.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(xe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(xe.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(xe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(xe.Big5,28,"Big5"),z.GB18030=new z(xe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(xe.EUC_KR,30,"EUC_KR","EUC-KR");class Be extends f{}Be.kind="UnsupportedOperationException";class Se{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!Se.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof z?e:z.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(Se.isDecodeFallbackSupported(r)){let n="";for(let i=0,s=e.length;i<s;i++){let a=e[i].toString(16);a.length<2&&(a="0"+a),n+="%"+a}return decodeURIComponent(n)}if(r.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Be(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(z.UTF8)||e.equals(z.ISO8859_1)||e.equals(z.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let i=0;i<r.length;i++)n.push(r[i].charCodeAt(0));return new Uint8Array(n)}}class ie{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return Se.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(t!=null&&t.get(he.CHARACTER_SET)!==void 0)return t.get(he.CHARACTER_SET).toString();const r=e.length;let n=!0,i=!0,s=!0,a=0,l=0,u=0,w=0,C=0,E=0,T=0,k=0,O=0,D=0,P=0;const Y=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Z=0;Z<r&&(n||i||s);Z++){const W=e[Z]&255;s&&(a>0?(W&128)===0?s=!1:a--:(W&128)!==0&&((W&64)===0?s=!1:(a++,(W&32)===0?l++:(a++,(W&16)===0?u++:(a++,(W&8)===0?w++:s=!1))))),n&&(W>127&&W<160?n=!1:W>159&&(W<192||W===215||W===247)&&P++),i&&(C>0?W<64||W===127||W>252?i=!1:C--:W===128||W===160||W>239?i=!1:W>160&&W<224?(E++,k=0,T++,T>O&&(O=T)):W>127?(C++,T=0,k++,k>D&&(D=k)):(T=0,k=0))}return s&&a>0&&(s=!1),i&&C>0&&(i=!1),s&&(Y||l+u+w>0)?ie.UTF8:i&&(ie.ASSUME_SHIFT_JIS||O>=3||D>=3)?ie.SHIFT_JIS:n&&i?O===2&&E===2||P*10>=r?ie.SHIFT_JIS:ie.ISO88591:n?ie.ISO88591:i?ie.SHIFT_JIS:s?ie.UTF8:ie.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function n(s,a,l,u,w,C){if(s==="%%")return"%";if(t[++r]===void 0)return;s=u?parseInt(u.substr(1)):void 0;let E=w?parseInt(w.substr(1)):void 0,T;switch(C){case"s":T=t[r];break;case"c":T=t[r][0];break;case"f":T=parseFloat(t[r]).toFixed(s);break;case"p":T=parseFloat(t[r]).toPrecision(s);break;case"e":T=parseFloat(t[r]).toExponential(s);break;case"x":T=parseInt(t[r]).toString(E||16);break;case"d":T=parseFloat(parseInt(t[r],E||10).toPrecision(s)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(E);let k=parseInt(l),O=l&&l[0]+""=="0"?"0":" ";for(;T.length<k;)T=a!==void 0?T+O:O+T;return T}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}static getBytes(e,t){return Se.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}ie.SHIFT_JIS=z.SJIS.getName(),ie.GB2312="GB2312",ie.ISO88591=z.ISO8859_1.getName(),ie.EUC_JP="EUC_JP",ie.UTF8=z.UTF8.getName(),ie.PLATFORM_DEFAULT_ENCODING=ie.UTF8,ie.ASSUME_SHIFT_JIS=!1;class _e{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class Ue{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,t==null&&(t=e),this.height=t,e<1||t<1)throw new y("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,n==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new Ue(r,t);for(let i=0;i<t;i++){const s=e[i];for(let a=0;a<r;a++)s[a]&&n.set(a,i)}return n}static parseFromString(e,t,r){if(e===null)throw new y("stringRepresentation cannot be null");const n=new Array(e.length);let i=0,s=0,a=-1,l=0,u=0;for(;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(i>s){if(a===-1)a=i-s;else if(i-s!==a)throw new y("row lengths do not match");s=i,l++}u++}else if(e.substring(u,u+t.length)===t)u+=t.length,n[i]=!0,i++;else if(e.substring(u,u+r.length)===r)u+=r.length,n[i]=!1,i++;else throw new y("illegal character encountered: "+e.substring(u));if(i>s){if(a===-1)a=i-s;else if(i-s!==a)throw new y("row lengths do not match");l++}const w=new Ue(a,l);for(let C=0;C<i;C++)n[C]&&w.set(Math.floor(C%a),Math.floor(C/a));return w}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new y("input matrix dimensions do not match");const t=new te(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,s=this.height;i<s;i++){const a=i*r,l=e.getRow(i,t).getBitArray();for(let u=0;u<r;u++)n[a+u]^=l[u]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new y("Left and top must be nonnegative");if(n<1||r<1)throw new y("Height and width must be at least 1");const i=e+r,s=t+n;if(s>this.height||i>this.width)throw new y("The region must fit inside the matrix");const a=this.rowSize,l=this.bits;for(let u=t;u<s;u++){const w=u*a;for(let C=e;C<i;C++)l[w+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new te(this.width):t.clear();const r=this.rowSize,n=this.bits,i=e*r;for(let s=0;s<r;s++)t.setBulk(s*32,n[i+s]);return t}setRow(e,t){j.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new te(e),n=new te(e);for(let i=0,s=Math.floor((t+1)/2);i<s;i++)r=this.getRow(i,r),n=this.getRow(t-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(t-1-i,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let i=e,s=t,a=-1,l=-1;for(let u=0;u<t;u++)for(let w=0;w<r;w++){const C=n[u*r+w];if(C!==0){if(u<s&&(s=u),u>l&&(l=u),w*32<i){let E=0;for(;(C<<31-E&4294967295)===0;)E++;w*32+E<i&&(i=w*32+E)}if(w*32+31>a){let E=31;for(;!(C>>>E);)E--;w*32+E>a&&(a=w*32+E)}}}return a<i||l<s?null:Int32Array.from([i,s,a-i+1,l-s+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;const n=r/e;let i=r%e*32;const s=t[r];let a=0;for(;(s<<31-a&4294967295)===0;)a++;return i+=a,Int32Array.from([i,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&t[r]===0;)r--;if(r<0)return null;const n=Math.floor(r/e);let i=Math.floor(r%e)*32;const s=t[r];let a=31;for(;!(s>>>a);)a--;return i+=a,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Ue))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&me.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+me.hashCode(this.bits),e}toString(e="X ",t="  ",r=`
`){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new _e;for(let i=0,s=this.height;i<s;i++){for(let a=0,l=this.width;a<l;a++)n.append(this.get(a,i)?e:t);n.append(r)}return n.toString()}clone(){return new Ue(this.width,this.height,this.rowSize,this.bits.slice())}}class U extends f{static getNotFoundInstance(){return new U}}U.kind="NotFoundException";class We extends X{constructor(e){super(e),this.luminances=We.EMPTY,this.buckets=new Int32Array(We.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();t==null||t.getSize()<n?t=new te(n):t.clear(),this.initArrays(n);const i=r.getRow(e,this.luminances),s=this.buckets;for(let l=0;l<n;l++)s[(i[l]&255)>>We.LUMINANCE_SHIFT]++;const a=We.estimateBlackPoint(s);if(n<3)for(let l=0;l<n;l++)(i[l]&255)<a&&t.set(l);else{let l=i[0]&255,u=i[1]&255;for(let w=1;w<n-1;w++){const C=i[w+1]&255;(u*4-l-C)/2<a&&t.set(w),l=u,u=C}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new Ue(t,r);this.initArrays(t);const i=this.buckets;for(let l=1;l<5;l++){const u=Math.floor(r*l/5),w=e.getRow(u,this.luminances),C=Math.floor(t*4/5);for(let E=Math.floor(t/5);E<C;E++){const T=w[E]&255;i[T>>We.LUMINANCE_SHIFT]++}}const s=We.estimateBlackPoint(i),a=e.getMatrix();for(let l=0;l<r;l++){const u=l*t;for(let w=0;w<t;w++)(a[u+w]&255)<s&&n.set(w,l)}return n}createBinarizer(e){return new We(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<We.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,i=0;for(let w=0;w<t;w++)e[w]>i&&(n=w,i=e[w]),e[w]>r&&(r=e[w]);let s=0,a=0;for(let w=0;w<t;w++){const C=w-n,E=e[w]*C*C;E>a&&(s=w,a=E)}if(n>s){const w=n;n=s,s=w}if(s-n<=t/16)throw new U;let l=s-1,u=-1;for(let w=s-1;w>n;w--){const C=w-n,E=C*C*(s-w)*(r-e[w]);E>u&&(l=w,u=E)}return l<<We.LUMINANCE_SHIFT}}We.LUMINANCE_BITS=5,We.LUMINANCE_SHIFT=8-We.LUMINANCE_BITS,We.LUMINANCE_BUCKETS=1<<We.LUMINANCE_BITS,We.EMPTY=Uint8ClampedArray.from([0]);class Te extends We{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=Te.MINIMUM_DIMENSION&&r>=Te.MINIMUM_DIMENSION){const n=e.getMatrix();let i=t>>Te.BLOCK_SIZE_POWER;(t&Te.BLOCK_SIZE_MASK)!==0&&i++;let s=r>>Te.BLOCK_SIZE_POWER;(r&Te.BLOCK_SIZE_MASK)!==0&&s++;const a=Te.calculateBlackPoints(n,i,s,t,r),l=new Ue(t,r);Te.calculateThresholdForBlock(n,i,s,t,r,a,l),this.matrix=l}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Te(e)}static calculateThresholdForBlock(e,t,r,n,i,s,a){const l=i-Te.BLOCK_SIZE,u=n-Te.BLOCK_SIZE;for(let w=0;w<r;w++){let C=w<<Te.BLOCK_SIZE_POWER;C>l&&(C=l);const E=Te.cap(w,2,r-3);for(let T=0;T<t;T++){let k=T<<Te.BLOCK_SIZE_POWER;k>u&&(k=u);const O=Te.cap(T,2,t-3);let D=0;for(let Y=-2;Y<=2;Y++){const Z=s[E+Y];D+=Z[O-2]+Z[O-1]+Z[O]+Z[O+1]+Z[O+2]}const P=D/25;Te.thresholdBlock(e,k,C,P,n,a)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,i,s){for(let a=0,l=r*i+t;a<Te.BLOCK_SIZE;a++,l+=i)for(let u=0;u<Te.BLOCK_SIZE;u++)(e[l+u]&255)<=n&&s.set(t+u,r+a)}static calculateBlackPoints(e,t,r,n,i){const s=i-Te.BLOCK_SIZE,a=n-Te.BLOCK_SIZE,l=new Array(r);for(let u=0;u<r;u++){l[u]=new Int32Array(t);let w=u<<Te.BLOCK_SIZE_POWER;w>s&&(w=s);for(let C=0;C<t;C++){let E=C<<Te.BLOCK_SIZE_POWER;E>a&&(E=a);let T=0,k=255,O=0;for(let P=0,Y=w*n+E;P<Te.BLOCK_SIZE;P++,Y+=n){for(let Z=0;Z<Te.BLOCK_SIZE;Z++){const W=e[Y+Z]&255;T+=W,W<k&&(k=W),W>O&&(O=W)}if(O-k>Te.MIN_DYNAMIC_RANGE)for(P++,Y+=n;P<Te.BLOCK_SIZE;P++,Y+=n)for(let Z=0;Z<Te.BLOCK_SIZE;Z++)T+=e[Y+Z]&255}let D=T>>Te.BLOCK_SIZE_POWER*2;if(O-k<=Te.MIN_DYNAMIC_RANGE&&(D=k/2,u>0&&C>0)){const P=(l[u-1][C]+2*l[u][C-1]+l[u-1][C-1])/4;k<P&&(D=P)}l[u][C]=D}}return l}}Te.BLOCK_SIZE_POWER=3,Te.BLOCK_SIZE=1<<Te.BLOCK_SIZE_POWER,Te.BLOCK_SIZE_MASK=Te.BLOCK_SIZE-1,Te.MINIMUM_DIMENSION=Te.BLOCK_SIZE*5,Te.MIN_DYNAMIC_RANGE=24;class Cr{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new Be("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Be("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Be("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new _e;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let i=0;i<this.width;i++){const s=n[i]&255;let a;s<64?a="#":s<128?a="+":s<192?a=".":a=" ",t.append(a)}t.append(`
`)}return t.toString()}}class Et extends Cr{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let i=0;i<n;i++)r[i]=255-(r[i]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(e[n]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new Et(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Et(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Et(this.delegate.rotateCounterClockwise45())}}class Bt extends Cr{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Bt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Bt.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let i=0,s=0,a=e.length;i<a;i+=4,s++){let l;if(e[i+3]===0)l=255;else{const w=e[i],C=e[i+1],E=e[i+2];l=306*w+601*C+117*E+512>>10}n[s]=l}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return t===null?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*Bt.DEGREE_TO_RADIANS,i=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*s),l=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*s);return t.width=a,t.height=l,r.translate(a/2,l/2),r.rotate(n),r.drawImage(this.canvas,i/-2,s/-2),this.buffer=Bt.makeBufferFromCanvasImageData(t),this}invert(){return new Et(this)}}Bt.DEGREE_TO_RADIANS=Math.PI/180;class Ar{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var mt=(globalThis||Ui||self||window||void 0)&&(globalThis||Ui||self||window||void 0).__awaiter||function(v,e,t,r){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(w){try{u(r.next(w))}catch(C){s(C)}}function l(w){try{u(r.throw(w))}catch(C){s(C)}}function u(w){w.done?i(w.value):n(w.value).then(a,l)}u((r=r.apply(v,e||[])).next())})};class er{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return mt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const n=r.kind==="video"?"videoinput":r.kind;if(n!=="videoinput")continue;const i=r.deviceId||r.id,s=r.label||`Video device ${t.length+1}`,a=r.groupId,l={deviceId:i,label:s,kind:n,groupId:a};t.push(l)}return t})}getVideoInputDevices(){return mt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new Ar(t.deviceId,t.label))})}findDeviceById(e){return mt(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return mt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return mt(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)})}decodeOnceFromConstraints(e,t){return mt(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return mt(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return mt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return mt(this,void 0,void 0,function*(){let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const i={video:n};return yield this.decodeFromConstraints(i,t,r)})}decodeFromConstraints(e,t,r){return mt(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)})}decodeFromStream(e,t,r){return mt(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return mt(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return mt(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new I(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new I(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new I("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new I("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(e===void 0&&t===void 0)throw new I("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new I("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new I("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new I("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new I("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new I("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return mt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return mt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,s)=>{if(this._stopAsyncDecode){s(new U("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const a=this.decode(e);i(a)}catch(a){const l=t&&a instanceof U,w=(a instanceof N||a instanceof G)&&r;if(l||w)return setTimeout(n,this._timeBetweenDecodingAttempts,i,s);s(a)}};return new Promise((i,s)=>n(i,s))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(n){t(null,n);const i=n instanceof N||n instanceof G,s=n instanceof U;(i||s)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new Bt(t),n=new Te(r);return new S(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Le{constructor(e,t,r=t==null?0:8*t.length,n,i,s=j.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=n,this.format=i,this.resultMetadata=null,s==null?this.timestamp=j.currentTimeMillis():this.timestamp=s}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(t.length+e.length);j.arraycopy(t,0,r,0,t.length),j.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Br;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Br||(Br={}));var Ae=Br,Yn;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Yn||(Yn={}));var wt=Yn;class Zt{constructor(e,t,r,n,i=-1,s=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ir{exp(e){return this.expTable[e]}log(e){if(e===0)throw new y;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class pt{constructor(e,t){if(t.length===0)throw new y;this.field=e;const r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),j.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let r;if(e===1){r=0;for(let s=0,a=t.length;s!==a;s++){const l=t[s];r=ir.addOrSubtract(r,l)}return r}r=t[0];const n=t.length,i=this.field;for(let s=1;s<n;s++)r=ir.addOrSubtract(i.multiply(e,r),t[s]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const s=t;t=r,r=s}let n=new Int32Array(r.length);const i=r.length-t.length;j.arraycopy(r,0,n,0,i);for(let s=i;s<r.length;s++)n[s]=ir.addOrSubtract(t[s-i],r[s]);return new pt(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,s=new Int32Array(r+i-1),a=this.field;for(let l=0;l<r;l++){const u=t[l];for(let w=0;w<i;w++)s[l+w]=ir.addOrSubtract(s[l+w],a.multiply(u,n[w]))}return new pt(a,s)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),i=this.coefficients;for(let s=0;s<t;s++)n[s]=r.multiply(i[s],e);return new pt(r,n)}multiplyByMonomial(e,t){if(e<0)throw new y;if(t===0)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+e),s=this.field;for(let a=0;a<n;a++)i[a]=s.multiply(r[a],t);return new pt(s,i)}divide(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new y("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const i=e.getCoefficient(e.getDegree()),s=t.inverse(i);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const a=n.getDegree()-e.getDegree(),l=t.multiply(n.getCoefficient(n.getDegree()),s),u=e.multiplyByMonomial(a,l),w=t.buildMonomial(a,l);r=r.addOrSubtract(w),n=n.addOrSubtract(u)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){const n=this.field.log(r);n===0?e+="1":n===1?e+="a":(e+="a^",e+=n)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class mn extends f{}mn.kind="ArithmeticException";class ze extends ir{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let i=1;for(let a=0;a<t;a++)n[a]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=n;const s=new Int32Array(t);for(let a=0;a<t-1;a++)s[n[a]]=a;this.logTable=s,this.zero=new pt(this,Int32Array.from([0])),this.one=new pt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new y;if(t===0)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new pt(this,r)}inverse(e){if(e===0)throw new mn;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+$.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ze.AZTEC_DATA_12=new ze(4201,4096,1),ze.AZTEC_DATA_10=new ze(1033,1024,1),ze.AZTEC_DATA_6=new ze(67,64,1),ze.AZTEC_PARAM=new ze(19,16,1),ze.QR_CODE_FIELD_256=new ze(285,256,0),ze.DATA_MATRIX_FIELD_256=new ze(301,256,1),ze.AZTEC_DATA_8=ze.DATA_MATRIX_FIELD_256,ze.MAXICODE_FIELD_64=ze.AZTEC_DATA_6;class Xt extends f{}Xt.kind="ReedSolomonException";class Lt extends f{}Lt.kind="IllegalStateException";class Er{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new pt(r,e),i=new Int32Array(t);let s=!0;for(let T=0;T<t;T++){const k=n.evaluateAt(r.exp(T+r.getGeneratorBase()));i[i.length-1-T]=k,k!==0&&(s=!1)}if(s)return;const a=new pt(r,i),l=this.runEuclideanAlgorithm(r.buildMonomial(t,1),a,t),u=l[0],w=l[1],C=this.findErrorLocations(u),E=this.findErrorMagnitudes(w,C);for(let T=0;T<C.length;T++){const k=e.length-1-r.log(C[T]);if(k<0)throw new Xt("Bad error location");e[k]=ze.addOrSubtract(e[k],E[T])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const T=e;e=t,t=T}const n=this.field;let i=e,s=t,a=n.getZero(),l=n.getOne();for(;s.getDegree()>=(r/2|0);){let T=i,k=a;if(i=s,a=l,i.isZero())throw new Xt("r_{i-1} was zero");s=T;let O=n.getZero();const D=i.getCoefficient(i.getDegree()),P=n.inverse(D);for(;s.getDegree()>=i.getDegree()&&!s.isZero();){const Y=s.getDegree()-i.getDegree(),Z=n.multiply(s.getCoefficient(s.getDegree()),P);O=O.addOrSubtract(n.buildMonomial(Y,Z)),s=s.addOrSubtract(i.multiplyByMonomial(Y,Z))}if(l=O.multiply(a).addOrSubtract(k),s.getDegree()>=i.getDegree())throw new Lt("Division algorithm failed to reduce polynomial?")}const u=l.getCoefficient(0);if(u===0)throw new Xt("sigmaTilde(0) was zero");const w=n.inverse(u),C=l.multiplyScalar(w),E=s.multiplyScalar(w);return[C,E]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const i=this.field;for(let s=1;s<i.getSize()&&n<t;s++)e.evaluateAt(s)===0&&(r[n]=i.inverse(s),n++);if(n!==t)throw new Xt("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),i=this.field;for(let s=0;s<r;s++){const a=i.inverse(t[s]);let l=1;for(let u=0;u<r;u++)if(s!==u){const w=i.multiply(t[u],a),C=(w&1)===0?w|1:w&-2;l=i.multiply(l,C)}n[s]=i.multiply(e.evaluateAt(a),i.inverse(l)),i.getGeneratorBase()!==0&&(n[s]=i.multiply(n[s],a))}return n}}var bt;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(bt||(bt={}));class Ke{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),i=Ke.convertBoolArrayToByteArray(n),s=Ke.getEncodedData(n),a=new Zt(i,s,null,null);return a.setNumBits(n.length),a}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=bt.UPPER,n=bt.UPPER,i="",s=0;for(;s<t;)if(n===bt.BINARY){if(t-s<5)break;let a=Ke.readCode(e,s,5);if(s+=5,a===0){if(t-s<11)break;a=Ke.readCode(e,s,11)+31,s+=11}for(let l=0;l<a;l++){if(t-s<8){s=t;break}const u=Ke.readCode(e,s,8);i+=ie.castAsNonUtf8Char(u),s+=8}n=r}else{let a=n===bt.DIGIT?4:5;if(t-s<a)break;let l=Ke.readCode(e,s,a);s+=a;let u=Ke.getCharacter(n,l);u.startsWith("CTRL_")?(r=n,n=Ke.getTable(u.charAt(5)),u.charAt(6)==="L"&&(r=n)):(i+=u,n=r)}return i}static getTable(e){switch(e){case"L":return bt.LOWER;case"P":return bt.PUNCT;case"M":return bt.MIXED;case"D":return bt.DIGIT;case"B":return bt.BINARY;case"U":default:return bt.UPPER}}static getCharacter(e,t){switch(e){case bt.UPPER:return Ke.UPPER_TABLE[t];case bt.LOWER:return Ke.LOWER_TABLE[t];case bt.MIXED:return Ke.MIXED_TABLE[t];case bt.PUNCT:return Ke.PUNCT_TABLE[t];case bt.DIGIT:return Ke.DIGIT_TABLE[t];default:throw new Lt("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=ze.AZTEC_DATA_10):(r=12,t=ze.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=e.length/r;if(i<n)throw new G;let s=e.length%r,a=new Int32Array(i);for(let E=0;E<i;E++,s+=r)a[E]=Ke.readCode(e,s,r);try{new Er(t).decode(a,i-n)}catch(E){throw new G(E)}let l=(1<<r)-1,u=0;for(let E=0;E<n;E++){let T=a[E];if(T===0||T===l)throw new G;(T===1||T===l-1)&&u++}let w=new Array(n*r-u),C=0;for(let E=0;E<n;E++){let T=a[E];if(T===1||T===l-1)w.fill(T>1,C,C+r-1),C+=r-1;else for(let k=r-1;k>=0;--k)w[C++]=(T&1<<k)!==0}return w}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+r*4,i=new Int32Array(n),s=new Array(this.totalBitsInLayer(r,t));if(t)for(let a=0;a<i.length;a++)i[a]=a;else{let a=n+1+2*$.truncDivision($.truncDivision(n,2)-1,15),l=n/2,u=$.truncDivision(a,2);for(let w=0;w<l;w++){let C=w+$.truncDivision(w,15);i[l-w-1]=u-C-1,i[l+w]=u+C+1}}for(let a=0,l=0;a<r;a++){let u=(r-a)*4+(t?9:12),w=a*2,C=n-1-w;for(let E=0;E<u;E++){let T=E*2;for(let k=0;k<2;k++)s[l+T+k]=e.get(i[w+k],i[w+E]),s[l+2*u+T+k]=e.get(i[w+E],i[C-k]),s[l+4*u+T+k]=e.get(i[C-k],i[C-E]),s[l+6*u+T+k]=e.get(i[C-E],i[w+k])}l+=u*8}return s}static readCode(e,t,r){let n=0;for(let i=t;i<t+r;i++)n<<=1,e[i]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?Ke.readCode(e,t,8):Ke.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=Ke.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ne{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const i=e-r,s=t-n;return Math.sqrt(i*i+s*s)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++){const i=e[r];t+=i}return t}}class pr{static floatToIntBits(e){return e}}pr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class de{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof de){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*pr.floatToIntBits(this.x)+pr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let i,s,a;if(r>=t&&r>=n?(s=e[0],i=e[1],a=e[2]):n>=r&&n>=t?(s=e[1],i=e[0],a=e[2]):(s=e[2],i=e[0],a=e[1]),this.crossProductZ(i,s,a)<0){const l=i;i=a,a=l}e[0]=i,e[1]=s,e[2]=a}static distance(e,t){return Ne.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}}class bn{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class xi extends bn{constructor(e,t,r,n,i){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Nt{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=Nt.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),n==null&&(n=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=n-i,this.downInit=n+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,s=!0,a=!1,l=!1,u=!1,w=!1,C=!1;const E=this.width,T=this.height;for(;s;){s=!1;let k=!0;for(;(k||!l)&&t<E;)k=this.containsBlackPoint(r,n,t,!1),k?(t++,s=!0,l=!0):l||t++;if(t>=E){i=!0;break}let O=!0;for(;(O||!u)&&n<T;)O=this.containsBlackPoint(e,t,n,!0),O?(n++,s=!0,u=!0):u||n++;if(n>=T){i=!0;break}let D=!0;for(;(D||!w)&&e>=0;)D=this.containsBlackPoint(r,n,e,!1),D?(e--,s=!0,w=!0):w||e--;if(e<0){i=!0;break}let P=!0;for(;(P||!C)&&r>=0;)P=this.containsBlackPoint(e,t,r,!0),P?(r--,s=!0,C=!0):C||r--;if(r<0){i=!0;break}s&&(a=!0)}if(!i&&a){const k=t-e;let O=null;for(let Z=1;O===null&&Z<k;Z++)O=this.getBlackPointOnSegment(e,n-Z,e+Z,n);if(O==null)throw new U;let D=null;for(let Z=1;D===null&&Z<k;Z++)D=this.getBlackPointOnSegment(e,r+Z,e+Z,r);if(D==null)throw new U;let P=null;for(let Z=1;P===null&&Z<k;Z++)P=this.getBlackPointOnSegment(t,r+Z,t-Z,r);if(P==null)throw new U;let Y=null;for(let Z=1;Y===null&&Z<k;Z++)Y=this.getBlackPointOnSegment(t,n-Z,t-Z,n);if(Y==null)throw new U;return this.centerEdges(Y,O,P,D)}else throw new U}getBlackPointOnSegment(e,t,r,n){const i=Ne.round(Ne.distance(e,t,r,n)),s=(r-e)/i,a=(n-t)/i,l=this.image;for(let u=0;u<i;u++){const w=Ne.round(e+u*s),C=Ne.round(t+u*a);if(l.get(w,C))return new de(w,C)}return null}centerEdges(e,t,r,n){const i=e.getX(),s=e.getY(),a=t.getX(),l=t.getY(),u=r.getX(),w=r.getY(),C=n.getX(),E=n.getY(),T=Nt.CORR;return i<this.width/2?[new de(C-T,E+T),new de(a+T,l+T),new de(u-T,w-T),new de(i+T,s-T)]:[new de(C+T,E+T),new de(a+T,l-T),new de(u-T,w+T),new de(i-T,s-T)]}containsBlackPoint(e,t,r,n){const i=this.image;if(n){for(let s=e;s<=t;s++)if(i.get(s,r))return!0}else for(let s=e;s<=t;s++)if(i.get(r,s))return!0;return!1}}Nt.INIT_SIZE=10,Nt.CORR=1;class Lr{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let i=!0;for(let s=0;s<t.length&&i;s+=2){const a=Math.floor(t[s]),l=Math.floor(t[s+1]);if(a<-1||a>r||l<-1||l>n)throw new U;i=!1,a===-1?(t[s]=0,i=!0):a===r&&(t[s]=r-1,i=!0),l===-1?(t[s+1]=0,i=!0):l===n&&(t[s+1]=n-1,i=!0)}i=!0;for(let s=t.length-2;s>=0&&i;s-=2){const a=Math.floor(t[s]),l=Math.floor(t[s+1]);if(a<-1||a>r||l<-1||l>n)throw new U;i=!1,a===-1?(t[s]=0,i=!0):a===r&&(t[s]=r-1,i=!0),l===-1?(t[s+1]=0,i=!0):l===n&&(t[s+1]=n-1,i=!0)}}}class Pt{constructor(e,t,r,n,i,s,a,l,u){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=s,this.a13=a,this.a23=l,this.a33=u}static quadrilateralToQuadrilateral(e,t,r,n,i,s,a,l,u,w,C,E,T,k,O,D){const P=Pt.quadrilateralToSquare(e,t,r,n,i,s,a,l);return Pt.squareToQuadrilateral(u,w,C,E,T,k,O,D).times(P)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,i=this.a13,s=this.a21,a=this.a22,l=this.a23,u=this.a31,w=this.a32,C=this.a33;for(let E=0;E<t;E+=2){const T=e[E],k=e[E+1],O=i*T+l*k+C;e[E]=(r*T+s*k+u)/O,e[E+1]=(n*T+a*k+w)/O}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,i=this.a13,s=this.a21,a=this.a22,l=this.a23,u=this.a31,w=this.a32,C=this.a33,E=e.length;for(let T=0;T<E;T++){const k=e[T],O=t[T],D=i*k+l*O+C;e[T]=(r*k+s*O+u)/D,t[T]=(n*k+a*O+w)/D}}static squareToQuadrilateral(e,t,r,n,i,s,a,l){const u=e-r+i-a,w=t-n+s-l;if(u===0&&w===0)return new Pt(r-e,i-r,e,n-t,s-n,t,0,0,1);{const C=r-i,E=a-i,T=n-s,k=l-s,O=C*k-E*T,D=(u*k-E*w)/O,P=(C*w-u*T)/O;return new Pt(r-e+D*r,a-e+P*a,e,n-t+D*n,l-t+P*l,t,D,P,1)}}static quadrilateralToSquare(e,t,r,n,i,s,a,l){return Pt.squareToQuadrilateral(e,t,r,n,i,s,a,l).buildAdjoint()}buildAdjoint(){return new Pt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Pt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class wi extends Lr{sampleGrid(e,t,r,n,i,s,a,l,u,w,C,E,T,k,O,D,P,Y,Z){const W=Pt.quadrilateralToQuadrilateral(n,i,s,a,l,u,w,C,E,T,k,O,D,P,Y,Z);return this.sampleGridWithTransform(e,t,r,W)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new U;const i=new Ue(t,r),s=new Float32Array(2*t);for(let a=0;a<r;a++){const l=s.length,u=a+.5;for(let w=0;w<l;w+=2)s[w]=w/2+.5,s[w+1]=u;n.transformPoints(s),Lr.checkAndNudgePoints(e,s);try{for(let w=0;w<l;w+=2)e.get(Math.floor(s[w]),Math.floor(s[w+1]))&&i.set(w/2,a)}catch{throw new U}}return i}}class sr{static setGridSampler(e){sr.gridSampler=e}static getInstance(){return sr.gridSampler}}sr.gridSampler=new wi;class lt{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new de(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class rn{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let s=r[0];r[0]=r[2],r[2]=s}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),i=this.getMatrixCornerPoints(r);return new xi(n,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new U;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let s=0;s<4;s++){let a=r[(this.shift+s)%4];this.compact?(n<<=7,n+=a>>1&127):(n<<=10,n+=(a>>2&992)+(a>>1&31))}let i=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=(i>>6)+1,this.nbDataBlocks=(i&63)+1):(this.nbLayers=(i>>11)+1,this.nbDataBlocks=(i&2047)+1)}getRotation(e,t){let r=0;e.forEach((n,i,s)=>{let a=(n>>t-2<<1)+(n&1);r=(r<<3)+a}),r=((r&1)<<11)+(r>>1);for(let n=0;n<4;n++)if($.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new U}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let i=r-n,s=new Int32Array(r);for(let l=r-1;l>=0;--l)s[l]=e&15,e>>=4;try{new Er(ze.AZTEC_PARAM).decode(s,i)}catch{throw new U}let a=0;for(let l=0;l<n;l++)a=(a<<4)+s[l];return a}getBullsEyeCorners(e){let t=e,r=e,n=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(t,s,1,-1),E=this.getFirstDifferent(r,s,1,1),T=this.getFirstDifferent(n,s,-1,1),k=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){let O=this.distancePoint(k,C)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(O<.75||O>1.25||!this.isWhiteOrBlackRectangle(C,E,T,k))break}t=C,r=E,n=T,i=k,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;let a=new de(t.getX()+.5,t.getY()-.5),l=new de(r.getX()+.5,r.getY()+.5),u=new de(n.getX()-.5,n.getY()+.5),w=new de(i.getX()-.5,i.getY()-.5);return this.expandSquare([a,l,u,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let a=new Nt(this.image).detect();e=a[0],t=a[1],r=a[2],n=a[3]}catch{let l=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new lt(l+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new lt(l+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new lt(l-7,u+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new lt(l-7,u-7),!1,-1,-1).toResultPoint()}let i=Ne.round((e.getX()+n.getX()+t.getX()+r.getX())/4),s=Ne.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let a=new Nt(this.image,15,i,s).detect();e=a[0],t=a[1],r=a[2],n=a[3]}catch{e=this.getFirstDifferent(new lt(i+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new lt(i+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new lt(i-7,s+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new lt(i-7,s-7),!1,-1,-1).toResultPoint()}return i=Ne.round((e.getX()+n.getX()+t.getX()+r.getX())/4),s=Ne.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new lt(i,s)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,i){let s=sr.getInstance(),a=this.getDimension(),l=a/2-this.nbCenterLayers,u=a/2+this.nbCenterLayers;return s.sampleGrid(e,a,a,l,l,u,l,u,u,l,u,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())}sampleLine(e,t,r){let n=0,i=this.distanceResultPoint(e,t),s=i/r,a=e.getX(),l=e.getY(),u=s*(t.getX()-e.getX())/i,w=s*(t.getY()-e.getY())/i;for(let C=0;C<r;C++)this.image.get(Ne.round(a+C*u),Ne.round(l+C*w))&&(n|=1<<r-C-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let i=3;e=new lt(e.getX()-i,e.getY()+i),t=new lt(t.getX()-i,t.getY()-i),r=new lt(r.getX()+i,r.getY()-i),n=new lt(n.getX()+i,n.getY()+i);let s=this.getColor(n,e);if(s===0)return!1;let a=this.getColor(e,t);return a!==s||(a=this.getColor(t,r),a!==s)?!1:(a=this.getColor(r,n),a===s)}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,i=(t.getY()-e.getY())/r,s=0,a=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),w=Math.ceil(r);for(let E=0;E<w;E++)a+=n,l+=i,this.image.get(Ne.round(a),Ne.round(l))!==u&&s++;let C=s/r;return C>.1&&C<.9?0:C<=.1===u?1:-1}getFirstDifferent(e,t,r,n){let i=e.getX()+r,s=e.getY()+n;for(;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=r,s+=n;for(i-=r,s-=n;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=r;for(i-=r;this.isValid(i,s)&&this.image.get(i,s)===t;)s+=n;return s-=n,new lt(i,s)}expandSquare(e,t,r){let n=r/(2*t),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new de(a+n*i,l+n*s),w=new de(a-n*i,l-n*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;let C=new de(a+n*i,l+n*s),E=new de(a-n*i,l-n*s);return[u,C,w,E]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=Ne.round(e.getX()),r=Ne.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return Ne.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return Ne.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*($.truncDivision(this.nbLayers-4,8)+1)+15}}class Pr{decode(e,t=null){let r=null,n=new rn(e.getBlackMatrix()),i=null,s=null;try{let w=n.detectMirror(!1);i=w.getPoints(),this.reportFoundResultPoints(t,i),s=new Ke().decode(w)}catch(w){r=w}if(s==null)try{let w=n.detectMirror(!0);i=w.getPoints(),this.reportFoundResultPoints(t,i),s=new Ke().decode(w)}catch(w){throw r??w}let a=new Le(s.getText(),s.getRawBytes(),s.getNumBits(),i,Ae.AZTEC,j.currentTimeMillis()),l=s.getByteSegments();l!=null&&a.putMetadata(wt.BYTE_SEGMENTS,l);let u=s.getECLevel();return u!=null&&a.putMetadata(wt.ERROR_CORRECTION_LEVEL,u),a}reportFoundResultPoints(e,t){if(e!=null){let r=e.get(he.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach((n,i,s)=>{r.foundPossibleResultPoint(n)})}}reset(){}}class Hi extends er{constructor(e=500){super(new Pr,e)}}class ct{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(he.TRY_HARDER)===!0&&e.isRotateSupported()){const i=e.rotateCounterClockwise(),s=this.doDecode(i,t),a=s.getResultMetadata();let l=270;a!==null&&a.get(wt.ORIENTATION)===!0&&(l=l+a.get(wt.ORIENTATION)%360),s.putMetadata(wt.ORIENTATION,l);const u=s.getResultPoints();if(u!==null){const w=i.getHeight();for(let C=0;C<u.length;C++)u[C]=new de(w-u[C].getY()-1,u[C].getX())}return s}else throw new U}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let i=new te(r);const s=t&&t.get(he.TRY_HARDER)===!0,a=Math.max(1,n>>(s?8:5));let l;s?l=n:l=15;const u=Math.trunc(n/2);for(let w=0;w<l;w++){const C=Math.trunc((w+1)/2),E=(w&1)===0,T=u+a*(E?C:-C);if(T<0||T>=n)break;try{i=e.getBlackRow(T,i)}catch{continue}for(let k=0;k<2;k++){if(k===1&&(i.reverse(),t&&t.get(he.NEED_RESULT_POINT_CALLBACK)===!0)){const O=new Map;t.forEach((D,P)=>O.set(P,D)),O.delete(he.NEED_RESULT_POINT_CALLBACK),t=O}try{const O=this.decodeRow(T,i,t);if(k===1){O.putMetadata(wt.ORIENTATION,180);const D=O.getResultPoints();D!==null&&(D[0]=new de(r-D[0].getX()-1,D[0].getY()),D[1]=new de(r-D[1].getX()-1,D[1].getY()))}return O}catch{}}}throw new U}static recordPattern(e,t,r){const n=r.length;for(let u=0;u<n;u++)r[u]=0;const i=e.getSize();if(t>=i)throw new U;let s=!e.get(t),a=0,l=t;for(;l<i;){if(e.get(l)!==s)r[a]++;else{if(++a===n)break;r[a]=1,s=!s}l++}if(!(a===n||a===n-1&&l===i))throw new U}static recordPatternInReverse(e,t,r){let n=r.length,i=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==i&&(n--,i=!i);if(n>=0)throw new U;ct.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let i=0,s=0;for(let u=0;u<n;u++)i+=e[u],s+=t[u];if(i<s)return Number.POSITIVE_INFINITY;const a=i/s;r*=a;let l=0;for(let u=0;u<n;u++){const w=e[u],C=t[u]*a,E=w>C?w-C:C-w;if(E>r)return Number.POSITIVE_INFINITY;l+=E}return l/i}}class J extends ct{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,i=Int32Array.from([0,0,0,0,0,0]),s=r,a=!1;const l=6;for(let u=r;u<t;u++)if(e.get(u)!==a)i[n]++;else{if(n===l-1){let w=J.MAX_AVG_VARIANCE,C=-1;for(let E=J.CODE_START_A;E<=J.CODE_START_C;E++){const T=ct.patternMatchVariance(i,J.CODE_PATTERNS[E],J.MAX_INDIVIDUAL_VARIANCE);T<w&&(w=T,C=E)}if(C>=0&&e.isRange(Math.max(0,s-(u-s)/2),s,!1))return Int32Array.from([s,u,C]);s+=i[0]+i[1],i=i.slice(2,i.length-1),i[n-1]=0,i[n]=0,n--}else n++;i[n]=1,a=!a}throw new U}static decodeCode(e,t,r){ct.recordPattern(e,r,t);let n=J.MAX_AVG_VARIANCE,i=-1;for(let s=0;s<J.CODE_PATTERNS.length;s++){const a=J.CODE_PATTERNS[s],l=this.patternMatchVariance(t,a,J.MAX_INDIVIDUAL_VARIANCE);l<n&&(n=l,i=s)}if(i>=0)return i;throw new U}decodeRow(e,t,r){const n=r&&r.get(he.ASSUME_GS1)===!0,i=J.findStartPattern(t),s=i[2];let a=0;const l=new Uint8Array(20);l[a++]=s;let u;switch(s){case J.CODE_START_A:u=J.CODE_CODE_A;break;case J.CODE_START_B:u=J.CODE_CODE_B;break;case J.CODE_START_C:u=J.CODE_CODE_C;break;default:throw new G}let w=!1,C=!1,E="",T=i[0],k=i[1];const O=Int32Array.from([0,0,0,0,0,0]);let D=0,P=0,Y=s,Z=0,W=!0,Me=!1,pe=!1;for(;!w;){const en=C;switch(C=!1,D=P,P=J.decodeCode(t,O,k),l[a++]=P,P!==J.CODE_STOP&&(W=!0),P!==J.CODE_STOP&&(Z++,Y+=Z*P),T=k,k+=O.reduce(($i,tn)=>$i+tn,0),P){case J.CODE_START_A:case J.CODE_START_B:case J.CODE_START_C:throw new G}switch(u){case J.CODE_CODE_A:if(P<64)pe===Me?E+=String.fromCharCode(32+P):E+=String.fromCharCode(32+P+128),pe=!1;else if(P<96)pe===Me?E+=String.fromCharCode(P-64):E+=String.fromCharCode(P+64),pe=!1;else switch(P!==J.CODE_STOP&&(W=!1),P){case J.CODE_FNC_1:n&&(E.length===0?E+="]C1":E+="");break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_A:!Me&&pe?(Me=!0,pe=!1):Me&&pe?(Me=!1,pe=!1):pe=!0;break;case J.CODE_SHIFT:C=!0,u=J.CODE_CODE_B;break;case J.CODE_CODE_B:u=J.CODE_CODE_B;break;case J.CODE_CODE_C:u=J.CODE_CODE_C;break;case J.CODE_STOP:w=!0;break}break;case J.CODE_CODE_B:if(P<96)pe===Me?E+=String.fromCharCode(32+P):E+=String.fromCharCode(32+P+128),pe=!1;else switch(P!==J.CODE_STOP&&(W=!1),P){case J.CODE_FNC_1:n&&(E.length===0?E+="]C1":E+="");break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_B:!Me&&pe?(Me=!0,pe=!1):Me&&pe?(Me=!1,pe=!1):pe=!0;break;case J.CODE_SHIFT:C=!0,u=J.CODE_CODE_A;break;case J.CODE_CODE_A:u=J.CODE_CODE_A;break;case J.CODE_CODE_C:u=J.CODE_CODE_C;break;case J.CODE_STOP:w=!0;break}break;case J.CODE_CODE_C:if(P<100)P<10&&(E+="0"),E+=P;else switch(P!==J.CODE_STOP&&(W=!1),P){case J.CODE_FNC_1:n&&(E.length===0?E+="]C1":E+="");break;case J.CODE_CODE_A:u=J.CODE_CODE_A;break;case J.CODE_CODE_B:u=J.CODE_CODE_B;break;case J.CODE_STOP:w=!0;break}break}en&&(u=u===J.CODE_CODE_A?J.CODE_CODE_B:J.CODE_CODE_A)}const At=k-T;if(k=t.getNextUnset(k),!t.isRange(k,Math.min(t.getSize(),k+(k-T)/2),!1))throw new U;if(Y-=Z*D,Y%103!==D)throw new N;const zt=E.length;if(zt===0)throw new U;zt>0&&W&&(u===J.CODE_CODE_C?E=E.substring(0,zt-2):E=E.substring(0,zt-1));const Mt=(i[1]+i[0])/2,Ze=T+At/2,at=l.length,It=new Uint8Array(at);for(let en=0;en<at;en++)It[en]=l[en];const br=[new de(Mt,e),new de(Ze,e)];return new Le(E,It,0,br,Ae.CODE_128,new Date().getTime())}}J.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],J.MAX_AVG_VARIANCE=.25,J.MAX_INDIVIDUAL_VARIANCE=.7,J.CODE_SHIFT=98,J.CODE_CODE_C=99,J.CODE_CODE_B=100,J.CODE_CODE_A=101,J.CODE_FNC_1=102,J.CODE_FNC_2=97,J.CODE_FNC_3=96,J.CODE_FNC_4_A=101,J.CODE_FNC_4_B=100,J.CODE_START_A=103,J.CODE_START_B=104,J.CODE_START_C=105,J.CODE_STOP=106;class it extends ct{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let i=it.findAsteriskPattern(t,n),s=t.getNextSet(i[1]),a=t.getSize(),l,u;do{it.recordPattern(t,s,n);let O=it.toNarrowWidePattern(n);if(O<0)throw new U;l=it.patternToChar(O),this.decodeRowResult+=l,u=s;for(let D of n)s+=D;s=t.getNextSet(s)}while(l!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let O of n)w+=O;let C=s-u-w;if(s!==a&&C*2<w)throw new U;if(this.usingCheckDigit){let O=this.decodeRowResult.length-1,D=0;for(let P=0;P<O;P++)D+=it.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(O)!==it.ALPHABET_STRING.charAt(D%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(this.decodeRowResult.length===0)throw new U;let E;this.extendedMode?E=it.decodeExtended(this.decodeRowResult):E=this.decodeRowResult;let T=(i[1]+i[0])/2,k=u+w/2;return new Le(E,null,0,[new de(T,e),new de(k,e)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),i=0,s=n,a=!1,l=t.length;for(let u=n;u<r;u++)if(e.get(u)!==a)t[i]++;else{if(i===l-1){if(this.toNarrowWidePattern(t)===it.ASTERISK_ENCODING&&e.isRange(Math.max(0,s-Math.floor((u-s)/2)),s,!1))return[s,u];s+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,a=!a}throw new U}static toNarrowWidePattern(e){let t=e.length,r=0,n;do{let i=2147483647;for(let l of e)l<i&&l>r&&(i=l);r=i,n=0;let s=0,a=0;for(let l=0;l<t;l++){let u=e[l];u>r&&(a|=1<<t-1-l,n++,s+=u)}if(n===3){for(let l=0;l<t&&n>0;l++){let u=e[l];if(u>r&&(n--,u*2>=s))return-1}return a}}while(n>3);return-1}static patternToChar(e){for(let t=0;t<it.CHARACTER_ENCODINGS.length;t++)if(it.CHARACTER_ENCODINGS[t]===e)return it.ALPHABET_STRING.charAt(t);if(e===it.ASTERISK_ENCODING)return"*";throw new U}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let i=e.charAt(n);if(i==="+"||i==="$"||i==="%"||i==="/"){let s=e.charAt(n+1),a="\0";switch(i){case"+":if(s>="A"&&s<="Z")a=String.fromCharCode(s.charCodeAt(0)+32);else throw new G;break;case"$":if(s>="A"&&s<="Z")a=String.fromCharCode(s.charCodeAt(0)-64);else throw new G;break;case"%":if(s>="A"&&s<="E")a=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")a=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")a=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")a=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")a="\0";else if(s==="V")a="@";else if(s==="W")a="`";else if(s==="X"||s==="Y"||s==="Z")a="";else throw new G;break;case"/":if(s>="A"&&s<="O")a=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")a=":";else throw new G;break}r+=a,n++}else r+=i}return r}}it.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",it.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],it.ASTERISK_ENCODING=148;class Ge extends ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),i=this.decodeEnd(t),s=new _e;Ge.decodeMiddle(t,n[1],i[0],s);let a=s.toString(),l=null;r!=null&&(l=r.get(he.ALLOWED_LENGTHS)),l==null&&(l=Ge.DEFAULT_ALLOWED_LENGTHS);let u=a.length,w=!1,C=0;for(let k of l){if(u===k){w=!0;break}k>C&&(C=k)}if(!w&&u>C&&(w=!0),!w)throw new G;const E=[new de(n[1],e),new de(i[0],e)];return new Le(a,null,0,E,Ae.ITF,new Date().getTime())}static decodeMiddle(e,t,r,n){let i=new Int32Array(10),s=new Int32Array(5),a=new Int32Array(5);for(i.fill(0),s.fill(0),a.fill(0);t<r;){ct.recordPattern(e,t,i);for(let u=0;u<5;u++){let w=2*u;s[u]=i[w],a[u]=i[w+1]}let l=Ge.decodeDigit(s);n.append(l.toString()),l=this.decodeDigit(a),n.append(l.toString()),i.forEach(function(u){t+=u})}}decodeStart(e){let t=Ge.skipWhiteSpace(e),r=Ge.findGuardPattern(e,t,Ge.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=this.narrowLineWidth*10;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(r!==0)throw new U}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new U;return r}decodeEnd(e){e.reverse();try{let t=Ge.skipWhiteSpace(e),r;try{r=Ge.findGuardPattern(e,t,Ge.END_PATTERN_REVERSED[0])}catch(i){i instanceof U&&(r=Ge.findGuardPattern(e,t,Ge.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let n=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-n,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,i=new Int32Array(n),s=e.getSize(),a=!1,l=0,u=t;i.fill(0);for(let w=t;w<s;w++)if(e.get(w)!==a)i[l]++;else{if(l===n-1){if(ct.patternMatchVariance(i,r,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return[u,w];u+=i[0]+i[1],j.arraycopy(i,2,i,0,l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,a=!a}throw new U}static decodeDigit(e){let t=Ge.MAX_AVG_VARIANCE,r=-1,n=Ge.PATTERNS.length;for(let i=0;i<n;i++){let s=Ge.PATTERNS[i],a=ct.patternMatchVariance(e,s,Ge.MAX_INDIVIDUAL_VARIANCE);a<t?(t=a,r=i):a===t&&(r=-1)}if(r>=0)return r%10;throw new U}}Ge.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ge.MAX_AVG_VARIANCE=.38,Ge.MAX_INDIVIDUAL_VARIANCE=.5,Ge.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ge.START_PATTERN=Int32Array.from([1,1,1,1]),Ge.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class st extends ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,r,n=0,i=Int32Array.from([0,0,0]);for(;!t;){i=Int32Array.from([0,0,0]),r=st.findGuardPattern(e,n,!1,this.START_END_PATTERN,i);let s=r[0];n=r[1];let a=s-(n-s);a>=0&&(t=e.isRange(a,s,!1))}return r}static checkChecksum(e){return st.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return st.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new G;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new G;r+=i}return(1e3-r)%10}static decodeEnd(e,t){return st.findGuardPattern(e,t,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,i){let s=e.getSize();t=r?e.getNextUnset(t):e.getNextSet(t);let a=0,l=t,u=n.length,w=r;for(let C=t;C<s;C++)if(e.get(C)!==w)i[a]++;else{if(a===u-1){if(ct.patternMatchVariance(i,n,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return Int32Array.from([l,C]);l+=i[0]+i[1];let E=i.slice(2,i.length-1);for(let T=0;T<a-1;T++)i[T]=E[T];i[a-1]=0,i[a]=0,a--}else a++;i[a]=1,w=!w}throw new U}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let i=this.MAX_AVG_VARIANCE,s=-1,a=n.length;for(let l=0;l<a;l++){let u=n[l],w=ct.patternMatchVariance(t,u,st.MAX_INDIVIDUAL_VARIANCE);w<i&&(i=w,s=l)}if(s>=0)return s;throw new U}}st.MAX_AVG_VARIANCE=.48,st.MAX_INDIVIDUAL_VARIANCE=.7,st.START_END_PATTERN=Int32Array.from([1,1,1]),st.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),st.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),st.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class nn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),s=n.toString(),a=nn.parseExtensionString(s),l=[new de((r[0]+r[1])/2,e),new de(i,e)],u=new Le(s,null,0,l,Ae.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&u.putAllMetadata(a),u}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1],a=0;for(let u=0;u<5&&s<i;u++){let w=st.decodeDigit(e,n,s,st.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let C of n)s+=C;w>=10&&(a|=1<<4-u),u!==4&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(r.length!==5)throw new U;let l=this.determineCheckDigit(a);if(nn.extensionChecksum(r.toString())!==l)throw new U;return s}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new U}static parseExtensionString(e){if(e.length!==5)return null;let t=nn.parseExtension5String(e);return t==null?null:new Map([[wt.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="Â£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let r=parseInt(e.substring(1)),n=(r/100).toString(),i=r%100,s=i<10?"0"+i:i.toString();return t+n+"."+s}}class ar{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),s=n.toString(),a=ar.parseExtensionString(s),l=[new de((r[0]+r[1])/2,e),new de(i,e)],u=new Le(s,null,0,l,Ae.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&u.putAllMetadata(a),u}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1],a=0;for(let l=0;l<2&&s<i;l++){let u=st.decodeDigit(e,n,s,st.L_AND_G_PATTERNS);r+=String.fromCharCode(48+u%10);for(let w of n)s+=w;u>=10&&(a|=1<<1-l),l!==1&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(r.length!==2)throw new U;if(parseInt(r.toString())%4!==a)throw new U;return s}static parseExtensionString(e){return e.length!==2?null:new Map([[wt.ISSUE_NUMBER,parseInt(e)]])}}class sn{static decodeRow(e,t,r){let n=st.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new nn().decodeRow(e,t,n)}catch{return new ar().decodeRow(e,t,n)}}}sn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Pe extends st{constructor(){super(),this.decodeRowStringBuffer="",Pe.L_AND_G_PATTERNS=Pe.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Pe.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[t.length-n-1];Pe.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=Pe.findStartGuardPattern(t),i=r==null?null:r.get(he.NEED_RESULT_POINT_CALLBACK);if(i!=null){const W=new de((n[0]+n[1])/2,e);i.foundPossibleResultPoint(W)}let s=this.decodeMiddle(t,n,this.decodeRowStringBuffer),a=s.rowOffset,l=s.resultString;if(i!=null){const W=new de(a,e);i.foundPossibleResultPoint(W)}let u=this.decodeEnd(t,a);if(i!=null){const W=new de((u[0]+u[1])/2,e);i.foundPossibleResultPoint(W)}let w=u[1],C=w+(w-u[0]);if(C>=t.getSize()||!t.isRange(w,C,!1))throw new U;let E=l.toString();if(E.length<8)throw new G;if(!Pe.checkChecksum(E))throw new N;let T=(n[1]+n[0])/2,k=(u[1]+u[0])/2,O=this.getBarcodeFormat(),D=[new de(T,e),new de(k,e)],P=new Le(E,null,0,D,O,new Date().getTime()),Y=0;try{let W=sn.decodeRow(e,t,u[1]);P.putMetadata(wt.UPC_EAN_EXTENSION,W.getText()),P.putAllMetadata(W.getResultMetadata()),P.addResultPoints(W.getResultPoints()),Y=W.getText().length}catch{}let Z=r==null?null:r.get(he.ALLOWED_EAN_EXTENSIONS);if(Z!=null){let W=!1;for(let Me in Z)if(Y.toString()===Me){W=!0;break}if(!W)throw new U}return P}decodeEnd(e,t){return Pe.findGuardPattern(e,t,!1,Pe.START_END_PATTERN,new Int32Array(Pe.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Pe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return Pe.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new G;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new G;r+=i}return(1e3-r)%10}}class yr extends Pe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1],a=0;for(let u=0;u<6&&s<i;u++){let w=Pe.decodeDigit(e,n,s,Pe.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let C of n)s+=C;w>=10&&(a|=1<<5-u)}r=yr.determineFirstDigit(r,a),s=Pe.findGuardPattern(e,s,!0,Pe.MIDDLE_PATTERN,new Int32Array(Pe.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<6&&s<i;u++){let w=Pe.decodeDigit(e,n,s,Pe.L_PATTERNS);r+=String.fromCharCode(48+w);for(let C of n)s+=C}return{rowOffset:s,resultString:r}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new U}}yr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class mi extends Pe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1];for(let l=0;l<4&&s<i;l++){let u=Pe.decodeDigit(e,n,s,Pe.L_PATTERNS);r+=String.fromCharCode(48+u);for(let w of n)s+=w}s=Pe.findGuardPattern(e,s,!0,Pe.MIDDLE_PATTERN,new Int32Array(Pe.MIDDLE_PATTERN.length).fill(0))[1];for(let l=0;l<4&&s<i;l++){let u=Pe.decodeDigit(e,n,s,Pe.L_PATTERNS);r+=String.fromCharCode(48+u);for(let w of n)s+=w}return{rowOffset:s,resultString:r}}getBarcodeFormat(){return Ae.EAN_8}}class _r extends Pe{constructor(){super(...arguments),this.ean13Reader=new yr}getBarcodeFormat(){return Ae.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let r=new Le(t.substring(1),null,null,e.getResultPoints(),Ae.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new U}reset(){this.ean13Reader.reset()}}class Ot extends Pe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map(u=>u);n[0]=0,n[1]=0,n[2]=0,n[3]=0;const i=e.getSize();let s=t[1],a=0;for(let u=0;u<6&&s<i;u++){const w=Ot.decodeDigit(e,n,s,Ot.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let C of n)s+=C;w>=10&&(a|=1<<5-u)}let l=Ot.determineNumSysAndCheckDigit(r,a);return{rowOffset:s,resultString:l}}decodeEnd(e,t){return Ot.findGuardPatternWithoutCounters(e,t,!0,Ot.MIDDLE_END_PATTERN)}checkChecksum(e){return Pe.checkChecksum(Ot.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n]){let i=String.fromCharCode(48+r),s=String.fromCharCode(48+n);return i+e+s}throw U.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(i=>i.charCodeAt(0)),r=new _e;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Ot.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ot.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class an extends ct{constructor(e){super();let t=e==null?null:e.get(he.POSSIBLE_FORMATS),r=[];x(t)?(r.push(new yr),r.push(new _r),r.push(new mi),r.push(new Ot)):(t.indexOf(Ae.EAN_13)>-1&&r.push(new yr),t.indexOf(Ae.UPC_A)>-1&&r.push(new _r),t.indexOf(Ae.EAN_8)>-1&&r.push(new mi),t.indexOf(Ae.UPC_E)>-1&&r.push(new Ot)),this.readers=r}decodeRow(e,t,r){for(let n of this.readers)try{const i=n.decodeRow(e,t,r),s=i.getBarcodeFormat()===Ae.EAN_13&&i.getText().charAt(0)==="0",a=r==null?null:r.get(he.POSSIBLE_FORMATS),l=a==null||a.includes(Ae.UPC_A);if(s&&l){const u=i.getRawBytes(),w=new Le(i.getText().substring(1),u,u?u.length:null,i.getResultPoints(),Ae.UPC_A);return w.putAllMetadata(i.getResultMetadata()),w}return i}catch{}throw new U}reset(){for(let e of this.readers)e.reset()}}class yt extends ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(ct.patternMatchVariance(e,t[r],yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return r;throw new U}static count(e){return Ne.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]>n&&(n=t[i],r=i);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]<n&&(n=t[i],r=i);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t+e[2]+e[3],n=t/r;if(n>=yt.MIN_FINDER_PATTERN_RATIO&&n<=yt.MAX_FINDER_PATTERN_RATIO){let i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;for(let a of e)a>s&&(s=a),a<i&&(i=a);return s<10*i}return!1}}yt.MAX_AVG_VARIANCE=.2,yt.MAX_INDIVIDUAL_VARIANCE=.45,yt.MIN_FINDER_PATTERN_RATIO=9.5/12,yt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Fr{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Fr))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class tr{constructor(e,t,r,n,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new de(r,i)),this.resultPoints.push(new de(n,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof tr))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Ft{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let l of e)n+=l;let i=0,s=0,a=e.length;for(let l=0;l<a-1;l++){let u;for(u=1,s|=1<<l;u<e[l];u++,s&=~(1<<l)){let w=Ft.combins(n-u-1,a-l-2);if(r&&s===0&&n-u-(a-l-1)>=a-l-1&&(w-=Ft.combins(n-u-(a-l),a-l-2)),a-l-1>1){let C=0;for(let E=n-u-(a-l-2);E>t;E--)C+=Ft.combins(n-u-E-1,a-l-3);w-=C*(a-1-l)}else n-u>t&&w--;i+=w}n-=u}return i}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let i=1,s=1;for(let a=e;a>r;a--)i*=a,s<=n&&(i/=s,s++);for(;s<=n;)i/=s,s++;return i}}class jn{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let r=12*t,n=new te(r),i=0,a=e[0].getRightChar().getValue();for(let l=11;l>=0;--l)(a&1<<l)!=0&&n.set(i),i++;for(let l=1;l<e.length;++l){let u=e[l],w=u.getLeftChar().getValue();for(let C=11;C>=0;--C)(w&1<<C)!=0&&n.set(i),i++;if(u.getRightChar()!=null){let C=u.getRightChar().getValue();for(let E=11;E>=0;--E)(C&1<<E)!=0&&n.set(i),i++}}return n}}class Ir{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Zn{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class ht extends Zn{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===ht.FNC1}}ht.FNC1="$";class Kt extends Zn{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Rt extends Zn{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new G;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Rt.FNC1}isSecondDigitFNC1(){return this.secondDigit===Rt.FNC1}isAnyFNC1(){return this.firstDigit===Rt.FNC1||this.secondDigit===Rt.FNC1}}Rt.FNC1=10;class ne{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new U;let t=e.substring(0,2);for(let i of ne.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(2,i[2],e):ne.processFixedAI(2,i[1],e);if(e.length<3)throw new U;let r=e.substring(0,3);for(let i of ne.THREE_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(3,i[2],e):ne.processFixedAI(3,i[1],e);for(let i of ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,i[2],e):ne.processFixedAI(4,i[1],e);if(e.length<4)throw new U;let n=e.substring(0,4);for(let i of ne.FOUR_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,i[2],e):ne.processFixedAI(4,i[1],e);throw new U}static processFixedAI(e,t,r){if(r.length<e)throw new U;let n=r.substring(0,e);if(r.length<e+t)throw new U;let i=r.substring(e,e+t),s=r.substring(e+t),a="("+n+")"+i,l=ne.parseFieldsInGeneralPurpose(s);return l==null?a:a+l}static processVariableAI(e,t,r){let n=r.substring(0,e),i;r.length<e+t?i=r.length:i=e+t;let s=r.substring(e,i),a=r.substring(i),l="("+n+")"+s,u=ne.parseFieldsInGeneralPurpose(a);return u==null?l:l+u}}ne.VARIABLE_LENGTH=[],ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ne.VARIABLE_LENGTH,20],["22",ne.VARIABLE_LENGTH,29],["30",ne.VARIABLE_LENGTH,8],["37",ne.VARIABLE_LENGTH,8],["90",ne.VARIABLE_LENGTH,30],["91",ne.VARIABLE_LENGTH,30],["92",ne.VARIABLE_LENGTH,30],["93",ne.VARIABLE_LENGTH,30],["94",ne.VARIABLE_LENGTH,30],["95",ne.VARIABLE_LENGTH,30],["96",ne.VARIABLE_LENGTH,30],["97",ne.VARIABLE_LENGTH,3],["98",ne.VARIABLE_LENGTH,30],["99",ne.VARIABLE_LENGTH,30]],ne.THREE_DIGIT_DATA_LENGTH=[["240",ne.VARIABLE_LENGTH,30],["241",ne.VARIABLE_LENGTH,30],["242",ne.VARIABLE_LENGTH,6],["250",ne.VARIABLE_LENGTH,30],["251",ne.VARIABLE_LENGTH,30],["253",ne.VARIABLE_LENGTH,17],["254",ne.VARIABLE_LENGTH,20],["400",ne.VARIABLE_LENGTH,30],["401",ne.VARIABLE_LENGTH,30],["402",17],["403",ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ne.VARIABLE_LENGTH,20],["421",ne.VARIABLE_LENGTH,15],["422",3],["423",ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ne.VARIABLE_LENGTH,15],["391",ne.VARIABLE_LENGTH,18],["392",ne.VARIABLE_LENGTH,15],["393",ne.VARIABLE_LENGTH,18],["703",ne.VARIABLE_LENGTH,30]],ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ne.VARIABLE_LENGTH,20],["8003",ne.VARIABLE_LENGTH,30],["8004",ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ne.VARIABLE_LENGTH,30],["8008",ne.VARIABLE_LENGTH,12],["8018",18],["8020",ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ne.VARIABLE_LENGTH,70],["8200",ne.VARIABLE_LENGTH,70]];class Ur{constructor(e){this.buffer=new _e,this.information=e}decodeAllCodes(e,t){let r=t,n=null;do{let i=this.decodeGeneralPurposeField(r,n),s=ne.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?n=""+i.getRemainingValue():n=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let i=this.extractNumericValueFromBitArray(e,4);return i===0?new Rt(this.information.getSize(),Rt.FNC1,Rt.FNC1):new Rt(this.information.getSize(),i-1,Rt.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),r=(t-8)/11,n=(t-8)%11;return new Rt(e+7,r,n)}extractNumericValueFromBitArray(e,t){return Ur.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let i=0;i<r;++i)e.get(t+i)&&(n|=1<<r-i-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Kt(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Kt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Kt(this.current.getPosition(),this.buffer.toString()):t=new Kt(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ir(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Kt(this.current.getPosition(),this.buffer.toString());return new Ir(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ir(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Kt(this.current.getPosition(),this.buffer.toString());return new Ir(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ir(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Kt(this.current.getPosition(),this.buffer.toString());return new Ir(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ir(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new ht(e+5,ht.FNC1);if(t>=5&&t<15)return new ht(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new ht(e+7,""+(r+1));if(r>=90&&r<116)return new ht(e+7,""+(r+7));let n=this.extractNumericValueFromBitArray(e,8),i;switch(n){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new G}return new ht(e+8,i)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new ht(e+5,ht.FNC1);if(t>=5&&t<15)return new ht(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new ht(e+6,""+(r+33));let n;switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new Lt("Decoding invalid alphanumeric value: "+r)}return new ht(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class or{constructor(e){this.information=e,this.generalDecoder=new Ur(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class vt extends or{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let n=0;n<4;++n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i)}vt.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let i=e.charAt(n+t).charCodeAt(0)-48;r+=(n&1)===0?3*i:i}r=10-r%10,r===10&&(r=0),e.append(r)}}vt.GTIN_SIZE=40;class lr extends vt{constructor(e){super(e)}parseInformation(){let e=new _e;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(lr.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,lr.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,lr.HEADER_SIZE+44)}}lr.HEADER_SIZE=4;class vn extends or{constructor(e){super(e)}parseInformation(){let e=new _e;return this.getGeneralDecoder().decodeAllCodes(e,vn.HEADER_SIZE)}}vn.HEADER_SIZE=5;class Cn extends vt{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let i=this.checkWeight(n),s=1e5;for(let a=0;a<5;++a)i/s===0&&e.append("0"),s/=10;e.append(i)}}class Tt extends Cn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Tt.HEADER_SIZE+Cn.GTIN_SIZE+Tt.WEIGHT_SIZE)throw new U;let e=new _e;return this.encodeCompressedGtin(e,Tt.HEADER_SIZE),this.encodeCompressedWeight(e,Tt.HEADER_SIZE+Cn.GTIN_SIZE,Tt.WEIGHT_SIZE),e.toString()}}Tt.HEADER_SIZE=5,Tt.WEIGHT_SIZE=15;class An extends Tt{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Kn extends Tt{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class qt extends vt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<qt.HEADER_SIZE+vt.GTIN_SIZE)throw new U;let e=new _e;this.encodeCompressedGtin(e,qt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(qt.HEADER_SIZE+vt.GTIN_SIZE,qt.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(qt.HEADER_SIZE+vt.GTIN_SIZE+qt.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}qt.HEADER_SIZE=8,qt.LAST_DIGIT_SIZE=2;class St extends vt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<St.HEADER_SIZE+vt.GTIN_SIZE)throw new U;let e=new _e;this.encodeCompressedGtin(e,St.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(St.HEADER_SIZE+vt.GTIN_SIZE,St.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(St.HEADER_SIZE+vt.GTIN_SIZE+St.LAST_DIGIT_SIZE,St.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(St.HEADER_SIZE+vt.GTIN_SIZE+St.LAST_DIGIT_SIZE+St.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}St.HEADER_SIZE=8,St.LAST_DIGIT_SIZE=2,St.FIRST_THREE_DIGITS_SIZE=10;class He extends Cn{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE+He.DATE_SIZE)throw new U;let e=new _e;return this.encodeCompressedGtin(e,He.HEADER_SIZE),this.encodeCompressedWeight(e,He.HEADER_SIZE+He.GTIN_SIZE,He.WEIGHT_SIZE),this.encodeCompressedDate(e,He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,He.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let i=r%12+1;r/=12;let s=r;s/10==0&&e.append("0"),e.append(s),i/10==0&&e.append("0"),e.append(i),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}He.HEADER_SIZE=8,He.WEIGHT_SIZE=20,He.DATE_SIZE=16;function on(v){try{if(v.get(1))return new lr(v);if(!v.get(2))return new vn(v);switch(Ur.extractNumericValueFromBitArray(v,1,4)){case 4:return new An(v);case 5:return new Kn(v)}switch(Ur.extractNumericValueFromBitArray(v,1,5)){case 12:return new qt(v);case 13:return new St(v)}switch(Ur.extractNumericValueFromBitArray(v,1,7)){case 56:return new He(v,"310","11");case 57:return new He(v,"320","11");case 58:return new He(v,"310","13");case 59:return new He(v,"320","13");case 60:return new He(v,"310","15");case 61:return new He(v,"320","15");case 62:return new He(v,"310","17");case 63:return new He(v,"320","17")}}catch(e){throw console.log(e),new Lt("unknown decoder: "+v)}}class Qt{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Qt?Qt.equalsOrNull(e.leftchar,t.leftchar)&&Qt.equalsOrNull(e.rightchar,t.rightchar)&&Qt.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Qt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class qn{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof qn?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((n,i)=>{t.forEach(s=>{n.getLeftChar().getValue()===s.getLeftChar().getValue()&&n.getRightChar().getValue()===s.getRightChar().getValue()&&n.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}}class V extends yt{constructor(e){super(...arguments),this.pairs=new Array(V.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return V.constructResult(this.decodeRow2pairs(e,t))}catch(n){this.verbose&&console.log(n)}return this.pairs.length=0,this.startFromEven=!0,V.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof U){if(!this.pairs.length)throw new U;r=!0}}if(this.checkChecksum())return this.pairs;let n;if(this.rows.length?n=!0:n=!1,this.storeRow(e,!1),n){let i=this.checkRowsBoolean(!1);if(i!=null||(i=this.checkRowsBoolean(!0),i!=null))return i}throw new U}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let n=this.rows[r];this.pairs.length=0;for(let s of e)this.pairs.push(s.getPairs());if(this.pairs.push(n.getPairs()),!V.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(n);try{return this.checkRows(i,r+1)}catch(s){this.verbose&&console.log(s)}}throw new U}static isValidSequence(e){for(let t of V.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,i=!1;for(;r<this.rows.length;){let s=this.rows[r];if(s.getRowNumber()>e){i=s.isEquivalent(this.pairs);break}n=s.isEquivalent(this.pairs),r++}i||n||V.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new qn(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length){for(let n of r.getPairs())for(let i of e)if(Qt.equals(n,i))break}}static isPartialRow(e,t){for(let r of t){let n=!0;for(let i of e){let s=!1;for(let a of r.getPairs())if(i.equals(a)){s=!0;break}if(!s){n=!1;break}}if(n)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=jn.buildBitArray(e),n=on(t).parseInformation(),i=e[0].getFinderPattern().getResultPoints(),s=e[e.length-1].getFinderPattern().getResultPoints(),a=[i[0],i[1],s[0],s[1]];return new Le(n,null,null,a,Ae.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let n=r.getChecksumPortion(),i=2;for(let a=1;a<this.pairs.size();++a){let l=this.pairs.get(a);n+=l.getLeftChar().getChecksumPortion(),i++;let u=l.getRightChar();u!=null&&(n+=u.getChecksumPortion(),i++)}return n%=211,211*(i-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n=t.length%2==0;this.startFromEven&&(n=!n);let i,s=!0,a=-1;do this.findNextPair(e,t,a),i=this.parseFoundFinderPattern(e,r,n),i==null?a=V.getNextSecondBar(e,this.startEnd[0]):s=!1;while(s);let l=this.decodeDataCharacter(e,i,n,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new U;let u;try{u=this.decodeDataCharacter(e,i,n,!1)}catch(w){u=null,this.verbose&&console.log(w)}return new Qt(l,u,i,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s;r>=0?s=r:this.isEmptyPair(t)?s=0:s=t[t.length-1].getFinderPattern().getStartEnd()[1];let a=t.length%2!=0;this.startFromEven&&(a=!a);let l=!1;for(;s<i&&(l=!e.get(s),!!l);)s++;let u=0,w=s;for(let C=s;C<i;C++)if(e.get(C)!=l)n[u]++;else{if(u==3){if(a&&V.reverseCounters(n),V.isFinderPattern(n)){this.startEnd[0]=w,this.startEnd[1]=C;return}a&&V.reverseCounters(n),w+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,u--}else u++;n[u]=1,l=!l}throw new U}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,i,s;if(r){let u=this.startEnd[0]-1;for(;u>=0&&!e.get(u);)u--;u++,n=this.startEnd[0]-u,i=u,s=this.startEnd[1]}else i=this.startEnd[0],s=e.getNextUnset(this.startEnd[1]+1),n=s-this.startEnd[1];let a=this.getDecodeFinderCounters();j.arraycopy(a,0,a,1,a.length-1),a[0]=n;let l;try{l=this.parseFinderValue(a,V.FINDER_PATTERNS)}catch{return null}return new tr(l,[i,s],i,s,t)}decodeDataCharacter(e,t,r,n){let i=this.getDataCharacterCounters();for(let Ze=0;Ze<i.length;Ze++)i[Ze]=0;if(n)V.recordPatternInReverse(e,t.getStartEnd()[0],i);else{V.recordPattern(e,t.getStartEnd()[1],i);for(let Ze=0,at=i.length-1;Ze<at;Ze++,at--){let It=i[Ze];i[Ze]=i[at],i[at]=It}}let s=17,a=Ne.sum(new Int32Array(i))/s,l=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(a-l)/l>.3)throw new U;let u=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let Ze=0;Ze<i.length;Ze++){let at=1*i[Ze]/a,It=at+.5;if(It<1){if(at<.3)throw new U;It=1}else if(It>8){if(at>8.7)throw new U;It=8}let br=Ze/2;(Ze&1)==0?(u[br]=It,C[br]=at-It):(w[br]=It,E[br]=at-It)}this.adjustOddEvenCounts(s);let T=4*t.getValue()+(r?0:2)+(n?0:1)-1,k=0,O=0;for(let Ze=u.length-1;Ze>=0;Ze--){if(V.isNotA1left(t,r,n)){let at=V.WEIGHTS[T][2*Ze];O+=u[Ze]*at}k+=u[Ze]}let D=0;for(let Ze=w.length-1;Ze>=0;Ze--)if(V.isNotA1left(t,r,n)){let at=V.WEIGHTS[T][2*Ze+1];D+=w[Ze]*at}let P=O+D;if((k&1)!=0||k>13||k<4)throw new U;let Y=(13-k)/2,Z=V.SYMBOL_WIDEST[Y],W=9-Z,Me=Ft.getRSSvalue(u,Z,!0),pe=Ft.getRSSvalue(w,W,!1),At=V.EVEN_TOTAL_SUBSET[Y],zt=V.GSUM[Y],Mt=Me*At+pe+zt;return new Fr(Mt,P)}static isNotA1left(e,t,r){return!(e.getValue()==0&&t&&r)}adjustOddEvenCounts(e){let t=Ne.sum(new Int32Array(this.getOddCounts())),r=Ne.sum(new Int32Array(this.getEvenCounts())),n=!1,i=!1;t>13?i=!0:t<4&&(n=!0);let s=!1,a=!1;r>13?a=!0:r<4&&(s=!0);let l=t+r-e,u=(t&1)==1,w=(r&1)==0;if(l==1)if(u){if(w)throw new U;i=!0}else{if(!w)throw new U;a=!0}else if(l==-1)if(u){if(w)throw new U;n=!0}else{if(!w)throw new U;s=!0}else if(l==0){if(u){if(!w)throw new U;t<r?(n=!0,a=!0):(i=!0,s=!0)}else if(w)throw new U}else throw new U;if(n){if(i)throw new U;V.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&V.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new U;V.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&V.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}V.SYMBOL_WIDEST=[7,5,4,3,1],V.EVEN_TOTAL_SUBSET=[4,20,52,104,204],V.GSUM=[0,348,1388,2948,3988],V.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],V.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],V.FINDER_PAT_A=0,V.FINDER_PAT_B=1,V.FINDER_PAT_C=2,V.FINDER_PAT_D=3,V.FINDER_PAT_E=4,V.FINDER_PAT_F=5,V.FINDER_PATTERN_SEQUENCES=[[V.FINDER_PAT_A,V.FINDER_PAT_A],[V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B],[V.FINDER_PAT_A,V.FINDER_PAT_C,V.FINDER_PAT_B,V.FINDER_PAT_D],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_C],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_D,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_D],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_E],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F]],V.MAX_PAIRS=11;class zr extends Fr{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class qe extends yt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);qe.addOrTally(this.possibleLeftPairs,n),t.reverse();let i=this.decodePair(t,!0,e,r);qe.addOrTally(this.possibleRightPairs,i),t.reverse();for(let s of this.possibleLeftPairs)if(s.getCount()>1){for(let a of this.possibleRightPairs)if(a.getCount()>1&&qe.checkChecksum(s,a))return qe.constructResult(s,a)}throw new U}static addOrTally(e,t){if(t==null)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),i=new _e;for(let u=13-n.length;u>0;u--)i.append("0");i.append(n);let s=0;for(let u=0;u<13;u++){let w=i.charAt(u).charCodeAt(0)-48;s+=(u&1)===0?3*w:w}s=10-s%10,s===10&&(s=0),i.append(s.toString());let a=e.getFinderPattern().getResultPoints(),l=t.getFinderPattern().getResultPoints();return new Le(i.toString(),null,0,[a[0],a[1],l[0],l[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let i=this.findFinderPattern(e,t),s=this.parseFoundFinderPattern(e,r,t,i),a=n==null?null:n.get(he.NEED_RESULT_POINT_CALLBACK);if(a!=null){let w=(i[0]+i[1])/2;t&&(w=e.getSize()-1-w),a.foundPossibleResultPoint(new de(w,r))}let l=this.decodeDataCharacter(e,s,!0),u=this.decodeDataCharacter(e,s,!1);return new zr(1597*l.getValue()+u.getValue(),l.getChecksumPortion()+4*u.getChecksumPortion(),s)}catch{return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let D=0;D<n.length;D++)n[D]=0;if(r)ct.recordPatternInReverse(e,t.getStartEnd()[0],n);else{ct.recordPattern(e,t.getStartEnd()[1]+1,n);for(let D=0,P=n.length-1;D<P;D++,P--){let Y=n[D];n[D]=n[P],n[P]=Y}}let i=r?16:15,s=Ne.sum(new Int32Array(n))/i,a=this.getOddCounts(),l=this.getEvenCounts(),u=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let D=0;D<n.length;D++){let P=n[D]/s,Y=Math.floor(P+.5);Y<1?Y=1:Y>8&&(Y=8);let Z=Math.floor(D/2);(D&1)===0?(a[Z]=Y,u[Z]=P-Y):(l[Z]=Y,w[Z]=P-Y)}this.adjustOddEvenCounts(r,i);let C=0,E=0;for(let D=a.length-1;D>=0;D--)E*=9,E+=a[D],C+=a[D];let T=0,k=0;for(let D=l.length-1;D>=0;D--)T*=9,T+=l[D],k+=l[D];let O=E+3*T;if(r){if((C&1)!==0||C>12||C<4)throw new U;let D=(12-C)/2,P=qe.OUTSIDE_ODD_WIDEST[D],Y=9-P,Z=Ft.getRSSvalue(a,P,!1),W=Ft.getRSSvalue(l,Y,!0),Me=qe.OUTSIDE_EVEN_TOTAL_SUBSET[D],pe=qe.OUTSIDE_GSUM[D];return new Fr(Z*Me+W+pe,O)}else{if((k&1)!==0||k>10||k<4)throw new U;let D=(10-k)/2,P=qe.INSIDE_ODD_WIDEST[D],Y=9-P,Z=Ft.getRSSvalue(a,P,!0),W=Ft.getRSSvalue(l,Y,!1),Me=qe.INSIDE_ODD_TOTAL_SUBSET[D],pe=qe.INSIDE_GSUM[D];return new Fr(W*Me+Z+pe,O)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),i=!1,s=0;for(;s<n&&(i=!e.get(s),t!==i);)s++;let a=0,l=s;for(let u=s;u<n;u++)if(e.get(u)!==i)r[a]++;else{if(a===3){if(yt.isFinderPattern(r))return[l,u];l+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,a--}else a++;r[a]=1,i=!i}throw new U}parseFoundFinderPattern(e,t,r,n){let i=e.get(n[0]),s=n[0]-1;for(;s>=0&&i!==e.get(s);)s--;s++;const a=n[0]-s,l=this.getDecodeFinderCounters(),u=new Int32Array(l.length);j.arraycopy(l,0,u,1,l.length-1),u[0]=a;const w=this.parseFinderValue(u,qe.FINDER_PATTERNS);let C=s,E=n[1];return r&&(C=e.getSize()-1-C,E=e.getSize()-1-E),new tr(w,[s,n[1]],C,E,t)}adjustOddEvenCounts(e,t){let r=Ne.sum(new Int32Array(this.getOddCounts())),n=Ne.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1,a=!1,l=!1;e?(r>12?s=!0:r<4&&(i=!0),n>12?l=!0:n<4&&(a=!0)):(r>11?s=!0:r<5&&(i=!0),n>10?l=!0:n<4&&(a=!0));let u=r+n-t,w=(r&1)===(e?1:0),C=(n&1)===1;if(u===1)if(w){if(C)throw new U;s=!0}else{if(!C)throw new U;l=!0}else if(u===-1)if(w){if(C)throw new U;i=!0}else{if(!C)throw new U;a=!0}else if(u===0){if(w){if(!C)throw new U;r<n?(i=!0,l=!0):(s=!0,a=!0)}else if(C)throw new U}else throw new U;if(i){if(s)throw new U;yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(l)throw new U;yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}qe.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],qe.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],qe.OUTSIDE_GSUM=[0,161,961,2015,2715],qe.INSIDE_GSUM=[0,336,1036,1516],qe.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],qe.INSIDE_ODD_WIDEST=[2,4,6,8],qe.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class cr extends ct{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const r=e?e.get(he.POSSIBLE_FORMATS):null,n=e&&e.get(he.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(Ae.EAN_13)||r.includes(Ae.UPC_A)||r.includes(Ae.EAN_8)||r.includes(Ae.UPC_E))&&this.readers.push(new an(e)),r.includes(Ae.CODE_39)&&this.readers.push(new it(n)),r.includes(Ae.CODE_128)&&this.readers.push(new J),r.includes(Ae.ITF)&&this.readers.push(new Ge),r.includes(Ae.RSS_14)&&this.readers.push(new qe),r.includes(Ae.RSS_EXPANDED)&&this.readers.push(new V(this.verbose))):(this.readers.push(new an(e)),this.readers.push(new it),this.readers.push(new an(e)),this.readers.push(new J),this.readers.push(new Ge),this.readers.push(new qe),this.readers.push(new V(this.verbose)))}decodeRow(e,t,r){for(let n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch{}throw new U}reset(){this.readers.forEach(e=>e.reset())}}class Wi extends er{constructor(e=500,t){super(new cr(t),e,t)}}class Ve{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Re{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(e,t,r,n,i,s){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=s;let a=0;const l=s.getECCodewords(),u=s.getECBlocks();for(let w of u)a+=w.getCount()*(w.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if((e&1)!==0||(t&1)!==0)throw new G;for(let r of Oe.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new G}toString(){return""+this.versionNumber}static buildVersions(){return[new Oe(1,10,10,8,8,new Ve(5,new Re(1,3))),new Oe(2,12,12,10,10,new Ve(7,new Re(1,5))),new Oe(3,14,14,12,12,new Ve(10,new Re(1,8))),new Oe(4,16,16,14,14,new Ve(12,new Re(1,12))),new Oe(5,18,18,16,16,new Ve(14,new Re(1,18))),new Oe(6,20,20,18,18,new Ve(18,new Re(1,22))),new Oe(7,22,22,20,20,new Ve(20,new Re(1,30))),new Oe(8,24,24,22,22,new Ve(24,new Re(1,36))),new Oe(9,26,26,24,24,new Ve(28,new Re(1,44))),new Oe(10,32,32,14,14,new Ve(36,new Re(1,62))),new Oe(11,36,36,16,16,new Ve(42,new Re(1,86))),new Oe(12,40,40,18,18,new Ve(48,new Re(1,114))),new Oe(13,44,44,20,20,new Ve(56,new Re(1,144))),new Oe(14,48,48,22,22,new Ve(68,new Re(1,174))),new Oe(15,52,52,24,24,new Ve(42,new Re(2,102))),new Oe(16,64,64,14,14,new Ve(56,new Re(2,140))),new Oe(17,72,72,16,16,new Ve(36,new Re(4,92))),new Oe(18,80,80,18,18,new Ve(48,new Re(4,114))),new Oe(19,88,88,20,20,new Ve(56,new Re(4,144))),new Oe(20,96,96,22,22,new Ve(68,new Re(4,174))),new Oe(21,104,104,24,24,new Ve(56,new Re(6,136))),new Oe(22,120,120,18,18,new Ve(68,new Re(6,175))),new Oe(23,132,132,20,20,new Ve(62,new Re(8,163))),new Oe(24,144,144,22,22,new Ve(62,new Re(8,156),new Re(2,155))),new Oe(25,8,18,6,16,new Ve(7,new Re(1,5))),new Oe(26,8,32,6,14,new Ve(11,new Re(1,10))),new Oe(27,12,26,10,24,new Ve(14,new Re(1,16))),new Oe(28,12,36,10,16,new Ve(18,new Re(1,22))),new Oe(29,16,36,14,16,new Ve(24,new Re(1,32))),new Oe(30,16,48,14,22,new Ve(28,new Re(1,49)))]}}Oe.VERSIONS=Oe.buildVersions();class ln{constructor(e){const t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new G;this.version=ln.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return Oe.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth();let a=!1,l=!1,u=!1,w=!1;do if(r===i&&n===0&&!a)e[t++]=this.readCorner1(i,s)&255,r-=2,n+=2,a=!0;else if(r===i-2&&n===0&&(s&3)!==0&&!l)e[t++]=this.readCorner2(i,s)&255,r-=2,n+=2,l=!0;else if(r===i+4&&n===2&&(s&7)===0&&!u)e[t++]=this.readCorner3(i,s)&255,r-=2,n+=2,u=!0;else if(r===i-2&&n===0&&(s&7)===4&&!w)e[t++]=this.readCorner4(i,s)&255,r-=2,n+=2,w=!0;else{do r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,s)&255),r-=2,n+=2;while(r>=0&&n<s);r+=1,n+=3;do r>=0&&n<s&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,s)&255),r+=2,n-=2;while(r<i&&n>=0);r+=3,n+=1}while(r<i||n<s);if(t!==this.version.getTotalCodewords())throw new G;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new y("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=t/n|0,a=r/i|0,l=s*n,u=a*i,w=new Ue(u,l);for(let C=0;C<s;++C){const E=C*n;for(let T=0;T<a;++T){const k=T*i;for(let O=0;O<n;++O){const D=C*(n+2)+1+O,P=E+O;for(let Y=0;Y<i;++Y){const Z=T*(i+2)+1+Y;if(e.get(Z,D)){const W=k+Y;w.set(W,P)}}}}}return w}}class Qn{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const i=r.getECBlocks();for(let O of i)n+=O.getCount();const s=new Array(n);let a=0;for(let O of i)for(let D=0;D<O.getCount();D++){const P=O.getDataCodewords(),Y=r.getECCodewords()+P;s[a++]=new Qn(P,new Uint8Array(Y))}const u=s[0].codewords.length-r.getECCodewords(),w=u-1;let C=0;for(let O=0;O<w;O++)for(let D=0;D<a;D++)s[D].codewords[O]=e[C++];const E=t.getVersionNumber()===24,T=E?8:a;for(let O=0;O<T;O++)s[O].codewords[u-1]=e[C++];const k=s[0].codewords.length;for(let O=u;O<k;O++)for(let D=0;D<a;D++){const P=E?(D+8)%a:D,Y=E&&P>7?O-1:O;s[P].codewords[Y]=e[C++]}if(C!==e.length)throw new y;return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jn{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new y(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const i=this.bytes;if(r>0){const s=8-r,a=e<s?e:s,l=s-a,u=255>>8-a<<l;t=(i[n]&u)>>l,e-=a,r+=a,r===8&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|i[n]&255,n++,e-=8;if(e>0){const s=8-e,a=255>>s<<s;t=t<<e|(i[n]&a)>>s,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Je;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(Je||(Je={}));class Yt{static decode(e){const t=new Jn(e),r=new _e,n=new _e,i=new Array;let s=Je.ASCII_ENCODE;do if(s===Je.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,n);else{switch(s){case Je.C40_ENCODE:this.decodeC40Segment(t,r);break;case Je.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Je.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Je.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Je.BASE256_ENCODE:this.decodeBase256Segment(t,r,i);break;default:throw new G}s=Je.ASCII_ENCODE}while(s!==Je.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new Zt(e,r.toString(),i.length===0?null:i,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let i=e.readBits(8);if(i===0)throw new G;if(i<=128)return n&&(i+=128),t.append(String.fromCharCode(i-1)),Je.ASCII_ENCODE;if(i===129)return Je.PAD_ENCODE;if(i<=229){const s=i-130;s<10&&t.append("0"),t.append(""+s)}else switch(i){case 230:return Je.C40_ENCODE;case 231:return Je.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Je.ANSIX12_ENCODE;case 239:return Je.TEXT_ENCODE;case 240:return Je.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new G;break}}while(e.available()>0);return Je.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),n);for(let a=0;a<3;a++){const l=n[a];switch(i){case 0:if(l<3)i=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){const u=this.C40_BASIC_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else throw new G;break;case 1:r?(t.append(String.fromCharCode(l+128)),r=!1):t.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){const u=this.C40_SHIFT2_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else switch(l){case 27:t.append("");break;case 30:r=!0;break;default:throw new G}i=0;break;case 3:r?(t.append(String.fromCharCode(l+224)),r=!1):t.append(String.fromCharCode(l+96)),i=0;break;default:throw new G}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),n);for(let a=0;a<3;a++){const l=n[a];switch(i){case 0:if(l<3)i=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){const u=this.TEXT_BASIC_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else throw new G;break;case 1:r?(t.append(String.fromCharCode(l+128)),r=!1):t.append(String.fromCharCode(l)),i=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){const u=this.TEXT_SHIFT2_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else switch(l){case 27:t.append("");break;case 30:r=!0;break;default:throw new G}i=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){const u=this.TEXT_SHIFT3_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u),i=0}else throw new G;break;default:throw new G}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(e.available()===8)return;const n=e.readBits(8);if(n===254)return;this.parseTwoBytes(n,e.readBits(8),r);for(let i=0;i<3;i++){const s=r[i];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new G;break}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=i*1600,i=Math.floor(n/40),r[1]=i,r[2]=n-i*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let n=e.readBits(6);if(n===31){const i=8-e.getBitOffset();i!==8&&e.readBits(i);return}(n&32)===0&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),n++);let s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),n++),s<0)throw new G;const a=new Uint8Array(s);for(let l=0;l<s;l++){if(e.available()<8)throw new G;a[l]=this.unrandomize255State(e.readBits(8),n++)}r.push(a);try{t.append(Se.decode(a,ie.ISO88591))}catch(l){throw new Lt("Platform does not support required encoding: "+l.message)}}static unrandomize255State(e,t){const r=149*t%255+1,n=e-r;return n>=0?n:n+256}}Yt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Yt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Yt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Yt.TEXT_SHIFT2_SET_CHARS=Yt.C40_SHIFT2_SET_CHARS,Yt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class $n{constructor(){this.rsDecoder=new Er(ze.DATA_MATRIX_FIELD_256)}decode(e){const t=new ln(e),r=t.getVersion(),n=t.readCodewords(),i=Qn.getDataBlocks(n,r);let s=0;for(let u of i)s+=u.getNumDataCodewords();const a=new Uint8Array(s),l=i.length;for(let u=0;u<l;u++){const w=i[u],C=w.getCodewords(),E=w.getNumDataCodewords();this.correctErrors(C,E);for(let T=0;T<E;T++)a[T*l+u]=C[T]}return Yt.decode(a)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new N}for(let n=0;n<t;n++)e[n]=r[n]}}class ot{constructor(e){this.image=e,this.rectangleDetector=new Nt(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new U;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],i=t[2],s=t[3];let a=this.transitionsBetween(r,s)+1,l=this.transitionsBetween(i,s)+1;(a&1)===1&&(a+=1),(l&1)===1&&(l+=1),4*a<7*l&&4*l<7*a&&(a=l=Math.max(a,l));let u=ot.sampleGrid(this.image,r,n,i,s,a,l);return new bn(u,[r,n,i,s])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),i=(t.getY()-e.getY())/(r+1);return new de(e.getX()+n,e.getY()+i)}static moveAway(e,t,r){let n=e.getX(),i=e.getY();return n<t?n-=1:n+=1,i<r?i-=1:i+=1,new de(n,i)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],i=e[2],s=this.transitionsBetween(t,r),a=this.transitionsBetween(r,n),l=this.transitionsBetween(n,i),u=this.transitionsBetween(i,t),w=s,C=[i,t,r,n];return w>a&&(w=a,C[0]=t,C[1]=r,C[2]=n,C[3]=i),w>l&&(w=l,C[0]=r,C[1]=n,C[2]=i,C[3]=t),w>u&&(C[0]=n,C[1]=i,C[2]=t,C[3]=r),C}detectSolid2(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=this.transitionsBetween(t,i),a=ot.shiftPoint(r,n,(s+1)*4),l=ot.shiftPoint(n,r,(s+1)*4),u=this.transitionsBetween(a,t),w=this.transitionsBetween(l,i);return u<w?(e[0]=t,e[1]=r,e[2]=n,e[3]=i):(e[0]=r,e[1]=n,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=this.transitionsBetween(t,i),a=this.transitionsBetween(r,i),l=ot.shiftPoint(t,r,(a+1)*4),u=ot.shiftPoint(n,r,(s+1)*4);s=this.transitionsBetween(l,i),a=this.transitionsBetween(u,i);let w=new de(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1)),C=new de(i.getX()+(t.getX()-r.getX())/(a+1),i.getY()+(t.getY()-r.getY())/(a+1));if(!this.isValid(w))return this.isValid(C)?C:null;if(!this.isValid(C))return w;let E=this.transitionsBetween(l,w)+this.transitionsBetween(u,w),T=this.transitionsBetween(l,C)+this.transitionsBetween(u,C);return E>T?w:C}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=this.transitionsBetween(t,i)+1,a=this.transitionsBetween(n,i)+1,l=ot.shiftPoint(t,r,a*4),u=ot.shiftPoint(n,r,s*4);s=this.transitionsBetween(l,i)+1,a=this.transitionsBetween(u,i)+1,(s&1)===1&&(s+=1),(a&1)===1&&(a+=1);let w=(t.getX()+r.getX()+n.getX()+i.getX())/4,C=(t.getY()+r.getY()+n.getY()+i.getY())/4;t=ot.moveAway(t,w,C),r=ot.moveAway(r,w,C),n=ot.moveAway(n,w,C),i=ot.moveAway(i,w,C);let E,T;return l=ot.shiftPoint(t,r,a*4),l=ot.shiftPoint(l,i,s*4),E=ot.shiftPoint(r,t,a*4),E=ot.shiftPoint(E,n,s*4),u=ot.shiftPoint(n,i,a*4),u=ot.shiftPoint(u,r,s*4),T=ot.shiftPoint(i,n,a*4),T=ot.shiftPoint(T,t,s*4),[l,E,u,T]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,i,s,a){return sr.getInstance().sampleGrid(e,s,a,.5,.5,s-.5,.5,s-.5,a-.5,.5,a-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),i=Math.trunc(t.getX()),s=Math.trunc(t.getY()),a=Math.abs(s-n)>Math.abs(i-r);if(a){let O=r;r=n,n=O,O=i,i=s,s=O}let l=Math.abs(i-r),u=Math.abs(s-n),w=-l/2,C=n<s?1:-1,E=r<i?1:-1,T=0,k=this.image.get(a?n:r,a?r:n);for(let O=r,D=n;O!==i;O+=E){let P=this.image.get(a?D:O,a?O:D);if(P!==k&&(T++,k=P),w+=u,w>0){if(D===s)break;D+=C,w-=l}}return T}}class ur{constructor(){this.decoder=new $n}decode(e,t=null){let r,n;if(t!=null&&t.has(he.PURE_BARCODE)){const u=ur.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(u),n=ur.NO_POINTS}else{const u=new ot(e.getBlackMatrix()).detect();r=this.decoder.decode(u.getBits()),n=u.getPoints()}const i=r.getRawBytes(),s=new Le(r.getText(),i,8*i.length,n,Ae.DATA_MATRIX,j.currentTimeMillis()),a=r.getByteSegments();a!=null&&s.putMetadata(wt.BYTE_SEGMENTS,a);const l=r.getECLevel();return l!=null&&s.putMetadata(wt.ERROR_CORRECTION_LEVEL,l),s}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new U;const n=this.moduleSize(t,e);let i=t[1];const s=r[1];let a=t[0];const u=(r[0]-a+1)/n,w=(s-i+1)/n;if(u<=0||w<=0)throw new U;const C=n/2;i+=C,a+=C;const E=new Ue(u,w);for(let T=0;T<w;T++){const k=i+T*n;for(let O=0;O<u;O++)e.get(a+O*n,k)&&E.set(O,T)}return E}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const i=e[1];for(;n<r&&t.get(n,i);)n++;if(n===r)throw new U;const s=n-e[0];if(s===0)throw new U;return s}}ur.NO_POINTS=[];class Vr extends er{constructor(e=500){super(new ur,e)}}var rr;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(rr||(rr={}));class Xe{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,Xe.FOR_BITS.set(r,this),Xe.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Xe.L;case"M":return Xe.M;case"Q":return Xe.Q;case"H":return Xe.H;default:throw new I(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Xe))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Xe.FOR_BITS.size)throw new y;return Xe.FOR_BITS.get(e)}}Xe.FOR_BITS=new Map,Xe.FOR_VALUE=new Map,Xe.L=new Xe(rr.L,"L",1),Xe.M=new Xe(rr.M,"M",0),Xe.Q=new Xe(rr.Q,"Q",3),Xe.H=new Xe(rr.H,"H",2);class _t{constructor(e){this.errorCorrectionLevel=Xe.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return $.bitCount(e^t)}static decodeFormatInformation(e,t){const r=_t.doDecodeFormatInformation(e,t);return r!==null?r:_t.doDecodeFormatInformation(e^_t.FORMAT_INFO_MASK_QR,t^_t.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const i of _t.FORMAT_INFO_DECODE_LOOKUP){const s=i[0];if(s===e||s===t)return new _t(i[1]);let a=_t.numBitsDiffering(e,s);a<r&&(n=i[1],r=a),e!==t&&(a=_t.numBitsDiffering(t,s),a<r&&(n=i[1],r=a))}return r<=3?new _t(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof _t))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}_t.FORMAT_INFO_MASK_QR=21522,_t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class B{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class we{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const i=r[0].getECCodewordsPerBlock(),s=r[0].getECBlocks();for(const a of s)n+=a.getCount()*(a.getDataCodewords()+i);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new G;try{return this.getVersionForNumber((e-17)/4)}catch{throw new G}}static getVersionForNumber(e){if(e<1||e>40)throw new y;return we.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<we.VERSION_DECODE_INFO.length;n++){const i=we.VERSION_DECODE_INFO[n];if(i===e)return we.getVersionForNumber(n+7);const s=_t.numBitsDiffering(e,i);s<t&&(r=n+7,t=s)}return t<=3?we.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new Ue(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let n=0;n<r;n++){const i=this.alignmentPatternCenters[n]-2;for(let s=0;s<r;s++)n===0&&(s===0||s===r-1)||n===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,i,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}we.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),we.VERSIONS=[new we(1,new Int32Array(0),new B(7,new _(1,19)),new B(10,new _(1,16)),new B(13,new _(1,13)),new B(17,new _(1,9))),new we(2,Int32Array.from([6,18]),new B(10,new _(1,34)),new B(16,new _(1,28)),new B(22,new _(1,22)),new B(28,new _(1,16))),new we(3,Int32Array.from([6,22]),new B(15,new _(1,55)),new B(26,new _(1,44)),new B(18,new _(2,17)),new B(22,new _(2,13))),new we(4,Int32Array.from([6,26]),new B(20,new _(1,80)),new B(18,new _(2,32)),new B(26,new _(2,24)),new B(16,new _(4,9))),new we(5,Int32Array.from([6,30]),new B(26,new _(1,108)),new B(24,new _(2,43)),new B(18,new _(2,15),new _(2,16)),new B(22,new _(2,11),new _(2,12))),new we(6,Int32Array.from([6,34]),new B(18,new _(2,68)),new B(16,new _(4,27)),new B(24,new _(4,19)),new B(28,new _(4,15))),new we(7,Int32Array.from([6,22,38]),new B(20,new _(2,78)),new B(18,new _(4,31)),new B(18,new _(2,14),new _(4,15)),new B(26,new _(4,13),new _(1,14))),new we(8,Int32Array.from([6,24,42]),new B(24,new _(2,97)),new B(22,new _(2,38),new _(2,39)),new B(22,new _(4,18),new _(2,19)),new B(26,new _(4,14),new _(2,15))),new we(9,Int32Array.from([6,26,46]),new B(30,new _(2,116)),new B(22,new _(3,36),new _(2,37)),new B(20,new _(4,16),new _(4,17)),new B(24,new _(4,12),new _(4,13))),new we(10,Int32Array.from([6,28,50]),new B(18,new _(2,68),new _(2,69)),new B(26,new _(4,43),new _(1,44)),new B(24,new _(6,19),new _(2,20)),new B(28,new _(6,15),new _(2,16))),new we(11,Int32Array.from([6,30,54]),new B(20,new _(4,81)),new B(30,new _(1,50),new _(4,51)),new B(28,new _(4,22),new _(4,23)),new B(24,new _(3,12),new _(8,13))),new we(12,Int32Array.from([6,32,58]),new B(24,new _(2,92),new _(2,93)),new B(22,new _(6,36),new _(2,37)),new B(26,new _(4,20),new _(6,21)),new B(28,new _(7,14),new _(4,15))),new we(13,Int32Array.from([6,34,62]),new B(26,new _(4,107)),new B(22,new _(8,37),new _(1,38)),new B(24,new _(8,20),new _(4,21)),new B(22,new _(12,11),new _(4,12))),new we(14,Int32Array.from([6,26,46,66]),new B(30,new _(3,115),new _(1,116)),new B(24,new _(4,40),new _(5,41)),new B(20,new _(11,16),new _(5,17)),new B(24,new _(11,12),new _(5,13))),new we(15,Int32Array.from([6,26,48,70]),new B(22,new _(5,87),new _(1,88)),new B(24,new _(5,41),new _(5,42)),new B(30,new _(5,24),new _(7,25)),new B(24,new _(11,12),new _(7,13))),new we(16,Int32Array.from([6,26,50,74]),new B(24,new _(5,98),new _(1,99)),new B(28,new _(7,45),new _(3,46)),new B(24,new _(15,19),new _(2,20)),new B(30,new _(3,15),new _(13,16))),new we(17,Int32Array.from([6,30,54,78]),new B(28,new _(1,107),new _(5,108)),new B(28,new _(10,46),new _(1,47)),new B(28,new _(1,22),new _(15,23)),new B(28,new _(2,14),new _(17,15))),new we(18,Int32Array.from([6,30,56,82]),new B(30,new _(5,120),new _(1,121)),new B(26,new _(9,43),new _(4,44)),new B(28,new _(17,22),new _(1,23)),new B(28,new _(2,14),new _(19,15))),new we(19,Int32Array.from([6,30,58,86]),new B(28,new _(3,113),new _(4,114)),new B(26,new _(3,44),new _(11,45)),new B(26,new _(17,21),new _(4,22)),new B(26,new _(9,13),new _(16,14))),new we(20,Int32Array.from([6,34,62,90]),new B(28,new _(3,107),new _(5,108)),new B(26,new _(3,41),new _(13,42)),new B(30,new _(15,24),new _(5,25)),new B(28,new _(15,15),new _(10,16))),new we(21,Int32Array.from([6,28,50,72,94]),new B(28,new _(4,116),new _(4,117)),new B(26,new _(17,42)),new B(28,new _(17,22),new _(6,23)),new B(30,new _(19,16),new _(6,17))),new we(22,Int32Array.from([6,26,50,74,98]),new B(28,new _(2,111),new _(7,112)),new B(28,new _(17,46)),new B(30,new _(7,24),new _(16,25)),new B(24,new _(34,13))),new we(23,Int32Array.from([6,30,54,78,102]),new B(30,new _(4,121),new _(5,122)),new B(28,new _(4,47),new _(14,48)),new B(30,new _(11,24),new _(14,25)),new B(30,new _(16,15),new _(14,16))),new we(24,Int32Array.from([6,28,54,80,106]),new B(30,new _(6,117),new _(4,118)),new B(28,new _(6,45),new _(14,46)),new B(30,new _(11,24),new _(16,25)),new B(30,new _(30,16),new _(2,17))),new we(25,Int32Array.from([6,32,58,84,110]),new B(26,new _(8,106),new _(4,107)),new B(28,new _(8,47),new _(13,48)),new B(30,new _(7,24),new _(22,25)),new B(30,new _(22,15),new _(13,16))),new we(26,Int32Array.from([6,30,58,86,114]),new B(28,new _(10,114),new _(2,115)),new B(28,new _(19,46),new _(4,47)),new B(28,new _(28,22),new _(6,23)),new B(30,new _(33,16),new _(4,17))),new we(27,Int32Array.from([6,34,62,90,118]),new B(30,new _(8,122),new _(4,123)),new B(28,new _(22,45),new _(3,46)),new B(30,new _(8,23),new _(26,24)),new B(30,new _(12,15),new _(28,16))),new we(28,Int32Array.from([6,26,50,74,98,122]),new B(30,new _(3,117),new _(10,118)),new B(28,new _(3,45),new _(23,46)),new B(30,new _(4,24),new _(31,25)),new B(30,new _(11,15),new _(31,16))),new we(29,Int32Array.from([6,30,54,78,102,126]),new B(30,new _(7,116),new _(7,117)),new B(28,new _(21,45),new _(7,46)),new B(30,new _(1,23),new _(37,24)),new B(30,new _(19,15),new _(26,16))),new we(30,Int32Array.from([6,26,52,78,104,130]),new B(30,new _(5,115),new _(10,116)),new B(28,new _(19,47),new _(10,48)),new B(30,new _(15,24),new _(25,25)),new B(30,new _(23,15),new _(25,16))),new we(31,Int32Array.from([6,30,56,82,108,134]),new B(30,new _(13,115),new _(3,116)),new B(28,new _(2,46),new _(29,47)),new B(30,new _(42,24),new _(1,25)),new B(30,new _(23,15),new _(28,16))),new we(32,Int32Array.from([6,34,60,86,112,138]),new B(30,new _(17,115)),new B(28,new _(10,46),new _(23,47)),new B(30,new _(10,24),new _(35,25)),new B(30,new _(19,15),new _(35,16))),new we(33,Int32Array.from([6,30,58,86,114,142]),new B(30,new _(17,115),new _(1,116)),new B(28,new _(14,46),new _(21,47)),new B(30,new _(29,24),new _(19,25)),new B(30,new _(11,15),new _(46,16))),new we(34,Int32Array.from([6,34,62,90,118,146]),new B(30,new _(13,115),new _(6,116)),new B(28,new _(14,46),new _(23,47)),new B(30,new _(44,24),new _(7,25)),new B(30,new _(59,16),new _(1,17))),new we(35,Int32Array.from([6,30,54,78,102,126,150]),new B(30,new _(12,121),new _(7,122)),new B(28,new _(12,47),new _(26,48)),new B(30,new _(39,24),new _(14,25)),new B(30,new _(22,15),new _(41,16))),new we(36,Int32Array.from([6,24,50,76,102,128,154]),new B(30,new _(6,121),new _(14,122)),new B(28,new _(6,47),new _(34,48)),new B(30,new _(46,24),new _(10,25)),new B(30,new _(2,15),new _(64,16))),new we(37,Int32Array.from([6,28,54,80,106,132,158]),new B(30,new _(17,122),new _(4,123)),new B(28,new _(29,46),new _(14,47)),new B(30,new _(49,24),new _(10,25)),new B(30,new _(24,15),new _(46,16))),new we(38,Int32Array.from([6,32,58,84,110,136,162]),new B(30,new _(4,122),new _(18,123)),new B(28,new _(13,46),new _(32,47)),new B(30,new _(48,24),new _(14,25)),new B(30,new _(42,15),new _(32,16))),new we(39,Int32Array.from([6,26,54,82,110,138,166]),new B(30,new _(20,117),new _(4,118)),new B(28,new _(40,47),new _(7,48)),new B(30,new _(43,24),new _(22,25)),new B(30,new _(10,15),new _(67,16))),new we(40,Int32Array.from([6,30,58,86,114,142,170]),new B(30,new _(19,118),new _(6,119)),new B(28,new _(18,47),new _(31,48)),new B(30,new _(34,24),new _(34,25)),new B(30,new _(20,15),new _(61,16)))];var ut;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(ut||(ut={}));class Vt{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}Vt.values=new Map([[ut.DATA_MASK_000,new Vt(ut.DATA_MASK_000,(v,e)=>(v+e&1)===0)],[ut.DATA_MASK_001,new Vt(ut.DATA_MASK_001,(v,e)=>(v&1)===0)],[ut.DATA_MASK_010,new Vt(ut.DATA_MASK_010,(v,e)=>e%3===0)],[ut.DATA_MASK_011,new Vt(ut.DATA_MASK_011,(v,e)=>(v+e)%3===0)],[ut.DATA_MASK_100,new Vt(ut.DATA_MASK_100,(v,e)=>(Math.floor(v/2)+Math.floor(e/3)&1)===0)],[ut.DATA_MASK_101,new Vt(ut.DATA_MASK_101,(v,e)=>v*e%6===0)],[ut.DATA_MASK_110,new Vt(ut.DATA_MASK_110,(v,e)=>v*e%6<3)],[ut.DATA_MASK_111,new Vt(ut.DATA_MASK_111,(v,e)=>(v+e+v*e%3&1)===0)]]);class Xi{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new G;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let i=t-1;i>=n;i--)r=this.copyBit(8,i,r);for(let i=t-8;i<t;i++)r=this.copyBit(i,8,r);if(this.parsedFormatInfo=_t.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new G}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return we.getVersionForNumber(t);let r=0;const n=e-11;for(let s=5;s>=0;s--)for(let a=e-9;a>=n;a--)r=this.copyBit(a,s,r);let i=we.decodeVersionInformation(r);if(i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;r=0;for(let s=5;s>=0;s--)for(let a=e-9;a>=n;a--)r=this.copyBit(s,a,r);if(i=we.decodeVersionInformation(r),i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new G}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=Vt.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const i=t.buildFunctionPattern();let s=!0;const a=new Uint8Array(t.getTotalCodewords());let l=0,u=0,w=0;for(let C=n-1;C>0;C-=2){C===6&&C--;for(let E=0;E<n;E++){const T=s?n-1-E:E;for(let k=0;k<2;k++)i.get(C-k,T)||(w++,u<<=1,this.bitMatrix.get(C-k,T)&&(u|=1),w===8&&(a[l++]=u,w=0,u=0))}s=!s}if(l!==t.getTotalCodewords())throw new G;return a}remask(){if(this.parsedFormatInfo===null)return;const e=Vt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class dr{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new y;const n=t.getECBlocksForLevel(r);let i=0;const s=n.getECBlocks();for(const k of s)i+=k.getCount();const a=new Array(i);let l=0;for(const k of s)for(let O=0;O<k.getCount();O++){const D=k.getDataCodewords(),P=n.getECCodewordsPerBlock()+D;a[l++]=new dr(D,new Uint8Array(P))}const u=a[0].codewords.length;let w=a.length-1;for(;w>=0&&a[w].codewords.length!==u;)w--;w++;const C=u-n.getECCodewordsPerBlock();let E=0;for(let k=0;k<C;k++)for(let O=0;O<l;O++)a[O].codewords[k]=e[E++];for(let k=w;k<l;k++)a[k].codewords[C]=e[E++];const T=a[0].codewords.length;for(let k=C;k<T;k++)for(let O=0;O<l;O++){const D=O<w?k:k+1;a[O].codewords[D]=e[E++]}return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var kt;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(kt||(kt={}));class ve{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,ve.FOR_BITS.set(n,this),ve.FOR_VALUE.set(e,this)}static forBits(e){const t=ve.FOR_BITS.get(e);if(t===void 0)throw new y;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof ve))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}ve.FOR_BITS=new Map,ve.FOR_VALUE=new Map,ve.TERMINATOR=new ve(kt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ve.NUMERIC=new ve(kt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ve.ALPHANUMERIC=new ve(kt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ve.STRUCTURED_APPEND=new ve(kt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ve.BYTE=new ve(kt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ve.ECI=new ve(kt.ECI,"ECI",Int32Array.from([0,0,0]),7),ve.KANJI=new ve(kt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ve.FNC1_FIRST_POSITION=new ve(kt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ve.FNC1_SECOND_POSITION=new ve(kt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ve.HANZI=new ve(kt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class $e{static decode(e,t,r,n){const i=new Jn(e);let s=new _e;const a=new Array;let l=-1,u=-1;try{let w=null,C=!1,E;do{if(i.available()<4)E=ve.TERMINATOR;else{const T=i.readBits(4);E=ve.forBits(T)}switch(E){case ve.TERMINATOR:break;case ve.FNC1_FIRST_POSITION:case ve.FNC1_SECOND_POSITION:C=!0;break;case ve.STRUCTURED_APPEND:if(i.available()<16)throw new G;l=i.readBits(8),u=i.readBits(8);break;case ve.ECI:const T=$e.parseECIValue(i);if(w=z.getCharacterSetECIByValue(T),w===null)throw new G;break;case ve.HANZI:const k=i.readBits(4),O=i.readBits(E.getCharacterCountBits(t));k===$e.GB2312_SUBSET&&$e.decodeHanziSegment(i,s,O);break;default:const D=i.readBits(E.getCharacterCountBits(t));switch(E){case ve.NUMERIC:$e.decodeNumericSegment(i,s,D);break;case ve.ALPHANUMERIC:$e.decodeAlphanumericSegment(i,s,D,C);break;case ve.BYTE:$e.decodeByteSegment(i,s,D,w,a,n);break;case ve.KANJI:$e.decodeKanjiSegment(i,s,D);break;default:throw new G}break}}while(E!==ve.TERMINATOR)}catch{throw new G}return new Zt(e,s.toString(),a.length===0?null:a,r===null?null:r.toString(),l,u)}static decodeHanziSegment(e,t,r){if(r*13>e.available())throw new G;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const s=e.readBits(13);let a=s/96<<8&4294967295|s%96;a<959?a+=41377:a+=42657,n[i]=a>>8&255,n[i+1]=a&255,i+=2,r--}try{t.append(Se.decode(n,ie.GB2312))}catch(s){throw new G(s)}}static decodeKanjiSegment(e,t,r){if(r*13>e.available())throw new G;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const s=e.readBits(13);let a=s/192<<8&4294967295|s%192;a<7936?a+=33088:a+=49472,n[i]=a>>8,n[i+1]=a,i+=2,r--}try{t.append(Se.decode(n,ie.SHIFT_JIS))}catch(s){throw new G(s)}}static decodeByteSegment(e,t,r,n,i,s){if(8*r>e.available())throw new G;const a=new Uint8Array(r);for(let u=0;u<r;u++)a[u]=e.readBits(8);let l;n===null?l=ie.guessEncoding(a,s):l=n.getName();try{t.append(Se.decode(a,l))}catch(u){throw new G(u)}i.push(a)}static toAlphaNumericChar(e){if(e>=$e.ALPHANUMERIC_CHARS.length)throw new G;return $e.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const i=t.length();for(;r>1;){if(e.available()<11)throw new G;const s=e.readBits(11);t.append($e.toAlphaNumericChar(Math.floor(s/45))),t.append($e.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new G;t.append($e.toAlphaNumericChar(e.readBits(6)))}if(n)for(let s=i;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,""))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new G;const n=e.readBits(10);if(n>=1e3)throw new G;t.append($e.toAlphaNumericChar(Math.floor(n/100))),t.append($e.toAlphaNumericChar(Math.floor(n/10)%10)),t.append($e.toAlphaNumericChar(n%10)),r-=3}if(r===2){if(e.available()<7)throw new G;const n=e.readBits(7);if(n>=100)throw new G;t.append($e.toAlphaNumericChar(Math.floor(n/10))),t.append($e.toAlphaNumericChar(n%10))}else if(r===1){if(e.available()<4)throw new G;const n=e.readBits(4);if(n>=10)throw new G;t.append($e.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){const r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){const r=e.readBits(16);return(t&31)<<16&4294967295|r}throw new G}}$e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",$e.GB2312_SUBSET=1;class bi{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Gr{constructor(){this.rsDecoder=new Er(ze.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(Ue.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new Xi(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(i){n=i}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const i=this.decodeBitMatrixParser(r,t);return i.setOther(new bi(!0)),i}catch(i){throw n!==null?n:i}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),s=dr.getDataBlocks(i,r,n);let a=0;for(const w of s)a+=w.getNumDataCodewords();const l=new Uint8Array(a);let u=0;for(const w of s){const C=w.getCodewords(),E=w.getNumDataCodewords();this.correctErrors(C,E);for(let T=0;T<E;T++)l[u++]=C[T]}return $e.decode(l,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new N}for(let n=0;n<t;n++)e[n]=r[n]}}class Hr extends de{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,i=(this.getY()+e)/2,s=(this.estimatedModuleSize+r)/2;return new Hr(n,i,s)}}class Wr{constructor(e,t,r,n,i,s,a){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=this.width,n=e+r,i=this.startY+t/2,s=new Int32Array(3),a=this.image;for(let l=0;l<t;l++){const u=i+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));s[0]=0,s[1]=0,s[2]=0;let w=e;for(;w<n&&!a.get(w,u);)w++;let C=0;for(;w<n;){if(a.get(w,u))if(C===1)s[1]++;else if(C===2){if(this.foundPatternCross(s)){const E=this.handlePossibleCenter(s,u,w);if(E!==null)return E}s[0]=s[2],s[1]=1,s[2]=0,C=1}else s[++C]++;else C===1&&C++,s[C]++;w++}if(this.foundPatternCross(s)){const E=this.handlePossibleCenter(s,u,n);if(E!==null)return E}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const i=this.image,s=i.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;let l=e;for(;l>=0&&i.get(t,l)&&a[1]<=r;)a[1]++,l--;if(l<0||a[1]>r)return NaN;for(;l>=0&&!i.get(t,l)&&a[0]<=r;)a[0]++,l--;if(a[0]>r)return NaN;for(l=e+1;l<s&&i.get(t,l)&&a[1]<=r;)a[1]++,l++;if(l===s||a[1]>r)return NaN;for(;l<s&&!i.get(t,l)&&a[2]<=r;)a[2]++,l++;if(a[2]>r)return NaN;const u=a[0]+a[1]+a[2];return 5*Math.abs(u-n)>=2*n?NaN:this.foundPatternCross(a)?Wr.centerFromEnd(a,l):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],i=Wr.centerFromEnd(e,r),s=this.crossCheckVertical(t,i,2*e[1],n);if(!isNaN(s)){const a=(e[0]+e[1]+e[2])/3;for(const u of this.possibleCenters)if(u.aboutEquals(a,s,i))return u.combineEstimate(s,i,a);const l=new Hr(i,s,a);this.possibleCenters.push(l),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(l)}return null}}class ei extends de{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,n===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,i=(this.count*this.getX()+t)/n,s=(this.count*this.getY()+e)/n,a=(this.count*this.estimatedModuleSize+r)/n;return new ei(i,s,a,n)}}class Yi{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class et{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(he.TRY_HARDER)!==void 0,r=e!=null&&e.get(he.PURE_BARCODE)!==void 0,n=this.image,i=n.getHeight(),s=n.getWidth();let a=Math.floor(3*i/(4*et.MAX_MODULES));(a<et.MIN_SKIP||t)&&(a=et.MIN_SKIP);let l=!1;const u=new Int32Array(5);for(let C=a-1;C<i&&!l;C+=a){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;let E=0;for(let T=0;T<s;T++)if(n.get(T,C))(E&1)===1&&E++,u[E]++;else if((E&1)===0)if(E===4)if(et.foundPatternCross(u)){if(this.handlePossibleCenter(u,C,T,r)===!0)if(a=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{const O=this.findRowSkip();O>u[2]&&(C+=O-u[2]-a,T=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,E=3;continue}E=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,E=3;else u[++E]++;else u[E]++;et.foundPatternCross(u)&&this.handlePossibleCenter(u,C,s,r)===!0&&(a=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return de.orderBestPatterns(w),new Yi(w)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const s=e[i];if(s===0)return!1;t+=s}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const i=this.getCrossCheckStateCount();let s=0;const a=this.image;for(;e>=s&&t>=s&&a.get(t-s,e-s);)i[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!a.get(t-s,e-s)&&i[1]<=r;)i[1]++,s++;if(e<s||t<s||i[1]>r)return!1;for(;e>=s&&t>=s&&a.get(t-s,e-s)&&i[0]<=r;)i[0]++,s++;if(i[0]>r)return!1;const l=a.getHeight(),u=a.getWidth();for(s=1;e+s<l&&t+s<u&&a.get(t+s,e+s);)i[2]++,s++;if(e+s>=l||t+s>=u)return!1;for(;e+s<l&&t+s<u&&!a.get(t+s,e+s)&&i[3]<r;)i[3]++,s++;if(e+s>=l||t+s>=u||i[3]>=r)return!1;for(;e+s<l&&t+s<u&&a.get(t+s,e+s)&&i[4]<r;)i[4]++,s++;if(i[4]>=r)return!1;const w=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(w-n)<2*n&&et.foundPatternCross(i)}crossCheckVertical(e,t,r,n){const i=this.image,s=i.getHeight(),a=this.getCrossCheckStateCount();let l=e;for(;l>=0&&i.get(t,l);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(t,l)&&a[1]<=r;)a[1]++,l--;if(l<0||a[1]>r)return NaN;for(;l>=0&&i.get(t,l)&&a[0]<=r;)a[0]++,l--;if(a[0]>r)return NaN;for(l=e+1;l<s&&i.get(t,l);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!i.get(t,l)&&a[3]<r;)a[3]++,l++;if(l===s||a[3]>=r)return NaN;for(;l<s&&i.get(t,l)&&a[4]<r;)a[4]++,l++;if(a[4]>=r)return NaN;const u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-n)>=2*n?NaN:et.foundPatternCross(a)?et.centerFromEnd(a,l):NaN}crossCheckHorizontal(e,t,r,n){const i=this.image,s=i.getWidth(),a=this.getCrossCheckStateCount();let l=e;for(;l>=0&&i.get(l,t);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!i.get(l,t)&&a[1]<=r;)a[1]++,l--;if(l<0||a[1]>r)return NaN;for(;l>=0&&i.get(l,t)&&a[0]<=r;)a[0]++,l--;if(a[0]>r)return NaN;for(l=e+1;l<s&&i.get(l,t);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!i.get(l,t)&&a[3]<r;)a[3]++,l++;if(l===s||a[3]>=r)return NaN;for(;l<s&&i.get(l,t)&&a[4]<r;)a[4]++,l++;if(a[4]>=r)return NaN;const u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-n)>=n?NaN:et.foundPatternCross(a)?et.centerFromEnd(a,l):NaN}handlePossibleCenter(e,t,r,n){const i=e[0]+e[1]+e[2]+e[3]+e[4];let s=et.centerFromEnd(e,r),a=this.crossCheckVertical(t,Math.floor(s),e[2],i);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),e[2],i),!isNaN(s)&&(!n||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),e[2],i)))){const l=i/7;let u=!1;const w=this.possibleCenters;for(let C=0,E=w.length;C<E;C++){const T=w[C];if(T.aboutEquals(l,a,s)){w[C]=T.combineEstimate(a,s,l),u=!0;break}}if(!u){const C=new ei(s,a,l);w.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const r of this.possibleCenters)if(r.getCount()>=et.CENTER_QUORUM)if(t==null)t=r;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-r.getX())-Math.abs(t.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const s of this.possibleCenters)s.getCount()>=et.CENTER_QUORUM&&(e++,t+=s.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let i=0;for(const s of this.possibleCenters)i+=Math.abs(s.getEstimatedModuleSize()-n);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new U;const t=this.possibleCenters;let r;if(e>3){let n=0,i=0;for(const l of this.possibleCenters){const u=l.getEstimatedModuleSize();n+=u,i+=u*u}r=n/e;let s=Math.sqrt(i/e-r*r);t.sort((l,u)=>{const w=Math.abs(u.getEstimatedModuleSize()-r),C=Math.abs(l.getEstimatedModuleSize()-r);return w<C?-1:w>C?1:0});const a=Math.max(.2*r,s);for(let l=0;l<t.length&&t.length>3;l++){const u=t[l];Math.abs(u.getEstimatedModuleSize()-r)>a&&(t.splice(l,1),l--)}}if(t.length>3){let n=0;for(const i of t)n+=i.getEstimatedModuleSize();r=n/t.length,t.sort((i,s)=>{if(s.getCount()===i.getCount()){const a=Math.abs(s.getEstimatedModuleSize()-r),l=Math.abs(i.getEstimatedModuleSize()-r);return a<l?1:a>l?-1:0}else return s.getCount()-i.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}et.CENTER_QUORUM=2,et.MIN_SKIP=3,et.MAX_MODULES=57;class fr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(he.NEED_RESULT_POINT_CALLBACK);const r=new et(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),i=this.calculateModuleSize(t,r,n);if(i<1)throw new U("No pattern found in proccess finder.");const s=fr.computeDimension(t,r,n,i),a=we.getProvisionalVersionForDimension(s),l=a.getDimensionForVersion()-7;let u=null;if(a.getAlignmentPatternCenters().length>0){const T=r.getX()-t.getX()+n.getX(),k=r.getY()-t.getY()+n.getY(),O=1-3/l,D=Math.floor(t.getX()+O*(T-t.getX())),P=Math.floor(t.getY()+O*(k-t.getY()));for(let Y=4;Y<=16;Y<<=1)try{u=this.findAlignmentInRegion(i,D,P,Y);break}catch(Z){if(!(Z instanceof U))throw Z}}const w=fr.createTransform(t,r,n,u,s),C=fr.sampleGrid(this.image,w,s);let E;return u===null?E=[n,t,r]:E=[n,t,r,u],new bn(C,E)}static createTransform(e,t,r,n,i){const s=i-3.5;let a,l,u,w;return n!==null?(a=n.getX(),l=n.getY(),u=s-3,w=u):(a=t.getX()-e.getX()+r.getX(),l=t.getY()-e.getY()+r.getY(),u=s,w=s),Pt.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,w,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),a,l,r.getX(),r.getY())}static sampleGrid(e,t,r){return sr.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const i=Ne.round(de.distance(e,t)/n),s=Ne.round(de.distance(e,r)/n);let a=Math.floor((i+s)/2)+7;switch(a&3){case 0:a++;break;case 2:a--;break;case 3:throw new U("Dimensions could be not found.")}return a}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),s=1,a=e-(r-e);a<0?(s=e/(e-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);let l=Math.floor(t-(n-t)*s);return s=1,l<0?(s=t/(t-l),l=0):l>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(l-t),l=this.image.getHeight()-1),a=Math.floor(e+(a-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,t,a,l),i-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const i=Math.abs(n-t)>Math.abs(r-e);if(i){let T=e;e=t,t=T,T=r,r=n,n=T}const s=Math.abs(r-e),a=Math.abs(n-t);let l=-s/2;const u=e<r?1:-1,w=t<n?1:-1;let C=0;const E=r+u;for(let T=e,k=t;T!==E;T+=u){const O=i?k:T,D=i?T:k;if(C===1===this.image.get(O,D)){if(C===2)return Ne.distance(T,k,e,t);C++}if(l+=a,l>0){if(k===n)break;k+=w,l-=s}}return C===2?Ne.distance(r+u,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const i=Math.floor(n*e),s=Math.max(0,t-i),a=Math.min(this.image.getWidth()-1,t+i);if(a-s<e*3)throw new U("Alignment top exceeds estimated module size.");const l=Math.max(0,r-i),u=Math.min(this.image.getHeight()-1,r+i);if(u-l<e*3)throw new U("Alignment bottom exceeds estimated module size.");return new Wr(this.image,s,l,a-s,u-l,e,this.resultPointCallback).find()}}class Jt{constructor(){this.decoder=new Gr}getDecoder(){return this.decoder}decode(e,t){let r,n;if(t!=null&&t.get(he.PURE_BARCODE)!==void 0){const l=Jt.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(l,t),n=Jt.NO_POINTS}else{const l=new fr(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(l.getBits(),t),n=l.getPoints()}r.getOther()instanceof bi&&r.getOther().applyMirroredCorrection(n);const i=new Le(r.getText(),r.getRawBytes(),void 0,n,Ae.QR_CODE,void 0),s=r.getByteSegments();s!==null&&i.putMetadata(wt.BYTE_SEGMENTS,s);const a=r.getECLevel();return a!==null&&i.putMetadata(wt.ERROR_CORRECTION_LEVEL,a),r.hasStructuredAppend()&&(i.putMetadata(wt.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),i.putMetadata(wt.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new U;const n=this.moduleSize(t,e);let i=t[1],s=r[1],a=t[0],l=r[0];if(a>=l||i>=s)throw new U;if(s-i!==l-a&&(l=a+(s-i),l>=e.getWidth()))throw new U;const u=Math.round((l-a+1)/n),w=Math.round((s-i+1)/n);if(u<=0||w<=0)throw new U;if(w!==u)throw new U;const C=Math.floor(n/2);i+=C,a+=C;const E=a+Math.floor((u-1)*n)-l;if(E>0){if(E>C)throw new U;a-=E}const T=i+Math.floor((w-1)*n)-s;if(T>0){if(T>C)throw new U;i-=T}const k=new Ue(u,w);for(let O=0;O<w;O++){const D=i+Math.floor(O*n);for(let P=0;P<u;P++)e.get(a+Math.floor(P*n),D)&&k.set(P,O)}return k}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let i=e[0],s=e[1],a=!0,l=0;for(;i<n&&s<r;){if(a!==t.get(i,s)){if(++l===5)break;a=!a}i++,s++}if(i===n||s===r)throw new U;return(i-e[0])/7}}Jt.NO_POINTS=new Array;class Ee{PDF417Common(){}static getBitCountSum(e){return Ne.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ee.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=me.binarySearch(Ee.SYMBOL_TABLE,e&262143);return t<0?-1:(Ee.CODEWORD_TABLE[t]-1)%Ee.NUMBER_OF_CODEWORDS}}Ee.NUMBER_OF_CODEWORDS=929,Ee.MAX_CODEWORDS_IN_BARCODE=Ee.NUMBER_OF_CODEWORDS-1,Ee.MIN_ROWS_IN_BARCODE=3,Ee.MAX_ROWS_IN_BARCODE=90,Ee.MODULES_IN_CODEWORD=17,Ee.MODULES_IN_STOP_PATTERN=18,Ee.BARS_IN_MODULE=8,Ee.EMPTY_INT_ARRAY=new Int32Array([]),Ee.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ee.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ji{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ye{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),i=ye.detect(r,n);return i.length||(n=n.clone(),n.rotate180(),i=ye.detect(r,n)),new ji(n,i)}static detect(e,t){const r=new Array;let n=0,i=0,s=!1;for(;n<t.getHeight();){const a=ye.findVertices(t,n,i);if(a[0]==null&&a[3]==null){if(!s)break;s=!1,i=0;for(const l of r)l[1]!=null&&(n=Math.trunc(Math.max(n,l[1].getY()))),l[3]!=null&&(n=Math.max(n,Math.trunc(l[3].getY())));n+=ye.ROW_STEP;continue}if(s=!0,r.push(a),!e)break;a[2]!=null?(i=Math.trunc(a[2].getX()),n=Math.trunc(a[2].getY())):(i=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY()))}return r}static findVertices(e,t,r){const n=e.getHeight(),i=e.getWidth(),s=new Array(8);return ye.copyToResult(s,ye.findRowsWithPattern(e,n,i,t,r,ye.START_PATTERN),ye.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),ye.copyToResult(s,ye.findRowsWithPattern(e,n,i,t,r,ye.STOP_PATTERN),ye.INDEXES_STOP_PATTERN),s}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,i,s){const a=new Array(4);let l=!1;const u=new Int32Array(s.length);for(;n<t;n+=ye.ROW_STEP){let C=ye.findGuardPattern(e,i,n,r,!1,s,u);if(C!=null){for(;n>0;){const E=ye.findGuardPattern(e,i,--n,r,!1,s,u);if(E!=null)C=E;else{n++;break}}a[0]=new de(C[0],n),a[1]=new de(C[1],n),l=!0;break}}let w=n+1;if(l){let C=0,E=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);for(;w<t;w++){const T=ye.findGuardPattern(e,E[0],w,r,!1,s,u);if(T!=null&&Math.abs(E[0]-T[0])<ye.MAX_PATTERN_DRIFT&&Math.abs(E[1]-T[1])<ye.MAX_PATTERN_DRIFT)E=T,C=0;else{if(C>ye.SKIPPED_ROW_COUNT_MAX)break;C++}}w-=C+1,a[2]=new de(E[0],w),a[3]=new de(E[1],w)}return w-n<ye.BARCODE_MIN_HEIGHT&&me.fill(a,null),a}static findGuardPattern(e,t,r,n,i,s,a){me.fillWithin(a,0,a.length,0);let l=t,u=0;for(;e.get(l,r)&&l>0&&u++<ye.MAX_PIXEL_DRIFT;)l--;let w=l,C=0,E=s.length;for(let T=i;w<n;w++)if(e.get(w,r)!==T)a[C]++;else{if(C===E-1){if(ye.patternMatchVariance(a,s,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE)return new Int32Array([l,w]);l+=a[0]+a[1],j.arraycopy(a,2,a,0,C-1),a[C-1]=0,a[C]=0,C--}else C++;a[C]=1,T=!T}return C===E-1&&ye.patternMatchVariance(a,s,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE?new Int32Array([l,w-1]):null}static patternMatchVariance(e,t,r){let n=e.length,i=0,s=0;for(let u=0;u<n;u++)i+=e[u],s+=t[u];if(i<s)return 1/0;let a=i/s;r*=a;let l=0;for(let u=0;u<n;u++){let w=e[u],C=t[u]*a,E=w>C?w-C:C-w;if(E>r)return 1/0;l+=E}return l/i}}ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ye.MAX_AVG_VARIANCE=.42,ye.MAX_INDIVIDUAL_VARIANCE=.8,ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ye.MAX_PIXEL_DRIFT=3,ye.MAX_PATTERN_DRIFT=5,ye.SKIPPED_ROW_COUNT_MAX=25,ye.ROW_STEP=5,ye.BARCODE_MIN_HEIGHT=10;class dt{constructor(e,t){if(t.length===0)throw new y;this.field=e;let r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-n),j.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let n=0;for(let i of this.coefficients)n=this.field.add(n,i);return n}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let s=t;t=r,r=s}let n=new Int32Array(r.length),i=r.length-t.length;j.arraycopy(r,0,n,0,i);for(let s=i;s<r.length;s++)n[s]=this.field.add(t[s-i],r[s]);return new dt(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof dt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new dt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,s=new Int32Array(r+i-1);for(let a=0;a<r;a++){let l=t[a];for(let u=0;u<i;u++)s[a+u]=this.field.add(s[a+u],this.field.multiply(l,n[u]))}return new dt(this.field,s)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new dt(this.field,t)}multiplyScalar(e){if(e===0)return new dt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new dt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new y;if(t===0)return new dt(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new dt(this.field,n)}toString(){let e=new _e;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class ti{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new y;return this.logTable[e]}inverse(e){if(e===0)throw new mn;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ri extends ti{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let n=0;n<e-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new dt(this,new Int32Array([0])),this.one=new dt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new y;if(t===0)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new dt(this,r)}}ri.PDF417_GF=new ri(Ee.NUMBER_OF_CODEWORDS,3);class vi{constructor(){this.field=ri.PDF417_GF}decode(e,t,r){let n=new dt(this.field,e),i=new Int32Array(t),s=!1;for(let k=t;k>0;k--){let O=n.evaluateAt(this.field.exp(k));i[t-k]=O,O!==0&&(s=!0)}if(!s)return 0;let a=this.field.getOne();if(r!=null)for(const k of r){let O=this.field.exp(e.length-1-k),D=new dt(this.field,new Int32Array([this.field.subtract(0,O),1]));a=a.multiply(D)}let l=new dt(this.field,i),u=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),l,t),w=u[0],C=u[1],E=this.findErrorLocations(w),T=this.findErrorMagnitudes(C,w,E);for(let k=0;k<E.length;k++){let O=e.length-1-this.field.log(E[k]);if(O<0)throw N.getChecksumInstance();e[O]=this.field.subtract(e[O],T[k])}return E.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let E=e;e=t,t=E}let n=e,i=t,s=this.field.getZero(),a=this.field.getOne();for(;i.getDegree()>=Math.round(r/2);){let E=n,T=s;if(n=i,s=a,n.isZero())throw N.getChecksumInstance();i=E;let k=this.field.getZero(),O=n.getCoefficient(n.getDegree()),D=this.field.inverse(O);for(;i.getDegree()>=n.getDegree()&&!i.isZero();){let P=i.getDegree()-n.getDegree(),Y=this.field.multiply(i.getCoefficient(i.getDegree()),D);k=k.add(this.field.buildMonomial(P,Y)),i=i.subtract(n.multiplyByMonomial(P,Y))}a=k.multiply(s).subtract(T).negative()}let l=a.getCoefficient(0);if(l===0)throw N.getChecksumInstance();let u=this.field.inverse(l),w=a.multiply(u),C=i.multiply(u);return[w,C]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let i=1;i<this.field.getSize()&&n<t;i++)e.evaluateAt(i)===0&&(r[n]=this.field.inverse(i),n++);if(n!==t)throw N.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),i=new Int32Array(n);for(let u=1;u<=n;u++)i[n-u]=this.field.multiply(u,t.getCoefficient(u));let s=new dt(this.field,i),a=r.length,l=new Int32Array(a);for(let u=0;u<a;u++){let w=this.field.inverse(r[u]),C=this.field.subtract(0,e.evaluateAt(w)),E=this.field.inverse(s.evaluateAt(w));l[u]=this.field.multiply(C,E)}return l}}class Gt{constructor(e,t,r,n,i){e instanceof Gt?this.constructor_2(e):this.constructor_1(e,t,r,n,i)}constructor_1(e,t,r,n,i){const s=t==null||r==null,a=n==null||i==null;if(s&&a)throw new U;s?(t=new de(0,n.getY()),r=new de(0,i.getY())):a&&(n=new de(e.getWidth()-1,t.getY()),i=new de(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new Gt(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,i=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(e>0){let l=r?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);let w=new de(l.getX(),u);r?n=w:s=w}if(t>0){let l=r?this.bottomLeft:this.bottomRight,u=Math.trunc(l.getY()+t);u>=this.image.getHeight()&&(u=this.image.getHeight()-1);let w=new de(l.getX(),u);r?i=w:a=w}return new Gt(this.image,n,i,s,a)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class En{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Tr{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(s,a,l,u,w,C){if(s==="%%")return"%";if(t[++r]===void 0)return;s=u?parseInt(u.substr(1)):void 0;let E=w?parseInt(w.substr(1)):void 0,T;switch(C){case"s":T=t[r];break;case"c":T=t[r][0];break;case"f":T=parseFloat(t[r]).toFixed(s);break;case"p":T=parseFloat(t[r]).toPrecision(s);break;case"e":T=parseFloat(t[r]).toExponential(s);break;case"x":T=parseInt(t[r]).toString(E||16);break;case"d":T=parseFloat(parseInt(t[r],E||10).toPrecision(s)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(E);let k=parseInt(l),O=l&&l[0]+""=="0"?"0":" ";for(;T.length<k;)T=a!==void 0?T+O:O+T;return T}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}format(e,...t){this.buffer+=Tr.form(e,t)}toString(){return this.buffer}}class cn{constructor(e){this.boundingBox=new Gt(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let r=1;r<cn.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],t!=null)||(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Tr;let t=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue())}return e.toString()}}cn.MAX_NEARBY_DISTANCE=5;class un{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const i={getKey:()=>r,getValue:()=>n};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return Ee.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Sr extends cn{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=-1,u=1,w=0;for(let C=s;C<a;C++){if(t[C]==null)continue;let E=t[C],T=E.getRowNumber()-l;if(T===0)w++;else if(T===1)u=Math.max(u,w),w=1,l=E.getRowNumber();else if(T<0||E.getRowNumber()>=e.getRowCount()||T>C)t[C]=null;else{let k;u>2?k=(u-2)*T:k=T;let O=k>=C;for(let D=1;D<=k&&!O;D++)O=t[C-D]!=null;O?t[C]=null:(l=E.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let n=r.getRowNumber();if(n>=t.length)continue;t[n]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.getCodewords(),l=-1;for(let u=i;u<s;u++){if(a[u]==null)continue;let w=a[u];w.setRowNumberAsRowIndicatorColumn();let C=w.getRowNumber()-l;C===0||(C===1?l=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?a[u]=null:l=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new un,r=new un,n=new un,i=new un;for(let a of e){if(a==null)continue;a.setRowNumberAsRowIndicatorColumn();let l=a.getValue()%30,u=a.getRowNumber();switch(this._isLeft||(u+=2),u%3){case 0:r.setValue(l*3+1);break;case 1:i.setValue(l/3),n.setValue(l%3);break;case 2:t.setValue(l+1);break}}if(t.getValue().length===0||r.getValue().length===0||n.getValue().length===0||i.getValue().length===0||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<Ee.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>Ee.MAX_ROWS_IN_BARCODE)return null;let s=new En(t.getValue()[0],r.getValue()[0],n.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,s),s}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(e[r]==null)continue;let i=n.getValue()%30,s=n.getRowNumber();if(s>t.getRowCount()){e[r]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:i*3+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(i/3)!==t.getErrorCorrectionLevel()||i%3!==t.getRowCountLowerPart())&&(e[r]=null);break;case 2:i+1!==t.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class hr{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ee.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let r=this.detectionResultColumns[t].getCodewords();for(let n=0;n<r.length;n++)r[n]!=null&&(r[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(let n=1;n<=this.barcodeColumnCount;n++){let i=this.detectionResultColumns[n].getCodewords()[r];i!=null&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[n].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){let a=this.detectionResultColumns[s].getCodewords()[r];a!=null&&(i=hr.adjustRowNumberIfValid(n,i,a),a.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){let a=this.detectionResultColumns[s].getCodewords()[r];a!=null&&(i=hr.adjustRowNumberIfValid(n,i,a),a.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],i=this.detectionResultColumns[e-1].getCodewords(),s=i;this.detectionResultColumns[e+1]!=null&&(s=this.detectionResultColumns[e+1].getCodewords());let a=new Array(14);a[2]=i[t],a[3]=s[t],t>0&&(a[0]=r[t-1],a[4]=i[t-1],a[5]=s[t-1]),t>1&&(a[8]=r[t-2],a[10]=i[t-2],a[11]=s[t-2]),t<r.length-1&&(a[1]=r[t+1],a[6]=i[t+1],a[7]=s[t+1]),t<r.length-2&&(a[9]=r[t+2],a[12]=i[t+2],a[13]=s[t+2]);for(let l of a)if(hr.adjustRowNumber(n,l))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Tr;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let n=0;n<this.barcodeColumnCount+2;n++){if(this.detectionResultColumns[n]==null){t.format("    |   ");continue}let i=this.detectionResultColumns[n].getCodewords()[r];if(i==null){t.format("    |   ");continue}t.format(" %3d|%3d",i.getRowNumber(),i.getValue())}t.format("%n")}return t.toString()}}class kr{constructor(e,t,r,n){this.rowNumber=kr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==kr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}kr.BARCODE_ROW_UNKNOWN=-1;class Dt{static initialize(){for(let e=0;e<Ee.SYMBOL_TABLE.length;e++){let t=Ee.SYMBOL_TABLE[e],r=t&1;for(let n=0;n<Ee.BARS_IN_MODULE;n++){let i=0;for(;(t&1)===r;)i+=1,t>>=1;r=t&1,Dt.RATIOS_TABLE[e]||(Dt.RATIOS_TABLE[e]=new Array(Ee.BARS_IN_MODULE)),Dt.RATIOS_TABLE[e][Ee.BARS_IN_MODULE-n-1]=Math.fround(i/Ee.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Dt.getDecodedCodewordValue(Dt.sampleBitCounts(e));return t!==-1?t:Dt.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=Ne.sum(e),r=new Int32Array(Ee.BARS_IN_MODULE),n=0,i=0;for(let s=0;s<Ee.MODULES_IN_CODEWORD;s++){let a=t/(2*Ee.MODULES_IN_CODEWORD)+s*t/Ee.MODULES_IN_CODEWORD;i+e[n]<=a&&(i+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=Dt.getBitValue(e);return Ee.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=Ne.sum(e),r=new Array(Ee.BARS_IN_MODULE);if(t>1)for(let s=0;s<r.length;s++)r[s]=Math.fround(e[s]/t);let n=pr.MAX_VALUE,i=-1;this.bSymbolTableReady||Dt.initialize();for(let s=0;s<Dt.RATIOS_TABLE.length;s++){let a=0,l=Dt.RATIOS_TABLE[s];for(let u=0;u<Ee.BARS_IN_MODULE;u++){let w=Math.fround(l[u]-r[u]);if(a+=Math.fround(w*w),a>=n)break}a<n&&(n=a,i=Ee.SYMBOL_TABLE[s])}return i}}Dt.bSymbolTableReady=!1,Dt.RATIOS_TABLE=new Array(Ee.SYMBOL_TABLE.length).map(v=>new Array(Ee.BARS_IN_MODULE));class Ci{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Nr{static parseLong(e,t=void 0){return parseInt(e,t)}}class dn extends f{}dn.kind="NullPointerException";class ni{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(e==null)throw new dn;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new H;if(r===0)return;for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class Zi extends f{}class Ki extends ni{constructor(e=32){if(super(),this.count=0,e<0)throw new y("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new Zi;r=$.MAX_VALUE}this.buf=me.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new H;this.ensureCapacity(this.count+r),j.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return me.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Fe;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fe||(Fe={}));function fn(){if(typeof window<"u")return window.BigInt||null;if(typeof Ui<"u")return Ui.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Xr;function gr(v){if(typeof Xr>"u"&&(Xr=fn()),Xr===null)throw new Error("BigInt is not supported!");return Xr(v)}function qi(){let v=[];v[0]=gr(1);let e=gr(900);v[1]=e;for(let t=2;t<16;t++)v[t]=v[t-1]*e;return v}class L{static decode(e,t){let r=new _e(""),n=z.ISO8859_1;r.enableDecoding(n);let i=1,s=e[i++],a=new Ci;for(;i<e[0];){switch(s){case L.TEXT_COMPACTION_MODE_LATCH:i=L.textCompaction(e,i,r);break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:i=L.byteCompaction(s,e,n,i,r);break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case L.NUMERIC_COMPACTION_MODE_LATCH:i=L.numericCompaction(e,i,r);break;case L.ECI_CHARSET:z.getCharacterSetECIByValue(e[i++]);break;case L.ECI_GENERAL_PURPOSE:i+=2;break;case L.ECI_USER_DEFINED:i++;break;case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=L.decodeMacroBlock(e,i,a);break;case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:throw new G;default:i--,i=L.textCompaction(e,i,r);break}if(i<e.length)s=e[i++];else throw G.getFormatInstance()}if(r.length()===0)throw G.getFormatInstance();let l=new Zt(null,r.toString(),null,t);return l.setOther(a),l}static decodeMacroBlock(e,t,r){if(t+L.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw G.getFormatInstance();let n=new Int32Array(L.NUMBER_OF_SEQUENCE_CODEWORDS);for(let a=0;a<L.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)n[a]=e[t];r.setSegmentIndex($.parseInt(L.decodeBase900toBase10(n,L.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new _e;t=L.textCompaction(e,t,i),r.setFileId(i.toString());let s=-1;for(e[t]===L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let a=new _e;t=L.textCompaction(e,t+1,a),r.setFileName(a.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let l=new _e;t=L.textCompaction(e,t+1,l),r.setSender(l.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let u=new _e;t=L.textCompaction(e,t+1,u),r.setAddressee(u.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new _e;t=L.numericCompaction(e,t+1,w),r.setSegmentCount($.parseInt(w.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new _e;t=L.numericCompaction(e,t+1,C),r.setTimestamp(Nr.parseLong(C.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let E=new _e;t=L.numericCompaction(e,t+1,E),r.setChecksum($.parseInt(E.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new _e;t=L.numericCompaction(e,t+1,T),r.setFileSize(Nr.parseLong(T.toString()));break;default:throw G.getFormatInstance()}break;case L.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw G.getFormatInstance()}if(s!==-1){let a=t-s;r.isLastSegment()&&a--,r.setOptionalData(me.copyOfRange(e,s,s+a))}return t}static textCompaction(e,t,r){let n=new Int32Array((e[0]-t)*2),i=new Int32Array((e[0]-t)*2),s=0,a=!1;for(;t<e[0]&&!a;){let l=e[t++];if(l<L.TEXT_COMPACTION_MODE_LATCH)n[s]=l/30,n[s+1]=l%30,s+=2;else switch(l){case L.TEXT_COMPACTION_MODE_LATCH:n[s++]=L.TEXT_COMPACTION_MODE_LATCH;break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:t--,a=!0;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[s]=L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[t++],i[s]=l,s++;break}}return L.decodeTextCompaction(n,i,s,r),t}static decodeTextCompaction(e,t,r,n){let i=Fe.ALPHA,s=Fe.ALPHA,a=0;for(;a<r;){let l=e[a],u="";switch(i){case Fe.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case L.LL:i=Fe.LOWER;break;case L.ML:i=Fe.MIXED;break;case L.PS:s=i,i=Fe.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case L.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA;break}break;case Fe.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case L.AS:s=i,i=Fe.ALPHA_SHIFT;break;case L.ML:i=Fe.MIXED;break;case L.PS:s=i,i=Fe.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case L.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA;break}break;case Fe.MIXED:if(l<L.PL)u=L.MIXED_CHARS[l];else switch(l){case L.PL:i=Fe.PUNCT;break;case 26:u=" ";break;case L.LL:i=Fe.LOWER;break;case L.AL:i=Fe.ALPHA;break;case L.PS:s=i,i=Fe.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case L.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA;break}break;case Fe.PUNCT:if(l<L.PAL)u=L.PUNCT_CHARS[l];else switch(l){case L.PAL:i=Fe.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case L.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA;break}break;case Fe.ALPHA_SHIFT:if(i=s,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case L.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA;break}break;case Fe.PUNCT_SHIFT:if(i=s,l<L.PAL)u=L.PUNCT_CHARS[l];else switch(l){case L.PAL:i=Fe.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[a]);break;case L.TEXT_COMPACTION_MODE_LATCH:i=Fe.ALPHA;break}break}u!==""&&n.append(u),a++}}static byteCompaction(e,t,r,n,i){let s=new Ki,a=0,l=0,u=!1;switch(e){case L.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),C=t[n++];for(;n<t[0]&&!u;)switch(w[a++]=C,l=900*l+C,C=t[n++],C){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:n--,u=!0;break;default:if(a%5===0&&a>0){for(let E=0;E<6;++E)s.write(Number(gr(l)>>gr(8*(5-E))));l=0,a=0}break}n===t[0]&&C<L.TEXT_COMPACTION_MODE_LATCH&&(w[a++]=C);for(let E=0;E<a;E++)s.write(w[E]);break;case L.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!u;){let E=t[n++];if(E<L.TEXT_COMPACTION_MODE_LATCH)a++,l=900*l+E;else switch(E){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:n--,u=!0;break}if(a%5===0&&a>0){for(let T=0;T<6;++T)s.write(Number(gr(l)>>gr(8*(5-T))));l=0,a=0}}break}return i.append(Se.decode(s.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,i=!1,s=new Int32Array(L.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let a=e[t++];if(t===e[0]&&(i=!0),a<L.TEXT_COMPACTION_MODE_LATCH)s[n]=a,n++;else switch(a){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:t--,i=!0;break}(n%L.MAX_NUMERIC_CODEWORDS===0||a===L.NUMERIC_COMPACTION_MODE_LATCH||i)&&n>0&&(r.append(L.decodeBase900toBase10(s,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=gr(0);for(let i=0;i<t;i++)r+=L.EXP900[t-i-1]*gr(e[i]);let n=r.toString();if(n.charAt(0)!=="1")throw new G;return n.substring(1)}}L.TEXT_COMPACTION_MODE_LATCH=900,L.BYTE_COMPACTION_MODE_LATCH=901,L.NUMERIC_COMPACTION_MODE_LATCH=902,L.BYTE_COMPACTION_MODE_LATCH_6=924,L.ECI_USER_DEFINED=925,L.ECI_GENERAL_PURPOSE=926,L.ECI_CHARSET=927,L.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,L.MACRO_PDF417_TERMINATOR=922,L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,L.MAX_NUMERIC_CODEWORDS=15,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,L.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,L.PL=25,L.LL=27,L.AS=27,L.ML=28,L.AL=28,L.PS=29,L.PAL=29,L.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,L.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",L.EXP900=fn()?qi():[],L.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ke{constructor(){}static decode(e,t,r,n,i,s,a){let l=new Gt(e,t,r,n,i),u=null,w=null,C;for(let k=!0;;k=!1){if(t!=null&&(u=ke.getRowIndicatorColumn(e,l,t,!0,s,a)),n!=null&&(w=ke.getRowIndicatorColumn(e,l,n,!1,s,a)),C=ke.merge(u,w),C==null)throw U.getNotFoundInstance();let O=C.getBoundingBox();if(k&&O!=null&&(O.getMinY()<l.getMinY()||O.getMaxY()>l.getMaxY()))l=O;else break}C.setBoundingBox(l);let E=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,u),C.setDetectionResultColumn(E,w);let T=u!=null;for(let k=1;k<=E;k++){let O=T?k:E-k;if(C.getDetectionResultColumn(O)!==void 0)continue;let D;O===0||O===E?D=new Sr(l,O===0):D=new cn(l),C.setDetectionResultColumn(O,D);let P=-1,Y=P;for(let Z=l.getMinY();Z<=l.getMaxY();Z++){if(P=ke.getStartColumn(C,O,Z,T),P<0||P>l.getMaxX()){if(Y===-1)continue;P=Y}let W=ke.detectCodeword(e,l.getMinX(),l.getMaxX(),T,P,Z,s,a);W!=null&&(D.setCodeword(Z,W),Y=P,s=Math.min(s,W.getWidth()),a=Math.max(a,W.getWidth()))}}return ke.createDecoderResult(C)}static merge(e,t){if(e==null&&t==null)return null;let r=ke.getBarcodeMetadata(e,t);if(r==null)return null;let n=Gt.merge(ke.adjustBoundingBox(e),ke.adjustBoundingBox(t));return new hr(r,n)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let r=ke.getMax(t),n=0;for(let a of t)if(n+=r-a,a>0)break;let i=e.getCodewords();for(let a=0;n>0&&i[a]==null;a++)n--;let s=0;for(let a=t.length-1;a>=0&&(s+=r-t[a],!(t[a]>0));a--);for(let a=i.length-1;s>0&&i[a]==null;a--)s--;return e.getBoundingBox().addMissingRows(n,s,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let n;return t==null||(n=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,i,s){let a=new Sr(t,n);for(let l=0;l<2;l++){let u=l===0?1:-1,w=Math.trunc(Math.trunc(r.getX()));for(let C=Math.trunc(Math.trunc(r.getY()));C<=t.getMaxY()&&C>=t.getMinY();C+=u){let E=ke.detectCodeword(e,0,e.getWidth(),n,w,C,i,s);E!=null&&(a.setCodeword(C,E),n?w=E.getStartX():w=E.getEndX())}}return a}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-ke.getNumberOfECCodeWords(e.getBarcodeECLevel());if(n.length===0){if(i<1||i>Ee.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();r.setValue(i)}else n[0]!==i&&r.setValue(i)}static createDecoderResult(e){let t=ke.createBarcodeMatrix(e);ke.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array;for(let l=0;l<e.getBarcodeRowCount();l++)for(let u=0;u<e.getBarcodeColumnCount();u++){let w=t[l][u+1].getValue(),C=l*e.getBarcodeColumnCount()+u;w.length===0?r.push(C):w.length===1?n[C]=w[0]:(s.push(C),i.push(w))}let a=new Array(i.length);for(let l=0;l<a.length;l++)a[l]=i[l];return ke.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,Ee.toIntArray(r),Ee.toIntArray(s),a)}static createDecoderResultFromAmbiguousValues(e,t,r,n,i){let s=new Int32Array(n.length),a=100;for(;a-- >0;){for(let l=0;l<s.length;l++)t[n[l]]=i[l][s[l]];try{return ke.decodeCodewords(t,e,r)}catch(l){if(!(l instanceof N))throw l}if(s.length===0)throw N.getChecksumInstance();for(let l=0;l<s.length;l++)if(s[l]<i[l].length-1){s[l]++;break}else if(s[l]=0,l===s.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]=new un;let r=0;for(let n of e.getDetectionResultColumns()){if(n!=null){for(let i of n.getCodewords())if(i!=null){let s=i.getRowNumber();if(s>=0){if(s>=t.length)continue;t[s][r].setValue(i.getValue())}}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let i=n?1:-1,s=null;if(ke.isValidBarcodeColumn(e,t-i)&&(s=e.getDetectionResultColumn(t-i).getCodeword(r)),s!=null)return n?s.getEndX():s.getStartX();if(s=e.getDetectionResultColumn(t).getCodewordNearby(r),s!=null)return n?s.getStartX():s.getEndX();if(ke.isValidBarcodeColumn(e,t-i)&&(s=e.getDetectionResultColumn(t-i).getCodewordNearby(r)),s!=null)return n?s.getEndX():s.getStartX();let a=0;for(;ke.isValidBarcodeColumn(e,t-i);){t-=i;for(let l of e.getDetectionResultColumn(t).getCodewords())if(l!=null)return(n?l.getEndX():l.getStartX())+i*a*(l.getEndX()-l.getStartX());a++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,i,s,a,l){i=ke.adjustCodewordStartColumn(e,t,r,n,i,s);let u=ke.getModuleBitCount(e,t,r,n,i,s);if(u==null)return null;let w,C=Ne.sum(u);if(n)w=i+C;else{for(let k=0;k<u.length/2;k++){let O=u[k];u[k]=u[u.length-1-k],u[u.length-1-k]=O}w=i,i=w-C}if(!ke.checkCodewordSkew(C,a,l))return null;let E=Dt.getDecodedValue(u),T=Ee.getCodeword(E);return T===-1?null:new kr(i,w,ke.getCodewordBucketNumber(E),T)}static getModuleBitCount(e,t,r,n,i,s){let a=i,l=new Int32Array(8),u=0,w=n?1:-1,C=n;for(;(n?a<r:a>=t)&&u<l.length;)e.get(a,s)===C?(l[u]++,a+=w):(u++,C=!C);return u===l.length||a===(n?r:t)&&u===l.length-1?l:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,i,s){let a=i,l=n?-1:1;for(let u=0;u<2;u++){for(;(n?a>=t:a<r)&&n===e.get(a,s);){if(Math.abs(i-a)>ke.CODEWORD_SKEW_SIZE)return i;a+=l}l=-l,n=!n}return a}static checkCodewordSkew(e,t,r){return t-ke.CODEWORD_SKEW_SIZE<=e&&e<=r+ke.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(e.length===0)throw G.getFormatInstance();let n=1<<t+1,i=ke.correctErrors(e,r,n);ke.verifyCodewordCount(e,n);let s=L.decode(e,""+t);return s.setErrorsCorrected(i),s.setErasures(r.length),s}static correctErrors(e,t,r){if(t!=null&&t.length>r/2+ke.MAX_ERRORS||r<0||r>ke.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return ke.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw G.getFormatInstance();let r=e[0];if(r>e.length)throw G.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw G.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((e&1)!==r&&(r=e&1,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return ke.getCodewordBucketNumber(ke.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Tr;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let i=e[r][n];i.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}ke.CODEWORD_SKEW_SIZE=2,ke.MAX_ERRORS=3,ke.MAX_EC_CODEWORDS=512,ke.errorCorrection=new vi;class gt{decode(e,t=null){let r=gt.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw U.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return gt.decode(e,t,!0)}catch(r){throw r instanceof G||r instanceof N?U.getNotFoundInstance():r}}static decode(e,t,r){const n=new Array,i=ye.detectMultiple(e,t,r);for(const s of i.getPoints()){const a=ke.decode(i.getBits(),s[4],s[5],s[6],s[7],gt.getMinCodewordWidth(s),gt.getMaxCodewordWidth(s)),l=new Le(a.getText(),a.getRawBytes(),void 0,s,Ae.PDF_417);l.putMetadata(wt.ERROR_CORRECTION_LEVEL,a.getECLevel());const u=a.getOther();u!=null&&l.putMetadata(wt.PDF417_EXTRA_METADATA,u),n.push(l)}return n.map(s=>s)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?$.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(gt.getMaxWidth(e[0],e[4]),gt.getMaxWidth(e[6],e[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.max(gt.getMaxWidth(e[1],e[5]),gt.getMaxWidth(e[7],e[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(gt.getMinWidth(e[0],e[4]),gt.getMinWidth(e[6],e[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.min(gt.getMinWidth(e[1],e[5]),gt.getMinWidth(e[7],e[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}reset(){}}class pn extends f{}pn.kind="ReaderException";class Ai{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!x(e)&&e.get(he.TRY_HARDER)===!0,r=x(e)?null:e.get(he.POSSIBLE_FORMATS),n=new Array;if(!x(r)){const i=r.some(s=>s===Ae.UPC_A||s===Ae.UPC_E||s===Ae.EAN_13||s===Ae.EAN_8||s===Ae.CODABAR||s===Ae.CODE_39||s===Ae.CODE_93||s===Ae.CODE_128||s===Ae.ITF||s===Ae.RSS_14||s===Ae.RSS_EXPANDED);i&&!t&&n.push(new cr(e,this.verbose)),r.includes(Ae.QR_CODE)&&n.push(new Jt),r.includes(Ae.DATA_MATRIX)&&n.push(new ur),r.includes(Ae.AZTEC)&&n.push(new Pr),r.includes(Ae.PDF_417)&&n.push(new gt),i&&t&&n.push(new cr(e,this.verbose))}n.length===0&&(t||n.push(new cr(e,this.verbose)),n.push(new Jt),n.push(new ur),n.push(new Pr),n.push(new gt),t&&n.push(new cr(e,this.verbose))),this.readers=n}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new pn("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(r){if(r instanceof pn)continue}throw new U("No MultiFormat Readers were able to detect the code.")}}class Yr extends er{constructor(e=null,t=500){const r=new Ai;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class yn extends er{constructor(e=500){super(new gt,e)}}class ii extends er{constructor(e=500){super(new Jt,e)}}var si;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(si||(si={}));var xt=si;class xr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new pt(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let i=t.length;i<=e;i++){const s=r.multiply(new pt(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));t.push(s),r=s}}return t[e]}encode(e,t){if(t===0)throw new y("No error correction bytes");const r=e.length-t;if(r<=0)throw new y("No data bytes provided");const n=this.buildGenerator(t),i=new Int32Array(r);j.arraycopy(e,0,i,0,r);let s=new pt(this.field,i);s=s.multiplyByMonomial(t,1);const l=s.divide(n)[1].getCoefficients(),u=t-l.length;for(let w=0;w<u;w++)e[r+w]=0;j.arraycopy(l,0,e,r+u,l.length)}}class Qe{constructor(){}static applyMaskPenaltyRule1(e){return Qe.applyMaskPenaltyRule1Internal(e,!0)+Qe.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let s=0;s<i-1;s++){const a=r[s];for(let l=0;l<n-1;l++){const u=a[l];u===a[l+1]&&u===r[s+1][l]&&u===r[s+1][l+1]&&t++}}return Qe.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let s=0;s<i;s++)for(let a=0;a<n;a++){const l=r[s];a+6<n&&l[a]===1&&l[a+1]===0&&l[a+2]===1&&l[a+3]===1&&l[a+4]===1&&l[a+5]===0&&l[a+6]===1&&(Qe.isWhiteHorizontal(l,a-4,a)||Qe.isWhiteHorizontal(l,a+7,a+11))&&t++,s+6<i&&r[s][a]===1&&r[s+1][a]===0&&r[s+2][a]===1&&r[s+3][a]===1&&r[s+4][a]===1&&r[s+5][a]===0&&r[s+6][a]===1&&(Qe.isWhiteVertical(r,a,s-4,s)||Qe.isWhiteVertical(r,a,s+7,s+11))&&t++}return t*Qe.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(e[n]===1)return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let i=r;i<n;i++)if(e[i][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let l=0;l<i;l++){const u=r[l];for(let w=0;w<n;w++)u[w]===1&&t++}const s=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-s)*10/s)*Qe.N4}static getDataMaskBit(e,t,r){let n,i;switch(e){case 0:n=r+t&1;break;case 1:n=r&1;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:i=r*t,n=(i&1)+i%3;break;case 6:i=r*t,n=(i&1)+i%3&1;break;case 7:i=r*t,n=i%3+(r+t&1)&1;break;default:throw new y("Invalid mask pattern: "+e)}return n===0}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),s=e.getArray();for(let a=0;a<n;a++){let l=0,u=-1;for(let w=0;w<i;w++){const C=t?s[a][w]:s[w][a];C===u?l++:(l>=5&&(r+=Qe.N1+(l-5)),l=1,u=C)}l>=5&&(r+=Qe.N1+(l-5))}return r}}Qe.N1=3,Qe.N2=3,Qe.N3=40,Qe.N4=10;class jr{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)me.fill(t,e)}equals(e){if(!(e instanceof jr))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let r=0,n=this.height;r<n;++r){const i=this.bytes[r],s=t.bytes[r];for(let a=0,l=this.width;a<l;++a)if(i[a]!==s[a])return!1}return!0}toString(){const e=new _e;for(let t=0,r=this.height;t<r;++t){const n=this.bytes[t];for(let i=0,s=this.width;i<s;++i)switch(n[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Or{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new _e;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Or.NUM_MASK_PATTERNS}}Or.NUM_MASK_PATTERNS=8;class Ye extends f{}Ye.kind="WriterException";class be{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,i){be.clearMatrix(i),be.embedBasicPatterns(r,i),be.embedTypeInfo(t,n,i),be.maybeEmbedVersionInfo(r,i),be.embedDataBits(e,n,i)}static embedBasicPatterns(e,t){be.embedPositionDetectionPatternsAndSeparators(t),be.embedDarkDotAtLeftBottomCorner(t),be.maybeEmbedPositionAdjustmentPatterns(e,t),be.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new te;be.makeTypeInfoBits(e,t,n);for(let i=0,s=n.getSize();i<s;++i){const a=n.get(n.getSize()-1-i),l=be.TYPE_INFO_COORDINATES[i],u=l[0],w=l[1];if(r.setBoolean(u,w,a),i<8){const C=r.getWidth()-i-1;r.setBoolean(C,8,a)}else{const E=r.getHeight()-7+(i-8);r.setBoolean(8,E,a)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new te;be.makeVersionInfoBits(e,r);let n=17;for(let i=0;i<6;++i)for(let s=0;s<3;++s){const a=r.get(n);n--,t.setBoolean(i,t.getHeight()-11+s,a),t.setBoolean(t.getHeight()-11+s,i,a)}}static embedDataBits(e,t,r){let n=0,i=-1,s=r.getWidth()-1,a=r.getHeight()-1;for(;s>0;){for(s===6&&(s-=1);a>=0&&a<r.getHeight();){for(let l=0;l<2;++l){const u=s-l;if(!be.isEmpty(r.get(u,a)))continue;let w;n<e.getSize()?(w=e.get(n),++n):w=!1,t!==255&&Qe.getDataMaskBit(t,u,a)&&(w=!w),r.setBoolean(u,a,w)}a+=i}i=-i,a+=i,s-=2}if(n!==e.getSize())throw new Ye("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-$.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new y("0 polynomial");const r=be.findMSBSet(t);for(e<<=r-1;be.findMSBSet(e)>=r;)e^=t<<be.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!Or.isValidMaskPattern(t))throw new Ye("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const i=be.calculateBCHCode(n,be.TYPE_INFO_POLY);r.appendBits(i,10);const s=new te;if(s.appendBits(be.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Ye("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=be.calculateBCHCode(e.getVersionNumber(),be.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Ye("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;be.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),be.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ye;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!be.isEmpty(r.get(e+n,t)))throw new Ye;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!be.isEmpty(r.get(e,t+n)))throw new Ye;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const i=be.POSITION_ADJUSTMENT_PATTERN[n];for(let s=0;s<5;++s)r.setNumber(e+s,t+n,i[s])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const i=be.POSITION_DETECTION_PATTERN[n];for(let s=0;s<7;++s)r.setNumber(e+s,t+n,i[s])}}static embedPositionDetectionPatternsAndSeparators(e){const t=be.POSITION_DETECTION_PATTERN[0].length;be.embedPositionDetectionPattern(0,0,e),be.embedPositionDetectionPattern(e.getWidth()-t,0,e),be.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;be.embedHorizontalSeparationPattern(0,r-1,e),be.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),be.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;be.embedVerticalSeparationPattern(n,0,e),be.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),be.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let i=0,s=n.length;i!==s;i++){const a=n[i];if(a>=0)for(let l=0;l!==s;l++){const u=n[l];u>=0&&be.isEmpty(t.get(u,a))&&be.embedPositionAdjustmentPattern(u-2,a-2,t)}}}}be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),be.VERSION_INFO_POLY=7973,be.TYPE_INFO_POLY=1335,be.TYPE_INFO_MASK_PATTERN=21522;class _n{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class je{constructor(){}static calculateMaskPenalty(e){return Qe.applyMaskPenaltyRule1(e)+Qe.applyMaskPenaltyRule2(e)+Qe.applyMaskPenaltyRule3(e)+Qe.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=je.DEFAULT_BYTE_MODE_ENCODING;const i=r!==null&&r.get(xt.CHARACTER_SET)!==void 0;i&&(n=r.get(xt.CHARACTER_SET).toString());const s=this.chooseMode(e,n),a=new te;if(s===ve.BYTE&&(i||je.DEFAULT_BYTE_MODE_ENCODING!==n)){const Z=z.getCharacterSetECIByName(n);Z!==void 0&&this.appendECI(Z,a)}this.appendModeInfo(s,a);const l=new te;this.appendBytes(e,s,l,n);let u;if(r!==null&&r.get(xt.QR_VERSION)!==void 0){const Z=Number.parseInt(r.get(xt.QR_VERSION).toString(),10);u=we.getVersionForNumber(Z);const W=this.calculateBitsNeeded(s,a,l,u);if(!this.willFit(W,u,t))throw new Ye("Data too big for requested version")}else u=this.recommendVersion(t,s,a,l);const w=new te;w.appendBitArray(a);const C=s===ve.BYTE?l.getSizeInBytes():e.length;this.appendLengthInfo(C,u,s,w),w.appendBitArray(l);const E=u.getECBlocksForLevel(t),T=u.getTotalCodewords()-E.getTotalECCodewords();this.terminateBits(T,w);const k=this.interleaveWithECBytes(w,u.getTotalCodewords(),T,E.getNumBlocks()),O=new Or;O.setECLevel(t),O.setMode(s),O.setVersion(u);const D=u.getDimensionForVersion(),P=new jr(D,D),Y=this.chooseMaskPattern(k,t,u,P);return O.setMaskPattern(Y),be.buildMatrix(k,t,u,Y,P),O.setMatrix(P),O}static recommendVersion(e,t,r,n){const i=this.calculateBitsNeeded(t,r,n,we.getVersionForNumber(1)),s=this.chooseVersion(i,e),a=this.calculateBitsNeeded(t,r,n,s);return this.chooseVersion(a,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<je.ALPHANUMERIC_TABLE.length?je.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(z.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return ve.KANJI;let r=!1,n=!1;for(let i=0,s=e.length;i<s;++i){const a=e.charAt(i);if(je.isDigit(a))r=!0;else if(this.getAlphanumericCode(a.charCodeAt(0))!==-1)n=!0;else return ve.BYTE}return n?ve.ALPHANUMERIC:r?ve.NUMERIC:ve.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=Se.encode(e,z.SJIS)}catch{return!1}const r=t.length;if(r%2!==0)return!1;for(let n=0;n<r;n+=2){const i=t[n]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let i=Number.MAX_SAFE_INTEGER,s=-1;for(let a=0;a<Or.NUM_MASK_PATTERNS;a++){be.buildMatrix(e,t,r,a,n);let l=this.calculateMaskPenalty(n);l<i&&(i=l,s=a)}return s}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=we.getVersionForNumber(r);if(je.willFit(e,n,t))return n}throw new Ye("Data too big")}static willFit(e,t,r){const n=t.getTotalCodewords(),s=t.getECBlocksForLevel(r).getTotalECCodewords(),a=n-s,l=(e+7)/8;return a>=l}static terminateBits(e,t){const r=e*8;if(t.getSize()>r)throw new Ye("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let s=0;s<4&&t.getSize()<r;++s)t.appendBit(!1);const n=t.getSize()&7;if(n>0)for(let s=n;s<8;s++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let s=0;s<i;++s)t.appendBits((s&1)===0?236:17,8);if(t.getSize()!==r)throw new Ye("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,i,s){if(n>=r)throw new Ye("Block ID too large");const a=e%r,l=r-a,u=Math.floor(e/r),w=u+1,C=Math.floor(t/r),E=C+1,T=u-C,k=w-E;if(T!==k)throw new Ye("EC bytes mismatch");if(r!==l+a)throw new Ye("RS blocks mismatch");if(e!==(C+T)*l+(E+k)*a)throw new Ye("Total bytes mismatch");n<l?(i[0]=C,s[0]=T):(i[0]=E,s[0]=k)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new Ye("Number of bits and data bytes does not match");let i=0,s=0,a=0;const l=new Array;for(let w=0;w<n;++w){const C=new Int32Array(1),E=new Int32Array(1);je.getNumDataBytesAndNumECBytesForBlockID(t,r,n,w,C,E);const T=C[0],k=new Uint8Array(T);e.toBytes(8*i,k,0,T);const O=je.generateECBytes(k,E[0]);l.push(new _n(k,O)),s=Math.max(s,T),a=Math.max(a,O.length),i+=C[0]}if(r!==i)throw new Ye("Data bytes does not match offset");const u=new te;for(let w=0;w<s;++w)for(const C of l){const E=C.getDataBytes();w<E.length&&u.appendBits(E[w],8)}for(let w=0;w<a;++w)for(const C of l){const E=C.getErrorCorrectionBytes();w<E.length&&u.appendBits(E[w],8)}if(t!==u.getSizeInBytes())throw new Ye("Interleaving error: "+t+" and "+u.getSizeInBytes()+" differ.");return u}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let s=0;s<r;s++)n[s]=e[s]&255;new xr(ze.QR_CODE_FIELD_256).encode(n,t);const i=new Uint8Array(t);for(let s=0;s<t;s++)i[s]=n[r+s];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const i=r.getCharacterCountBits(t);if(e>=1<<i)throw new Ye(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)}static appendBytes(e,t,r,n){switch(t){case ve.NUMERIC:je.appendNumericBytes(e,r);break;case ve.ALPHANUMERIC:je.appendAlphanumericBytes(e,r);break;case ve.BYTE:je.append8BitBytes(e,r,n);break;case ve.KANJI:je.appendKanjiBytes(e,r);break;default:throw new Ye("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=je.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=je.getDigit(e.charAt(n));if(n+2<r){const s=je.getDigit(e.charAt(n+1)),a=je.getDigit(e.charAt(n+2));t.appendBits(i*100+s*10+a,10),n+=3}else if(n+1<r){const s=je.getDigit(e.charAt(n+1));t.appendBits(i*10+s,7),n+=2}else t.appendBits(i,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=je.getAlphanumericCode(e.charCodeAt(n));if(i===-1)throw new Ye;if(n+1<r){const s=je.getAlphanumericCode(e.charCodeAt(n+1));if(s===-1)throw new Ye;t.appendBits(i*45+s,11),n+=2}else t.appendBits(i,6),n++}}static append8BitBytes(e,t,r){let n;try{n=Se.encode(e,r)}catch(i){throw new Ye(i)}for(let i=0,s=n.length;i!==s;i++){const a=n[i];t.appendBits(a,8)}}static appendKanjiBytes(e,t){let r;try{r=Se.encode(e,z.SJIS)}catch(i){throw new Ye(i)}const n=r.length;for(let i=0;i<n;i+=2){const s=r[i]&255,a=r[i+1]&255,l=s<<8&4294967295|a;let u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new Ye("Invalid byte sequence");const w=(u>>8)*192+(u&255);t.appendBits(w,13)}}static appendECI(e,t){t.appendBits(ve.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}je.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),je.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Rr{write(e,t,r,n=null){if(e.length===0)throw new y("Found empty contents");if(t<0||r<0)throw new y("Requested dimensions are too small: "+t+"x"+r);let i=Xe.L,s=Rr.QUIET_ZONE_SIZE;n!==null&&(n.get(xt.ERROR_CORRECTION)!==void 0&&(i=Xe.fromString(n.get(xt.ERROR_CORRECTION).toString())),n.get(xt.MARGIN)!==void 0&&(s=Number.parseInt(n.get(xt.MARGIN).toString(),10)));const a=je.encode(e,i,n);return this.renderResult(a,t,r,s)}writeToDom(e,t,r,n,i=null){typeof e=="string"&&(e=document.querySelector(e));const s=this.write(t,r,n,i);e&&e.appendChild(s)}renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new Lt;const s=i.getWidth(),a=i.getHeight(),l=s+n*2,u=a+n*2,w=Math.max(t,l),C=Math.max(r,u),E=Math.min(Math.floor(w/l),Math.floor(C/u)),T=Math.floor((w-s*E)/2),k=Math.floor((C-a*E)/2),O=this.createSVGElement(w,C);for(let D=0,P=k;D<a;D++,P+=E)for(let Y=0,Z=T;Y<s;Y++,Z+=E)if(i.get(Y,D)===1){const W=this.createSvgRectElement(Z,P,E,E);O.appendChild(W)}return O}createSVGElement(e,t){const r=document.createElementNS(Rr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const i=document.createElementNS(Rr.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",n.toString()),i.setAttributeNS(null,"fill","#000000"),i}}Rr.QUIET_ZONE_SIZE=4,Rr.SVG_NS="http://www.w3.org/2000/svg";class Zr{encode(e,t,r,n,i){if(e.length===0)throw new y("Found empty contents");if(t!==Ae.QR_CODE)throw new y("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new y(`Requested dimensions are too small: ${r}x${n}`);let s=Xe.L,a=Zr.QUIET_ZONE_SIZE;i!==null&&(i.get(xt.ERROR_CORRECTION)!==void 0&&(s=Xe.fromString(i.get(xt.ERROR_CORRECTION).toString())),i.get(xt.MARGIN)!==void 0&&(a=Number.parseInt(i.get(xt.MARGIN).toString(),10)));const l=je.encode(e,s,i);return Zr.renderResult(l,r,n,a)}static renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new Lt;const s=i.getWidth(),a=i.getHeight(),l=s+n*2,u=a+n*2,w=Math.max(t,l),C=Math.max(r,u),E=Math.min(Math.floor(w/l),Math.floor(C/u)),T=Math.floor((w-s*E)/2),k=Math.floor((C-a*E)/2),O=new Ue(w,C);for(let D=0,P=k;D<a;D++,P+=E)for(let Y=0,Z=T;Y<s;Y++,Z+=E)i.get(Y,D)===1&&O.setRegion(Z,P,E,E);return O}}Zr.QUIET_ZONE_SIZE=4;class Kr{encode(e,t,r,n,i){let s;switch(t){case Ae.QR_CODE:s=new Zr;break;default:throw new y("No encoder available for format "+t)}return s.encode(e,t,r,n,i)}}class Ut extends Cr{constructor(e,t,r,n,i,s,a,l){if(super(s,a),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=i,n+s>t||i+a>r)throw new y("Crop rectangle does not fit within image data.");l&&this.reverseHorizontal(s,a)}getRow(e,t){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.yuvData,i,n,0,r),n;for(let s=0;s<t;s++){const a=s*e;j.arraycopy(this.yuvData,i,n,a,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Ut(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/Ut.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Ut.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let s=0;s<t;s++){const a=s*e;for(let l=0;l<e;l++){const u=n[i+l*Ut.THUMBNAIL_SCALE_FACTOR]&255;r[a+l]=4278190080|u*65793}i+=this.dataWidth*Ut.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Ut.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ut.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth){const s=i+e/2;for(let a=i,l=i+e-1;a<s;a++,l--){const u=r[a];r[a]=r[l],r[l]=u}}}invert(){return new Et(this)}}Ut.THUMBNAIL_SCALE_FACTOR=2;class hn extends Cr{constructor(e,t,r,n,i,s,a){if(super(t,r),this.dataWidth=n,this.dataHeight=i,this.left=s,this.top=a,e.BYTES_PER_ELEMENT===4){const l=t*r,u=new Uint8ClampedArray(l);for(let w=0;w<l;w++){const C=e[w],E=C>>16&255,T=C>>7&510,k=C&255;u[w]=(E+T+k)/4&255}this.luminances=u}else this.luminances=e;if(n===void 0&&(this.dataWidth=t),i===void 0&&(this.dataHeight=r),s===void 0&&(this.left=0),a===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.luminances,i,n,0,r),n;for(let s=0;s<t;s++){const a=s*e;j.arraycopy(this.luminances,i,n,a,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new hn(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new Et(this)}}class Ei extends z{static forName(e){return this.getCharacterSetECIByName(e)}}class ai{}ai.ISO_8859_1=z.ISO8859_1;class Dr{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class gn{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class oi{constructor(e){this.previous=e}getPrevious(){return this.previous}}class qr extends oi{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new qr(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new qr(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+$.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class li extends qr{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new li(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Qr(v,e,t){return new li(v,e,t)}function wr(v,e,t){return new qr(v,e,t)}const ci=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mr=0,In=1,Ct=2,xn=3,Ht=4,Qi=new qr(null,0,0),ui=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Jr(v){for(let e of v)me.fill(e,-1);return v[mr][Ht]=0,v[In][Ht]=0,v[In][mr]=28,v[xn][Ht]=0,v[Ct][Ht]=0,v[Ct][mr]=15,v}const wn=Jr(me.createInt32Array(6,6));class Wt{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let s=ui[this.mode][e];n=wr(n,s&65535,s>>16),r+=s>>16}let i=e===Ct?4:5;return n=wr(n,t,i),new Wt(n,e,0,r+i)}shiftAndAppend(e,t){let r=this.token,n=this.mode===Ct?4:5;return r=wr(r,wn[this.mode][e],n),r=wr(r,t,5),new Wt(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===Ht||this.mode===Ct){let a=ui[r][mr];t=wr(t,a&65535,a>>16),n+=a>>16,r=mr}let i=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new Wt(t,r,this.binaryShiftByteCount+1,n+i);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=Qr(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Wt(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(ui[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=Wt.calculateBinaryShiftCost(e)-Wt.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;n!==null;n=n.getPrevious())t.unshift(n);let r=new te;for(const n of t)n.appendTo(r,e);return r}toString(){return ie.format("%s bits=%d bytes=%d",ci[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Wt.INITIAL_STATE=new Wt(Qi,mr,0,0);function Ji(v){const e=ie.getCharCode(" "),t=ie.getCharCode("."),r=ie.getCharCode(",");v[mr][e]=1;const n=ie.getCharCode("Z"),i=ie.getCharCode("A");for(let E=i;E<=n;E++)v[mr][E]=E-i+2;v[In][e]=1;const s=ie.getCharCode("z"),a=ie.getCharCode("a");for(let E=a;E<=s;E++)v[In][E]=E-a+2;v[Ct][e]=1;const l=ie.getCharCode("9"),u=ie.getCharCode("0");for(let E=u;E<=l;E++)v[Ct][E]=E-u+2;v[Ct][r]=12,v[Ct][t]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let E=0;E<w.length;E++)v[xn][ie.getCharCode(w[E])]=E;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let E=0;E<C.length;E++)ie.getCharCode(C[E])>0&&(v[Ht][ie.getCharCode(C[E])]=E);return v}const di=Ji(me.createInt32Array(5,256));class $t{constructor(e){this.text=e}encode(){const e=ie.getCharCode(" "),t=ie.getCharCode(`
`);let r=gn.singletonList(Wt.INITIAL_STATE);for(let i=0;i<this.text.length;i++){let s,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ie.getCharCode("\r"):s=a===t?2:0;break;case ie.getCharCode("."):s=a===e?3:0;break;case ie.getCharCode(","):s=a===e?4:0;break;case ie.getCharCode(":"):s=a===e?5:0;break;default:s=0}s>0?(r=$t.updateStateListForPair(r,i,s),i++):r=this.updateStateListForChar(r,i)}return gn.min(r,(i,s)=>i.getBitCount()-s.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return $t.simplifyStates(r)}updateStateForChar(e,t,r){let n=this.text[t]&255,i=di[e.getMode()][n]>0,s=null;for(let a=0;a<=Ht;a++){let l=di[a][n];if(l>0){if(s==null&&(s=e.endBinaryShift(t)),!i||a===e.getMode()||a===Ct){const u=s.latchAndAppend(a,l);r.push(u)}if(!i&&wn[e.getMode()][a]>=0){const u=s.shiftAndAppend(a,l);r.push(u)}}}if(e.getBinaryShiftByteCount()>0||di[e.getMode()][n]===0){let a=e.addBinaryShiftChar(t);r.push(a)}}static updateStateListForPair(e,t,r){const n=[];for(let i of e)this.updateStateForPair(i,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let i=e.endBinaryShift(t);if(n.push(i.latchAndAppend(Ht,r)),e.getMode()!==Ht&&n.push(i.shiftAndAppend(Ht,r)),r===3||r===4){let s=i.latchAndAppend(Ct,16-r).latchAndAppend(Ct,1);n.push(s)}if(e.getBinaryShiftByteCount()>0){let s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(s)}}static simplifyStates(e){let t=[];for(const r of e){let n=!0;for(const i of t){if(i.isBetterThanOrEqualTo(r)){n=!1;break}r.isBetterThanOrEqualTo(i)&&(t=t.filter(s=>s!==i))}n&&t.push(r)}return t}}class De{constructor(){}static encodeBytes(e){return De.encode(e,De.DEFAULT_EC_PERCENT,De.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n=new $t(e).encode(),i=$.truncDivision(n.getSize()*t,100)+11,s=n.getSize()+i,a,l,u,w,C;if(r!==De.DEFAULT_AZTEC_LAYERS){if(a=r<0,l=Math.abs(r),l>(a?De.MAX_NB_BITS_COMPACT:De.MAX_NB_BITS))throw new y(ie.format("Illegal value %s for layers",r));u=De.totalBitsInLayer(l,a),w=De.WORD_SIZE[l];let W=u-u%w;if(C=De.stuffBits(n,w),C.getSize()+i>W)throw new y("Data to large for user specified layer");if(a&&C.getSize()>w*64)throw new y("Data to large for user specified layer")}else{w=0,C=null;for(let W=0;;W++){if(W>De.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(a=W<=3,l=a?W+1:W,u=De.totalBitsInLayer(l,a),s>u)continue;(C==null||w!==De.WORD_SIZE[l])&&(w=De.WORD_SIZE[l],C=De.stuffBits(n,w));let Me=u-u%w;if(!(a&&C.getSize()>w*64)&&C.getSize()+i<=Me)break}}let E=De.generateCheckWords(C,u,w),T=C.getSize()/w,k=De.generateModeMessage(a,l,T),O=(a?11:14)+l*4,D=new Int32Array(O),P;if(a){P=O;for(let W=0;W<D.length;W++)D[W]=W}else{P=O+1+2*$.truncDivision($.truncDivision(O,2)-1,15);let W=$.truncDivision(O,2),Me=$.truncDivision(P,2);for(let pe=0;pe<W;pe++){let At=pe+$.truncDivision(pe,15);D[W-pe-1]=Me-At-1,D[W+pe]=Me+At+1}}let Y=new Ue(P);for(let W=0,Me=0;W<l;W++){let pe=(l-W)*4+(a?9:12);for(let At=0;At<pe;At++){let zt=At*2;for(let Mt=0;Mt<2;Mt++)E.get(Me+zt+Mt)&&Y.set(D[W*2+Mt],D[W*2+At]),E.get(Me+pe*2+zt+Mt)&&Y.set(D[W*2+At],D[O-1-W*2-Mt]),E.get(Me+pe*4+zt+Mt)&&Y.set(D[O-1-W*2-Mt],D[O-1-W*2-At]),E.get(Me+pe*6+zt+Mt)&&Y.set(D[O-1-W*2-At],D[W*2+Mt])}Me+=pe*8}if(De.drawModeMessage(Y,a,P,k),a)De.drawBullsEye(Y,$.truncDivision(P,2),5);else{De.drawBullsEye(Y,$.truncDivision(P,2),7);for(let W=0,Me=0;W<$.truncDivision(O,2)-1;W+=15,Me+=16)for(let pe=$.truncDivision(P,2)&1;pe<P;pe+=2)Y.set($.truncDivision(P,2)-Me,pe),Y.set($.truncDivision(P,2)+Me,pe),Y.set(pe,$.truncDivision(P,2)-Me),Y.set(pe,$.truncDivision(P,2)+Me)}let Z=new Dr;return Z.setCompact(a),Z.setSize(P),Z.setLayers(l),Z.setCodeWords(T),Z.setMatrix(Y),Z}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let i=t-n;i<=t+n;i++)e.set(i,t-n),e.set(i,t+n),e.set(t-n,i),e.set(t+n,i);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new te;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=De.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=De.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let i=$.truncDivision(r,2);if(t)for(let s=0;s<7;s++){let a=i-3+s;n.get(s)&&e.set(a,i-5),n.get(s+7)&&e.set(i+5,a),n.get(20-s)&&e.set(a,i+5),n.get(27-s)&&e.set(i-5,a)}else for(let s=0;s<10;s++){let a=i-5+s+$.truncDivision(s,5);n.get(s)&&e.set(a,i-7),n.get(s+10)&&e.set(i+7,a),n.get(29-s)&&e.set(a,i+7),n.get(39-s)&&e.set(i-7,a)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,i=new xr(De.getGF(r)),s=$.truncDivision(t,r),a=De.bitsToWords(e,r,s);i.encode(a,s-n);let l=t%r,u=new te;u.appendBits(0,l);for(const w of Array.from(a))u.appendBits(w,r);return u}static bitsToWords(e,t,r){let n=new Int32Array(r),i,s;for(i=0,s=e.getSize()/t;i<s;i++){let a=0;for(let l=0;l<t;l++)a|=e.get(i*t+l)?1<<t-l-1:0;n[i]=a}return n}static getGF(e){switch(e){case 4:return ze.AZTEC_PARAM;case 6:return ze.AZTEC_DATA_6;case 8:return ze.AZTEC_DATA_8;case 10:return ze.AZTEC_DATA_10;case 12:return ze.AZTEC_DATA_12;default:throw new y("Unsupported word size "+e)}}static stuffBits(e,t){let r=new te,n=e.getSize(),i=(1<<t)-2;for(let s=0;s<n;s+=t){let a=0;for(let l=0;l<t;l++)(s+l>=n||e.get(s+l))&&(a|=1<<t-1-l);(a&i)===i?(r.appendBits(a&i,t),s--):(a&i)===0?(r.appendBits(a|1,t),s--):r.appendBits(a,t)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}De.DEFAULT_EC_PERCENT=33,De.DEFAULT_AZTEC_LAYERS=0,De.MAX_NB_BITS=32,De.MAX_NB_BITS_COMPACT=4,De.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class $r{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,i){let s=ai.ISO_8859_1,a=De.DEFAULT_EC_PERCENT,l=De.DEFAULT_AZTEC_LAYERS;return i!=null&&(i.has(xt.CHARACTER_SET)&&(s=Ei.forName(i.get(xt.CHARACTER_SET).toString())),i.has(xt.ERROR_CORRECTION)&&(a=$.parseInt(i.get(xt.ERROR_CORRECTION).toString())),i.has(xt.AZTEC_LAYERS)&&(l=$.parseInt(i.get(xt.AZTEC_LAYERS).toString()))),$r.encodeLayers(e,t,r,n,s,a,l)}static encodeLayers(e,t,r,n,i,s,a){if(t!==Ae.AZTEC)throw new y("Can only encode AZTEC, but got "+t);let l=De.encode(ie.getBytes(e,i),s,a);return $r.renderResult(l,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(n==null)throw new Lt;let i=n.getWidth(),s=n.getHeight(),a=Math.max(t,i),l=Math.max(r,s),u=Math.min(a/i,l/s),w=(a-i*u)/2,C=(l-s*u)/2,E=new Ue(a,l);for(let T=0,k=C;T<s;T++,k+=u)for(let O=0,D=w;O<i;O++,D+=u)n.get(O,T)&&E.setRegion(D,k,u,u);return E}}c.AbstractExpandedDecoder=or,c.ArgumentException=I,c.ArithmeticException=mn,c.AztecCode=Dr,c.AztecCodeReader=Pr,c.AztecCodeWriter=$r,c.AztecDecoder=Ke,c.AztecDetector=rn,c.AztecDetectorResult=xi,c.AztecEncoder=De,c.AztecHighLevelEncoder=$t,c.AztecPoint=lt,c.BarcodeFormat=Ae,c.Binarizer=X,c.BinaryBitmap=S,c.BitArray=te,c.BitMatrix=Ue,c.BitSource=Jn,c.BrowserAztecCodeReader=Hi,c.BrowserBarcodeReader=Wi,c.BrowserCodeReader=er,c.BrowserDatamatrixCodeReader=Vr,c.BrowserMultiFormatReader=Yr,c.BrowserPDF417Reader=yn,c.BrowserQRCodeReader=ii,c.BrowserQRCodeSvgWriter=Rr,c.CharacterSetECI=z,c.ChecksumException=N,c.Code128Reader=J,c.Code39Reader=it,c.DataMatrixDecodedBitStreamParser=Yt,c.DataMatrixReader=ur,c.DecodeHintType=he,c.DecoderResult=Zt,c.DefaultGridSampler=wi,c.DetectorResult=bn,c.EAN13Reader=yr,c.EncodeHintType=xt,c.Exception=f,c.FormatException=G,c.GenericGF=ze,c.GenericGFPoly=pt,c.GlobalHistogramBinarizer=We,c.GridSampler=Lr,c.GridSamplerInstance=sr,c.HTMLCanvasElementLuminanceSource=Bt,c.HybridBinarizer=Te,c.ITFReader=Ge,c.IllegalArgumentException=y,c.IllegalStateException=Lt,c.InvertedLuminanceSource=Et,c.LuminanceSource=Cr,c.MathUtils=Ne,c.MultiFormatOneDReader=cr,c.MultiFormatReader=Ai,c.MultiFormatWriter=Kr,c.NotFoundException=U,c.OneDReader=ct,c.PDF417DecodedBitStreamParser=L,c.PDF417DecoderErrorCorrection=vi,c.PDF417Reader=gt,c.PDF417ResultMetadata=Ci,c.PerspectiveTransform=Pt,c.PlanarYUVLuminanceSource=Ut,c.QRCodeByteMatrix=jr,c.QRCodeDataMask=Vt,c.QRCodeDecodedBitStreamParser=$e,c.QRCodeDecoderErrorCorrectionLevel=Xe,c.QRCodeDecoderFormatInformation=_t,c.QRCodeEncoder=je,c.QRCodeEncoderQRCode=Or,c.QRCodeMaskUtil=Qe,c.QRCodeMatrixUtil=be,c.QRCodeMode=ve,c.QRCodeReader=Jt,c.QRCodeVersion=we,c.QRCodeWriter=Zr,c.RGBLuminanceSource=hn,c.RSS14Reader=qe,c.RSSExpandedReader=V,c.ReaderException=pn,c.ReedSolomonDecoder=Er,c.ReedSolomonEncoder=xr,c.ReedSolomonException=Xt,c.Result=Le,c.ResultMetadataType=wt,c.ResultPoint=de,c.StringUtils=ie,c.UnsupportedOperationException=Be,c.VideoInputDevice=Ar,c.WhiteRectangleDetector=Nt,c.WriterException=Ye,c.ZXingArrays=me,c.ZXingCharset=Ei,c.ZXingInteger=$,c.ZXingStandardCharsets=ai,c.ZXingStringBuilder=_e,c.ZXingStringEncoding=Se,c.ZXingSystem=j,c.createAbstractExpandedDecoder=on,Object.defineProperty(c,"__esModule",{value:!0})}))})(gi,gi.exports)),gi.exports}var tt=zo();const Vo=Fo(tt),Go=Co({__proto__:null,default:Vo},[tt]);var js=(function(){function g(o,c,x){if(this.formatMap=new Map([[se.QR_CODE,tt.BarcodeFormat.QR_CODE],[se.AZTEC,tt.BarcodeFormat.AZTEC],[se.CODABAR,tt.BarcodeFormat.CODABAR],[se.CODE_39,tt.BarcodeFormat.CODE_39],[se.CODE_93,tt.BarcodeFormat.CODE_93],[se.CODE_128,tt.BarcodeFormat.CODE_128],[se.DATA_MATRIX,tt.BarcodeFormat.DATA_MATRIX],[se.MAXICODE,tt.BarcodeFormat.MAXICODE],[se.ITF,tt.BarcodeFormat.ITF],[se.EAN_13,tt.BarcodeFormat.EAN_13],[se.EAN_8,tt.BarcodeFormat.EAN_8],[se.PDF_417,tt.BarcodeFormat.PDF_417],[se.RSS_14,tt.BarcodeFormat.RSS_14],[se.RSS_EXPANDED,tt.BarcodeFormat.RSS_EXPANDED],[se.UPC_A,tt.BarcodeFormat.UPC_A],[se.UPC_E,tt.BarcodeFormat.UPC_E],[se.UPC_EAN_EXTENSION,tt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Go)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=c,this.logger=x;var h=this.createZXingFormats(o),d=new Map;d.set(tt.DecodeHintType.POSSIBLE_FORMATS,h),d.set(tt.DecodeHintType.TRY_HARDER,!1),this.hints=d}return g.prototype.decodeAsync=function(o){var c=this;return new Promise(function(x,h){try{x(c.decode(o))}catch(d){h(d)}})},g.prototype.decode=function(o){var c=new tt.MultiFormatReader(this.verbose,this.hints),x=new tt.HTMLCanvasElementLuminanceSource(o),h=new tt.BinaryBitmap(new tt.HybridBinarizer(x)),d=c.decode(h);return{text:d.text,format:la.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},g.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(c,x,h){o.set(c,x)}),o},g.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},g.prototype.createZXingFormats=function(o){for(var c=[],x=0,h=o;x<h.length;x++){var d=h[x];this.formatMap.has(d)?c.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return c},g.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},g})(),Ho=function(g,o,c,x){function h(d){return d instanceof c?d:new c(function(m){m(d)})}return new(c||(c=Promise))(function(d,m){function A(I){try{f(x.next(I))}catch(y){m(y)}}function b(I){try{f(x.throw(I))}catch(y){m(y)}}function f(I){I.done?d(I.value):h(I.value).then(A,b)}f((x=x.apply(g,o||[])).next())})},Wo=function(g,o){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},x,h,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(f){return function(I){return b([f,I])}}function b(f){if(x)throw new TypeError("Generator is already executing.");for(;m&&(m=0,f[0]&&(c=0)),c;)try{if(x=1,h&&(d=f[0]&2?h.return:f[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,f[1])).done)return d;switch(h=0,d&&(f=[f[0]&2,d.value]),f[0]){case 0:case 1:d=f;break;case 4:return c.label++,{value:f[1],done:!1};case 5:c.label++,h=f[1],f=[0];continue;case 7:f=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(f[0]===6||f[0]===2)){c=0;continue}if(f[0]===3&&(!d||f[1]>d[0]&&f[1]<d[3])){c.label=f[1];break}if(f[0]===6&&c.label<d[1]){c.label=d[1],d=f;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(f);break}d[2]&&c.ops.pop(),c.trys.pop();continue}f=o.call(g,c)}catch(I){f=[6,I],h=0}finally{x=d=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Zs=(function(){function g(o,c,x){if(this.formatMap=new Map([[se.QR_CODE,"qr_code"],[se.AZTEC,"aztec"],[se.CODABAR,"codabar"],[se.CODE_39,"code_39"],[se.CODE_93,"code_93"],[se.CODE_128,"code_128"],[se.DATA_MATRIX,"data_matrix"],[se.ITF,"itf"],[se.EAN_13,"ean_13"],[se.EAN_8,"ean_8"],[se.PDF_417,"pdf417"],[se.UPC_A,"upc_a"],[se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!g.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=c,this.logger=x;var h=this.createBarcodeDetectorFormats(o);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return g.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var o=new BarcodeDetector({formats:["qr_code"]});return typeof o<"u"},g.prototype.decodeAsync=function(o){return Ho(this,void 0,void 0,function(){var c,x;return Wo(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(o)];case 1:if(c=h.sent(),!c||c.length===0)throw"No barcode or QR code detected.";return x=this.selectLargestBarcode(c),[2,{text:x.rawValue,format:la.create(this.toHtml5QrcodeSupportedFormats(x.format)),debugData:this.createDebugData()}]}})})},g.prototype.selectLargestBarcode=function(o){for(var c=null,x=0,h=0,d=o;h<d.length;h++){var m=d[h],A=m.boundingBox.width*m.boundingBox.height;A>x&&(x=A,c=m)}if(!c)throw"No largest barcode found";return c},g.prototype.createBarcodeDetectorFormats=function(o){for(var c=[],x=0,h=o;x<h.length;x++){var d=h[x];this.formatMap.has(d)?c.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:c}},g.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},g.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(c,x,h){o.set(c,x)}),o},g.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},g})(),Ks=function(g,o,c,x){function h(d){return d instanceof c?d:new c(function(m){m(d)})}return new(c||(c=Promise))(function(d,m){function A(I){try{f(x.next(I))}catch(y){m(y)}}function b(I){try{f(x.throw(I))}catch(y){m(y)}}function f(I){I.done?d(I.value):h(I.value).then(A,b)}f((x=x.apply(g,o||[])).next())})},qs=function(g,o){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},x,h,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(f){return function(I){return b([f,I])}}function b(f){if(x)throw new TypeError("Generator is already executing.");for(;m&&(m=0,f[0]&&(c=0)),c;)try{if(x=1,h&&(d=f[0]&2?h.return:f[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,f[1])).done)return d;switch(h=0,d&&(f=[f[0]&2,d.value]),f[0]){case 0:case 1:d=f;break;case 4:return c.label++,{value:f[1],done:!1};case 5:c.label++,h=f[1],f=[0];continue;case 7:f=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(f[0]===6||f[0]===2)){c=0;continue}if(f[0]===3&&(!d||f[1]>d[0]&&f[1]<d[3])){c.label=f[1];break}if(f[0]===6&&c.label<d[1]){c.label=d[1],d=f;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(f);break}d[2]&&c.ops.pop(),c.trys.pop();continue}f=o.call(g,c)}catch(I){f=[6,I],h=0}finally{x=d=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Xo=(function(){function g(o,c,x,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=x,c&&Zs.isSupported()?(this.primaryDecoder=new Zs(o,x,h),this.secondaryDecoder=new js(o,x,h)):this.primaryDecoder=new js(o,x,h)}return g.prototype.decodeAsync=function(o){return Ks(this,void 0,void 0,function(){var c;return qs(this,function(x){switch(x.label){case 0:c=performance.now(),x.label=1;case 1:return x.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(o)];case 2:return[2,x.sent()];case 3:return this.possiblyLogPerformance(c),[7];case 4:return[2]}})})},g.prototype.decodeRobustlyAsync=function(o){return Ks(this,void 0,void 0,function(){var c,x;return qs(this,function(h){switch(h.label){case 0:c=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(o)];case 2:return[2,h.sent()];case 3:if(x=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(o)];throw x;case 4:return this.possiblyLogPerformance(c),[7];case 5:return[2]}})})},g.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},g.prototype.possiblyLogPerformance=function(o){if(this.verbose){var c=performance.now()-o;this.executionResults.push(c),this.executions++,this.possiblyFlushPerformanceReport()}},g.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var o=0,c=0,x=this.executionResults;c<x.length;c++){var h=x[c];o+=h}var d=o/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},g})(),Ps=(function(){var g=function(o,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,h){x.__proto__=h}||function(x,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(x[d]=h[d])},g(o,c)};return function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");g(o,c);function x(){this.constructor=o}o.prototype=c===null?Object.create(c):(x.prototype=c.prototype,new x)}})(),Vi=function(g,o,c,x){function h(d){return d instanceof c?d:new c(function(m){m(d)})}return new(c||(c=Promise))(function(d,m){function A(I){try{f(x.next(I))}catch(y){m(y)}}function b(I){try{f(x.throw(I))}catch(y){m(y)}}function f(I){I.done?d(I.value):h(I.value).then(A,b)}f((x=x.apply(g,o||[])).next())})},Gi=function(g,o){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},x,h,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(f){return function(I){return b([f,I])}}function b(f){if(x)throw new TypeError("Generator is already executing.");for(;m&&(m=0,f[0]&&(c=0)),c;)try{if(x=1,h&&(d=f[0]&2?h.return:f[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,f[1])).done)return d;switch(h=0,d&&(f=[f[0]&2,d.value]),f[0]){case 0:case 1:d=f;break;case 4:return c.label++,{value:f[1],done:!1};case 5:c.label++,h=f[1],f=[0];continue;case 7:f=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(f[0]===6||f[0]===2)){c=0;continue}if(f[0]===3&&(!d||f[1]>d[0]&&f[1]<d[3])){c.label=f[1];break}if(f[0]===6&&c.label<d[1]){c.label=d[1],d=f;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(f);break}d[2]&&c.ops.pop(),c.trys.pop();continue}f=o.call(g,c)}catch(I){f=[6,I],h=0}finally{x=d=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ua=(function(){function g(o,c){this.name=o,this.track=c}return g.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},g.prototype.apply=function(o){var c={};c[this.name]=o;var x={advanced:[c]};return this.track.applyConstraints(x)},g.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var c=o[this.name];return c}return null},g})(),Yo=(function(g){Ps(o,g);function o(c,x){return g.call(this,c,x)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(c){var x={};x[this.name]=c;var h={advanced:[x]};return this.track.applyConstraints(h)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var c=this.track.getCapabilities(),x=c[this.name];return{min:x.min,max:x.max,step:x.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o})(ua),jo=(function(g){Ps(o,g);function o(c){return g.call(this,"zoom",c)||this}return o})(Yo),Zo=(function(g){Ps(o,g);function o(c){return g.call(this,"torch",c)||this}return o})(ua),Ko=(function(){function g(o){this.track=o}return g.prototype.zoomFeature=function(){return new jo(this.track)},g.prototype.torchFeature=function(){return new Zo(this.track)},g})(),qo=(function(){function g(o,c,x){this.isClosed=!1,this.parentElement=o,this.mediaStream=c,this.callbacks=x,this.surface=this.createVideoElement(this.parentElement.clientWidth),o.append(this.surface)}return g.prototype.createVideoElement=function(o){var c=document.createElement("video");return c.style.width="".concat(o,"px"),c.style.display="block",c.muted=!0,c.setAttribute("muted","true"),c.playsInline=!0,c},g.prototype.setupSurface=function(){var o=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var c=function(){var x=o.surface.clientWidth,h=o.surface.clientHeight;o.callbacks.onRenderSurfaceReady(x,h),o.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.srcObject=this.mediaStream,this.surface.play()},g.create=function(o,c,x,h){return Vi(this,void 0,void 0,function(){var d,m;return Gi(this,function(A){switch(A.label){case 0:return d=new g(o,c,h),x.aspectRatio?(m={aspectRatio:x.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(m)]):[3,2];case 1:A.sent(),A.label=2;case 2:return d.setupSurface(),[2,d]}})})},g.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},g.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},g.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},g.prototype.resume=function(o){this.failIfClosed();var c=this,x=function(){setTimeout(o,200),c.surface.removeEventListener("playing",x)};this.surface.addEventListener("playing",x),this.surface.play()},g.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},g.prototype.getSurface=function(){return this.failIfClosed(),this.surface},g.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},g.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},g.prototype.applyVideoConstraints=function(o){return Vi(this,void 0,void 0,function(){return Gi(this,function(c){if("aspectRatio"in o)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(o)]})})},g.prototype.close=function(){if(this.isClosed)return Promise.resolve();var o=this;return new Promise(function(c,x){var h=o.mediaStream.getVideoTracks(),d=h.length,m=0;o.mediaStream.getVideoTracks().forEach(function(A){o.mediaStream.removeTrack(A),A.stop(),++m,m>=d&&(o.isClosed=!0,o.parentElement.removeChild(o.surface),c())})})},g.prototype.getCapabilities=function(){return new Ko(this.getFirstTrackOrFail())},g})(),Qo=(function(){function g(o){this.mediaStream=o}return g.prototype.render=function(o,c,x){return Vi(this,void 0,void 0,function(){return Gi(this,function(h){return[2,qo.create(o,this.mediaStream,c,x)]})})},g.create=function(o){return Vi(this,void 0,void 0,function(){var c,x;return Gi(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return c={audio:!1,video:o},[4,navigator.mediaDevices.getUserMedia(c)];case 1:return x=h.sent(),[2,new g(x)]}})})},g})(),Qs=function(g,o,c,x){function h(d){return d instanceof c?d:new c(function(m){m(d)})}return new(c||(c=Promise))(function(d,m){function A(I){try{f(x.next(I))}catch(y){m(y)}}function b(I){try{f(x.throw(I))}catch(y){m(y)}}function f(I){I.done?d(I.value):h(I.value).then(A,b)}f((x=x.apply(g,o||[])).next())})},Js=function(g,o){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},x,h,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(f){return function(I){return b([f,I])}}function b(f){if(x)throw new TypeError("Generator is already executing.");for(;m&&(m=0,f[0]&&(c=0)),c;)try{if(x=1,h&&(d=f[0]&2?h.return:f[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,f[1])).done)return d;switch(h=0,d&&(f=[f[0]&2,d.value]),f[0]){case 0:case 1:d=f;break;case 4:return c.label++,{value:f[1],done:!1};case 5:c.label++,h=f[1],f=[0];continue;case 7:f=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(f[0]===6||f[0]===2)){c=0;continue}if(f[0]===3&&(!d||f[1]>d[0]&&f[1]<d[3])){c.label=f[1];break}if(f[0]===6&&c.label<d[1]){c.label=d[1],d=f;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(f);break}d[2]&&c.ops.pop(),c.trys.pop();continue}f=o.call(g,c)}catch(I){f=[6,I],h=0}finally{x=d=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Jo=(function(){function g(){}return g.failIfNotSupported=function(){return Qs(this,void 0,void 0,function(){return Js(this,function(o){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new g]})})},g.prototype.create=function(o){return Qs(this,void 0,void 0,function(){return Js(this,function(c){return[2,Qo.create(o)]})})},g})(),$o=function(g,o,c,x){function h(d){return d instanceof c?d:new c(function(m){m(d)})}return new(c||(c=Promise))(function(d,m){function A(I){try{f(x.next(I))}catch(y){m(y)}}function b(I){try{f(x.throw(I))}catch(y){m(y)}}function f(I){I.done?d(I.value):h(I.value).then(A,b)}f((x=x.apply(g,o||[])).next())})},e1=function(g,o){var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},x,h,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(f){return function(I){return b([f,I])}}function b(f){if(x)throw new TypeError("Generator is already executing.");for(;m&&(m=0,f[0]&&(c=0)),c;)try{if(x=1,h&&(d=f[0]&2?h.return:f[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,f[1])).done)return d;switch(h=0,d&&(f=[f[0]&2,d.value]),f[0]){case 0:case 1:d=f;break;case 4:return c.label++,{value:f[1],done:!1};case 5:c.label++,h=f[1],f=[0];continue;case 7:f=c.ops.pop(),c.trys.pop();continue;default:if(d=c.trys,!(d=d.length>0&&d[d.length-1])&&(f[0]===6||f[0]===2)){c=0;continue}if(f[0]===3&&(!d||f[1]>d[0]&&f[1]<d[3])){c.label=f[1];break}if(f[0]===6&&c.label<d[1]){c.label=d[1],d=f;break}if(d&&c.label<d[2]){c.label=d[2],c.ops.push(f);break}d[2]&&c.ops.pop(),c.trys.pop();continue}f=o.call(g,c)}catch(I){f=[6,I],h=0}finally{x=d=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},t1=(function(){function g(){}return g.retrieve=function(){if(navigator.mediaDevices)return g.getCamerasFromMediaDevices();var o=MediaStreamTrack;return MediaStreamTrack&&o.getSources?g.getCamerasFromMediaStreamTrack():g.rejectWithError()},g.rejectWithError=function(){var o=Wn.unableToQuerySupportedDevices();return g.isHttpsOrLocalhost()||(o=Wn.insecureContextCameraQueryError()),Promise.reject(o)},g.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var o=location.host.split(":")[0];return o==="127.0.0.1"||o==="localhost"},g.getCamerasFromMediaDevices=function(){return $o(this,void 0,void 0,function(){var o,c,x,h,d,m,A;return e1(this,function(b){switch(b.label){case 0:return o=function(f){for(var I=f.getVideoTracks(),y=0,S=I;y<S.length;y++){var N=S[y];N.enabled=!1,N.stop(),f.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return c=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(x=b.sent(),h=[],d=0,m=x;d<m.length;d++)A=m[d],A.kind==="videoinput"&&h.push({id:A.deviceId,label:A.label});return o(c),[2,h]}})})},g.getCamerasFromMediaStreamTrack=function(){return new Promise(function(o,c){var x=function(d){for(var m=[],A=0,b=d;A<b.length;A++){var f=b[A];f.kind==="video"&&m.push({id:f.id,label:f.label})}o(m)},h=MediaStreamTrack;h.getSources(x)})},g})(),ft;(function(g){g[g.UNKNOWN=0]="UNKNOWN",g[g.NOT_STARTED=1]="NOT_STARTED",g[g.SCANNING=2]="SCANNING",g[g.PAUSED=3]="PAUSED"})(ft||(ft={}));var r1=(function(){function g(){this.state=ft.NOT_STARTED,this.onGoingTransactionNewState=ft.UNKNOWN}return g.prototype.directTransition=function(o){this.failIfTransitionOngoing(),this.validateTransition(o),this.state=o},g.prototype.startTransition=function(o){return this.failIfTransitionOngoing(),this.validateTransition(o),this.onGoingTransactionNewState=o,this},g.prototype.execute=function(){if(this.onGoingTransactionNewState===ft.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var o=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ft.UNKNOWN,this.directTransition(o)},g.prototype.cancel=function(){if(this.onGoingTransactionNewState===ft.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ft.UNKNOWN},g.prototype.getState=function(){return this.state},g.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ft.UNKNOWN)throw"Cannot transition to a new state, already under transition"},g.prototype.validateTransition=function(o){switch(this.state){case ft.UNKNOWN:throw"Transition from unknown is not allowed";case ft.NOT_STARTED:this.failIfNewStateIs(o,[ft.PAUSED]);break;case ft.SCANNING:break;case ft.PAUSED:break}},g.prototype.failIfNewStateIs=function(o,c){for(var x=0,h=c;x<h.length;x++){var d=h[x];if(o===d)throw"Cannot transition from ".concat(this.state," to ").concat(o)}},g})(),n1=(function(){function g(o){this.stateManager=o}return g.prototype.startTransition=function(o){return this.stateManager.startTransition(o)},g.prototype.directTransition=function(o){this.stateManager.directTransition(o)},g.prototype.getState=function(){return this.stateManager.getState()},g.prototype.canScanFile=function(){return this.stateManager.getState()===ft.NOT_STARTED},g.prototype.isScanning=function(){return this.stateManager.getState()!==ft.NOT_STARTED},g.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ft.SCANNING},g.prototype.isPaused=function(){return this.stateManager.getState()===ft.PAUSED},g})(),i1=(function(){function g(){}return g.create=function(){return new n1(new r1)},g})(),s1=(function(){var g=function(o,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,h){x.__proto__=h}||function(x,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(x[d]=h[d])},g(o,c)};return function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");g(o,c);function x(){this.constructor=o}o.prototype=c===null?Object.create(c):(x.prototype=c.prototype,new x)}})(),jt=(function(g){s1(o,g);function o(){return g!==null&&g.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o})(Bo),a1=(function(){function g(o,c){this.logger=c,this.fps=jt.SCAN_DEFAULT_FPS,o?(o.fps&&(this.fps=o.fps),this.disableFlip=o.disableFlip===!0,this.qrbox=o.qrbox,this.aspectRatio=o.aspectRatio,this.videoConstraints=o.videoConstraints):this.disableFlip=jt.DEFAULT_DISABLE_FLIP}return g.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ca.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},g.prototype.isShadedBoxEnabled=function(){return!Mr(this.qrbox)},g.create=function(o,c){return new g(o,c)},g})(),fc=(function(){function g(o,c){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.elementId=o,this.verbose=!1;var x;typeof c=="boolean"?this.verbose=c===!0:c&&(x=c,this.verbose=x.verbose===!0,x.experimentalFeatures),this.logger=new Po(this.verbose),this.qrcode=new Xo(this.getSupportedFormats(c),this.getUseBarCodeDetectorIfSupported(x),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=i1.create()}return g.prototype.start=function(o,c,x,h){var d=this;if(!o)throw"cameraIdOrConfig is required";if(!x||typeof x!="function")throw"qrCodeSuccessCallback is required and should be a function.";var m;h?m=h:m=this.verbose?this.logger.log:function(){};var A=a1.create(c,this.logger);this.clearElement();var b=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=b,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:jt.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var y=this,S=this.stateManagerProxy.startTransition(ft.SCANNING);return new Promise(function(N,X){var j=f?A.videoConstraints:y.createVideoConstraints(o);if(!j){S.cancel(),X("videoConstraints should be defined");return}var H={};(!f||A.aspectRatio)&&(H.aspectRatio=A.aspectRatio);var Ie={onRenderSurfaceReady:function(me,$){y.setupUi(me,$,A),y.isScanning=!0,y.foreverScan(A,x,m)}};Jo.failIfNotSupported().then(function(me){me.create(j).then(function($){return $.render(d.element,H,Ie).then(function(te){y.renderedCamera=te,S.execute(),N(null)}).catch(function(te){S.cancel(),X(te)})}).catch(function($){S.cancel(),X(Wn.errorGettingUserMedia($))})}).catch(function(me){S.cancel(),X(Wn.cameraStreamingNotSupported())})})},g.prototype.pause=function(o){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ft.PAUSED),this.showPausedState(),(Mr(o)||o!==!0)&&(o=!1),o&&this.renderedCamera&&this.renderedCamera.pause()},g.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var o=this,c=function(){o.stateManagerProxy.directTransition(ft.SCANNING),o.hidePausedState()};if(!this.renderedCamera.isPaused()){c();return}this.renderedCamera.resume(function(){c()})},g.prototype.getState=function(){return this.stateManagerProxy.getState()},g.prototype.stop=function(){var o=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var c=this.stateManagerProxy.startTransition(ft.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var x=function(){if(o.element){var d=document.getElementById(jt.SHADED_REGION_ELEMENT_ID);d&&o.element.removeChild(d)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),x(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),c.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},g.prototype.scanFile=function(o,c){return this.scanFileV2(o,c).then(function(x){return x.decodedText})},g.prototype.scanFileV2=function(o,c){var x=this;if(!o||!(o instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Mr(c)&&(c=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,d){x.possiblyCloseLastScanImageFile(),x.clearElement(),x.lastScanImageFile=URL.createObjectURL(o);var m=new Image;m.onload=function(){var A=m.width,b=m.height,f=document.getElementById(x.elementId),I=f.clientWidth?f.clientWidth:jt.DEFAULT_WIDTH,y=Math.max(f.clientHeight?f.clientHeight:b,jt.FILE_SCAN_MIN_HEIGHT),S=x.computeCanvasDrawConfig(A,b,I,y);if(c){var N=x.createCanvasElement(I,y,"qr-canvas-visible");N.style.display="inline-block",f.appendChild(N);var X=N.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=I,X.canvas.height=y,X.drawImage(m,0,0,A,b,S.x,S.y,S.width,S.height)}var j=jt.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(m.width,S.width),Ie=Math.max(m.height,S.height),me=H+2*j,$=Ie+2*j,te=x.createCanvasElement(me,$);f.appendChild(te);var Ce=te.getContext("2d");if(!Ce)throw"Unable to get 2d context from canvas";Ce.canvas.width=me,Ce.canvas.height=$,Ce.drawImage(m,0,0,A,b,j,j,H,Ie);try{x.qrcode.decodeRobustlyAsync(te).then(function(he){h(Xs.createFromQrcodeResult(he))}).catch(d)}catch(he){d("QR code parse error, error = ".concat(he))}},m.onerror=d,m.onabort=d,m.onstalled=d,m.onsuspend=d,m.src=URL.createObjectURL(o)})},g.prototype.clear=function(){this.clearElement()},g.getCameras=function(){return t1.retrieve()},g.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},g.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},g.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},g.prototype.applyVideoConstraints=function(o){if(o){if(!ca.isMediaStreamConstraintsValid(o,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(o)},g.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},g.prototype.getSupportedFormats=function(o){var c=[se.QR_CODE,se.AZTEC,se.CODABAR,se.CODE_39,se.CODE_93,se.CODE_128,se.DATA_MATRIX,se.MAXICODE,se.ITF,se.EAN_13,se.EAN_8,se.PDF_417,se.RSS_14,se.RSS_EXPANDED,se.UPC_A,se.UPC_E,se.UPC_EAN_EXTENSION];if(!o||typeof o=="boolean"||!o.formatsToSupport)return c;if(!Array.isArray(o.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(o.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var x=[],h=0,d=o.formatsToSupport;h<d.length;h++){var m=d[h];Mo(m)?x.push(m):this.logger.warn("Invalid format: ".concat(m," passed in config, ignoring."))}if(x.length===0)throw"None of formatsToSupport match supported values.";return x},g.prototype.getUseBarCodeDetectorIfSupported=function(o){if(Mr(o))return!0;if(!Mr(o.useBarCodeDetectorIfSupported))return o.useBarCodeDetectorIfSupported!==!1;if(Mr(o.experimentalFeatures))return!0;var c=o.experimentalFeatures;return Mr(c.useBarCodeDetectorIfSupported)?!0:c.useBarCodeDetectorIfSupported!==!1},g.prototype.validateQrboxSize=function(o,c,x){var h=this,d=x.qrbox;this.validateQrboxConfig(d);var m=this.toQrdimensions(o,c,d),A=function(f){if(f<jt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(jt.MIN_QR_BOX_SIZE,"px.")},b=function(f){return f>o&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=o),f};A(m.width),A(m.height),m.width=b(m.width)},g.prototype.validateQrboxConfig=function(o){if(typeof o!="number"&&typeof o!="function"&&(o.width===void 0||o.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},g.prototype.toQrdimensions=function(o,c,x){if(typeof x=="number")return{width:x,height:x};if(typeof x=="function")try{return x(o,c)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return x},g.prototype.setupUi=function(o,c,x){x.isShadedBoxEnabled()&&this.validateQrboxSize(o,c,x);var h=Mr(x.qrbox)?{width:o,height:c}:x.qrbox;this.validateQrboxConfig(h);var d=this.toQrdimensions(o,c,h);d.height>c&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var m=x.isShadedBoxEnabled()&&d.height<=c,A={x:0,y:0,width:o,height:c},b=m?this.getShadedRegionBounds(o,c,d):A,f=this.createCanvasElement(b.width,b.height),I={willReadFrequently:!0},y=f.getContext("2d",I);y.canvas.width=b.width,y.canvas.height=b.height,this.element.append(f),m&&this.possiblyInsertShadingElement(this.element,o,c,d),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=y,this.canvasElement=f},g.prototype.createScannerPausedUiElement=function(o){var c=document.createElement("div");c.innerText=Wn.scannerPaused(),c.style.display="none",c.style.position="absolute",c.style.top="0px",c.style.zIndex="1",c.style.background="rgba(9, 9, 9, 0.46)",c.style.color="#FFECEC",c.style.textAlign="center",c.style.width="100%",o.appendChild(c),this.scannerPausedUiElement=c},g.prototype.scanContext=function(o,c){var x=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return o(h.text,Xs.createFromQrcodeResult(h)),x.possiblyUpdateShaders(!0),!0}).catch(function(h){x.possiblyUpdateShaders(!1);var d=Wn.codeParseError(h);return c(d,Lo.createFrom(d)),!1})},g.prototype.foreverScan=function(o,c,x){var h=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),m=d.videoWidth/d.clientWidth,A=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*m,f=this.qrRegion.height*A,I=this.qrRegion.x*m,y=this.qrRegion.y*A;this.context.drawImage(d,I,y,b,f,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(o,c,x)},h.getTimeoutFps(o.fps))};this.scanContext(c,x).then(function(N){!N&&o.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(c,x).finally(function(){S()})):S()}).catch(function(N){h.logger.logError("Error happend while scanning context",N),S()})}},g.prototype.createVideoConstraints=function(o){if(typeof o=="string")return{deviceId:{exact:o}};if(typeof o=="object"){var c="facingMode",x="deviceId",h={user:!0,environment:!0},d="exact",m=function(X){if(X in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(X,"'")},A=Object.keys(o);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var b=Object.keys(o)[0];if(b!==c&&b!==x)throw"Only '".concat(c,"' and '").concat(x,"' ")+" are supported for 'cameraIdOrConfig'";if(b===c){var f=o.facingMode;if(typeof f=="string"){if(m(f))return{facingMode:f}}else if(typeof f=="object")if(d in f){if(m(f["".concat(d)]))return{facingMode:{exact:f["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var I=typeof f;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var y=o.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(d in y)return{deviceId:{exact:y["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var S=typeof y;throw"Invalid type of 'deviceId' = ".concat(S)}}}var N=typeof o;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},g.prototype.computeCanvasDrawConfig=function(o,c,x,h){if(o<=x&&c<=h){var d=(x-o)/2,m=(h-c)/2;return{x:d,y:m,width:o,height:c}}else{var A=o,b=c;return o>x&&(c=x/o*c,o=x),c>h&&(o=h/c*o,c=h),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(b)+" to ".concat(o,"X").concat(c,".")),this.computeCanvasDrawConfig(o,c,x,h)}},g.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var o=document.getElementById(this.elementId);o&&(o.innerHTML="")},g.prototype.possiblyUpdateShaders=function(o){this.qrMatch!==o&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(c){c.style.backgroundColor=o?jt.BORDER_SHADER_MATCH_COLOR:jt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=o)},g.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},g.prototype.createCanvasElement=function(o,c,x){var h=o,d=c,m=document.createElement("canvas");return m.style.width="".concat(h,"px"),m.style.height="".concat(d,"px"),m.style.display="none",m.id=Mr(x)?"qr-canvas":x,m},g.prototype.getShadedRegionBounds=function(o,c,x){if(x.width>o||x.height>c)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(o-x.width)/2,y:(c-x.height)/2,width:x.width,height:x.height}},g.prototype.possiblyInsertShadingElement=function(o,c,x,h){if(!(c-h.width<1||x-h.height<1)){var d=document.createElement("div");d.style.position="absolute";var m=(c-h.width)/2,A=(x-h.height)/2;if(d.style.borderLeft="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(jt.SHADED_REGION_ELEMENT_ID),c-h.width<11||x-h.height<11)this.hasBorderShaders=!1;else{var b=5,f=40;this.insertShaderBorders(d,f,b,-b,null,0,!0),this.insertShaderBorders(d,f,b,-b,null,0,!1),this.insertShaderBorders(d,f,b,null,-b,0,!0),this.insertShaderBorders(d,f,b,null,-b,0,!1),this.insertShaderBorders(d,b,f+b,-b,null,-b,!0),this.insertShaderBorders(d,b,f+b,null,-b,-b,!0),this.insertShaderBorders(d,b,f+b,-b,null,-b,!1),this.insertShaderBorders(d,b,f+b,null,-b,-b,!1),this.hasBorderShaders=!0}o.append(d)}},g.prototype.insertShaderBorders=function(o,c,x,h,d,m,A){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=jt.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(c,"px"),b.style.height="".concat(x,"px"),h!==null&&(b.style.top="".concat(h,"px")),d!==null&&(b.style.bottom="".concat(d,"px")),A?b.style.left="".concat(m,"px"):b.style.right="".concat(m,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),o.appendChild(b)},g.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},g.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},g.prototype.getTimeoutFps=function(o){return 1e3/o},g})(),$s;(function(g){g[g.STATUS_DEFAULT=0]="STATUS_DEFAULT",g[g.STATUS_SUCCESS=1]="STATUS_SUCCESS",g[g.STATUS_WARNING=2]="STATUS_WARNING",g[g.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})($s||($s={}));var Rs;(function(g){g[g.BACK=1]="BACK",g[g.FRONT=2]="FRONT"})(Rs||(Rs={}));var Ds;(function(g){g[g.PORTRAIT=1]="PORTRAIT",g[g.LANDSCAPE=2]="LANDSCAPE",g[g.ADAPTIVE=3]="ADAPTIVE"})(Ds||(Ds={}));var Ms;(function(g){g[g.ALL=17]="ALL"})(Ms||(Ms={}));const o1=Object.assign(Object.assign({},se),Ms);var Bs;(function(g){g.ZXING="zxing",g.MLKIT="mlkit"})(Bs||(Bs={}));const l1=[{selector:".scanner-container-display",css:"display: block;"},{selector:".scanner-dialog",css:"display: none; position: fixed; z-index: 999; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);"},{selector:".scanner-dialog-inner",css:"background-color: #fefefe; margin: 2% auto; padding: 20px; border: 1px solid #888; width: 96%;"},{selector:".close-button",css:"color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;"},{selector:".close-button:hover",css:"color: #222;"},{selector:".scanner-container-full-width",css:"width: 100%;"}];function c1(g){const o="custom-style-os-cap-barcode";let c=document.getElementById(o);if(c||(c=document.createElement("style"),c.type="text/css",c.id=o,document.head.appendChild(c)),c.sheet){for(;c.sheet.cssRules.length;)c.sheet.deleteRule(0);for(const{selector:x,css:h}of g)c.sheet.insertRule(`${x} { ${h} }`)}else{c.textContent="";for(const{selector:x,css:h}of g)c.textContent+=`${x} { ${h} }`}}const u1=Ls("CapacitorBarcodeScanner",{web:()=>(c1(l1),mo(()=>import("./hpAKudu3.js"),[],import.meta.url).then(g=>new g.CapacitorBarcodeScannerWeb))});class d1{static async scanBarcode(o){return o.scanInstructions=o.scanInstructions||" ",o.scanButton=o.scanButton||!1,o.scanText=o.scanText||" ",o.cameraDirection=o.cameraDirection||Rs.BACK,o.scanOrientation=o.scanOrientation||Ds.ADAPTIVE,u1.scanBarcode(o)}}var f1=q('<div><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-width="4" fill="none" class="opacity-5" stroke="currentColor"></circle><circle cx="12" cy="12" r="10" stroke-width="4" class="opacity-80" stroke="currentColor" fill="none" stroke-dashoffset="46.07669455648491" stroke-dasharray="69.11503837897544" stroke-linecap="round"></circle></svg></div>');function ea(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" text-dark dark:text-primary":" text-white dark:text-black":c()?" text-primary dark:text-dark":" text-black dark:text-white";var b=f1(),f=fe(b);Q(b),K(I=>{R(b,1,`${h()??""} m-auto`),R(f,0,`animate-spin${I??""}`),F(f,`color: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A]),M(g,b),oe()}var h1=q("<div></div>");function g1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" border-dark dark:border-primary":" border-white dark:border-black":c()?" border-primary dark:border-dark":" border-black dark:border-white";var b=h1();K(f=>{R(b,1,`${h()??""} m-auto border-2${f??""} animate-spin rounded-full border-t-transparent dark:border-t-transparent`),F(b,`border-color: ${d()[0]??""};border-top-color:transparent;animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A]),M(g,b),oe()}var x1=q("<div></div>");function w1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" border-dark/5 border-l-dark/[1] dark:border-primary/5 dark:border-l-primary/[1]":" border-white/5 border-l-white/[1] dark:border-black/5 dark:border-l-black/[1]":c()?" border-primary/5 border-l-primary/[1] dark:border-dark/5 dark:border-l-dark/[1]":" border-black/5 border-l-black/[1] dark:border-white/5 dark:border-l-white/[1]";var b=x1();K(f=>{R(b,1,`${h()??""} m-auto animate-spin rounded-full border-2 ${f??""}`),F(b,`border-color:${d()[0]+"0D"};border-left-color:${d()[0]+"FF"};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A]),M(g,b),oe()}var m1=q("<div></div>");function b1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" border-dark dark:border-primary":" border-white dark:border-black":c()?" text-primary dark:text-dark":" text-black dark:text-white";var b=m1();K(f=>{R(b,1,`${h()??""} m-auto border-2 rounded-full${f??""} animate-spin border-b-transparent border-t-transparent dark:border-b-transparent dark:border-t-transparent`),F(b,`border-color: ${d()[0]??""};border-top-color:transparent;border-bottom-color:transparent;animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A]),M(g,b),oe()}var v1=q("<div><div><div></div> <div></div></div></div>");function C1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" border-dark dark:border-primary":" border-white dark:border-black":c()?" border-primary dark:border-dark":" border-black dark:border-white";var b=v1(),f=fe(b),I=fe(f),y=ge(I,2);Q(f),Q(b),K((S,N,X)=>{R(b,1,`${h()??""} m-auto flex flex-col justify-center`),R(f,1,`relative m-auto h-8 w-8 border-2 rounded-full${S??""} animate-spin border-b-transparent border-t-transparent dark:border-b-transparent dark:border-t-transparent`),F(f,`border-color: ${d()[0]??""};border-top-color:transparent;border-bottom-color:transparent;animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`),R(I,1,`absolute${N??""} border-l-[5px] border-r-[5px] border-t-[5px] border-l-transparent border-r-transparent dark:border-l-transparent dark:border-r-transparent`),F(I,`transform: rotate(225deg);border-color: ${d()[0]??""};border-right-color:transparent;border-left-color:transparent;`),R(y,1,`absolute bottom-0 right-0${X??""} border-l-[5px] border-r-[5px] border-t-[5px] border-l-transparent border-r-transparent dark:border-l-transparent dark:border-r-transparent`),F(y,`transform: rotate(45deg);border-color: ${d()[0]??""};border-right-color:transparent;border-left-color:transparent;`)},[A,A,A]),M(g,b),oe()}var A1=q("<div></div>");function E1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=A1();K(f=>{R(b,1,`${h()??""} m-auto rounded-full${f??""}`,"svelte-49j8er"),F(b,`background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A]),M(g,b),oe()}var p1=q("<div><div></div> <div></div></div>");function y1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=p1(),f=fe(b),I=ge(f,2);Q(b),K((y,S)=>{R(b,1,`relative ${h()??""} m-auto`,"svelte-1sylqwg"),R(f,1,`absolute${y??""} loading1 h-1/3 w-1/3 rounded-full`,"svelte-1sylqwg"),F(f,`background: ${d()[0]??""};animation-duration: ${1.5/m()}s;-webkit-animation-duration: ${1.5/m()}s;`),R(I,1,`absolute${S??""} loading2 h-1/3 w-1/3 rounded-full`,"svelte-1sylqwg"),F(I,`background: ${d()[0]??""};animation-duration: ${1.5/m()}s;-webkit-animation-duration: ${1.5/m()}s;`)},[A,A]),M(g,b),oe()}var _1=q("<div><div></div> <div></div></div>");function I1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=_1(),f=fe(b),I=ge(f,2);Q(b),K((y,S)=>{R(b,1,`${h()??""} m-auto flex items-center`,"svelte-6sg6sx"),R(f,1,`flex-1${y??""} loading1 h-1/2 w-1/2 rounded-full`,"svelte-6sg6sx"),F(f,`background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`),R(I,1,`flex-1${S??""} loading2 h-1/2 w-1/2 rounded-full`,"svelte-6sg6sx"),F(I,`background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A,A]),M(g,b),oe()}var T1=q("<div><div></div> <div></div> <div></div></div>");function S1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=T1(),f=fe(b),I=ge(f,2),y=ge(I,2);Q(b),K((S,N,X)=>{R(b,1,`${h()??""} loading m-auto flex items-center justify-between`,"svelte-1alb46m"),F(b,`animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`),R(f,1,`${S??""} h-2 w-2 rounded-full`,"svelte-1alb46m"),F(f,`background: ${d()[0]??""}`),R(I,1,`${N??""} h-2 w-2 rounded-full`,"svelte-1alb46m"),F(I,`background: ${d()[0]??""}`),R(y,1,`${X??""} h-2 w-2 rounded-full`,"svelte-1alb46m"),F(y,`background: ${d()[0]??""}`)},[A,A,A]),M(g,b),oe()}var k1=q("<div></div>"),N1=q("<div></div>");function O1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=N1();nt(b,20,()=>[0,1,2],rt,(f,I)=>{var y=k1();K(S=>{R(y,1,`absolute${S??""} loading h-1/3 w-1/3 rounded-full`,"svelte-1jirqhb"),F(y,`animation-delay: ${I-2}s;background: ${d()[0]??""};animation-duration: ${1.5/m()}s;-webkit-animation-duration: ${1.5/m()}s;`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`relative ${h()??""} m-auto`,"svelte-1jirqhb")),M(g,b),oe()}var R1=q("<div></div>"),D1=q("<div></div>");function M1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=D1();nt(b,20,()=>[0,1,2],rt,(f,I)=>{var y=R1();K(S=>{R(y,1,`${S??""} loading h-2 w-2 rounded-full`,"svelte-1ixdjs7"),F(y,`animation-delay: ${I===1?-.3:0}s;background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex items-center justify-between`,"svelte-1ixdjs7")),M(g,b),oe()}var B1=q("<div></div>"),L1=q("<div></div>");function P1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=L1();nt(b,20,()=>[0,1,2,3,4],rt,(f,I)=>{var y=B1();K(S=>{R(y,1,`absolute -left-1/2 top-1/4${S??""} loading h-4 w-4 rounded-full opacity-60`,"svelte-zepxx4"),F(y,`animation-delay: ${-.5*I}s, ${-.5*(I+1)}s;top:calc(5);background: ${d()[0]??""};animation-duration: ${2.5/m()}s;-webkit-animation-duration: ${2.5/m()}s;`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto`,"svelte-zepxx4")),M(g,b),oe()}var F1=q("<div><div></div> <div></div> <div></div> <div></div></div>");function U1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=F1(),f=fe(b),I=ge(f,2),y=ge(I,2),S=ge(y,2);Q(b),K((N,X,j,H)=>{R(b,1,`${h()??""} loading relative m-auto box-border`,"svelte-mpcm8p"),R(f,1,`absolute${N??""} ball rounded-full`,"svelte-mpcm8p"),F(f,`background: ${d()[0]??""};animation-duration: ${m()>=1?.6/m():.6}s;-webkit-animation-duration: ${m()>=1?.6/m():.6}s;`),R(I,1,`absolute top-0 right-0${X??""} steps step1`,"svelte-mpcm8p"),F(I,`background: ${d()[0]??""};animation-duration: ${m()>=1?1.8/m():1.8}s;-webkit-animation-duration: ${m()>=1?1.8/m():1.8}s;`),R(y,1,`absolute top-0 right-0${j??""} steps step2`,"svelte-mpcm8p"),F(y,`background: ${d()[0]??""};animation-duration: ${m()>=1?1.8/m():1.8}s;-webkit-animation-duration: ${m()>=1?1.8/m():1.8}s;`),R(S,1,`absolute top-0 right-0${H??""} steps step3`,"svelte-mpcm8p"),F(S,`background: ${d()[0]??""};animation-duration: ${m()>=1?1.8/m():1.8}s;-webkit-animation-duration: ${m()>=1?1.8/m():1.8}s;`)},[A,A,A,A]),M(g,b),oe()}var z1=q("<div><div></div> <div></div></div>");function V1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" border-dark dark:border-primary":" border-white dark:border-black":c()?" border-primary dark:border-dark":" border-black dark:border-white";var b=z1(),f=fe(b),I=ge(f,2);Q(b),K((y,S)=>{R(b,1,`${h()??""} relative m-auto box-border`,"svelte-1uet2wq"),R(f,1,`absolute left-1/2 top-1/2 ${h()??""} m-auto border-2 !border-l-transparent !border-r-transparent rounded-full${y??""} loading`,"svelte-1uet2wq"),F(f,`border-color: ${d()[0]??""};animation-duration: ${1.5/m()}s;-webkit-animation-duration: ${1.5/m()}s;`),R(I,1,`absolute left-1/2 top-1/2 m-auto h-1/2 w-1/2 border-2 !border-b-transparent !border-t-transparent rounded-full${S??""} loading`,"svelte-1uet2wq"),F(I,`animation-direction: reverse;border-color: ${d()[0]??""};animation-duration: ${1.5/m()}s;-webkit-animation-duration: ${1.5/m()}s;`)},[A,A]),M(g,b),oe()}var G1=q("<div><div></div> <div></div></div>");function H1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" border-dark dark:border-primary":" border-white dark:border-black":c()?" border-primary dark:border-dark":" border-black dark:border-white",b=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var f=G1(),I=fe(f),y=ge(I,2);Q(f),K((S,N)=>{R(f,1,`${h()??""} relative m-auto`,"svelte-zmk4yj"),R(I,1,`absolute h-full w-full border-2 !border-l-transparent !border-r-transparent rounded-full${S??""} loading1`,"svelte-zmk4yj"),F(I,`border-color: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`),R(y,1,`absolute left-1/4 top-1/4 h-1/2 w-1/2 rounded-full${N??""} loading2`,"svelte-zmk4yj"),F(y,`background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A,b]),M(g,f),oe()}var W1=q("<div><div></div> <div></div> <div></div> <div></div> <div></div></div>");function X1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=W1(),f=fe(b),I=ge(f,2),y=ge(I,2),S=ge(y,2),N=ge(S,2);Q(b),K((X,j,H,Ie,me)=>{R(b,1,`${h()??""} relative m-auto`,"svelte-jggrrg"),R(f,1,`absolute${X??""} loading1 top-1/2 h-1/4 w-1/4 rounded-full`,"svelte-jggrrg"),F(f,`left:0;background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`),R(I,1,`absolute${j??""} loading2 top-1/2 h-1/4 w-1/4 rounded-full`,"svelte-jggrrg"),F(I,`left:25%;background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`),R(y,1,`absolute${H??""} loading3 top-1/2 h-1/4 w-1/4 rounded-full`,"svelte-jggrrg"),F(y,`left:50%;background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`),R(S,1,`absolute${Ie??""} loading4 top-1/2 h-1/4 w-1/4 rounded-full`,"svelte-jggrrg"),F(S,`left:75%;background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`),R(N,1,`absolute${me??""} loading5 top-1/2 h-1/4 w-1/4 rounded-full`,"svelte-jggrrg"),F(N,`left:100%;background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A,A,A,A,A]),M(g,b),oe()}var Y1=q("<div></div>"),j1=q("<div></div>");function Z1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=j1();nt(b,20,()=>[0,1,2],rt,(f,I)=>{var y=Y1();K(S=>{R(y,1,`${S??""} loading h-2 w-2 rounded-full`,"svelte-eaqsx9"),F(y,`animation-delay: ${I*100-300}ms;background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex items-center justify-between`,"svelte-eaqsx9")),M(g,b),oe()}var K1=q("<div></div>"),q1=q("<div></div>");function Q1(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=q1();nt(b,20,()=>[0,1,2],rt,(f,I)=>{var y=K1();K(S=>{R(y,1,`${S??""} loading h-2 w-2 rounded-full`,"svelte-p04q32"),F(y,`animation-delay: ${I*100-300}ms;background: ${d()[0]??""};animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex items-center justify-between`,"svelte-p04q32")),M(g,b),oe()}var J1=q("<div><div></div> <div></div> <div></div> <div></div></div>");function $1(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1),d=p(o,"theme",3,!1),m=p(o,"inverse",3,!1);const A=()=>m()?d()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":d()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=J1(),f=fe(b),I=ge(f,2),y=ge(I,2),S=ge(y,2);Q(b),K((N,X,j,H)=>{R(b,1,`${c()??""} relative m-auto rotate-45`,"svelte-93jqwv"),R(f,1,`shape1 absolute left-0 top-0 h-1/3 w-1/3 ${N??""}`,"svelte-93jqwv"),F(f,`background: ${x()[0]??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`),R(I,1,`shape2 absolute right-0 top-0 h-1/3 w-1/3 ${X??""}`,"svelte-93jqwv"),F(I,`background: ${x()[0]??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`),R(y,1,`shape3 absolute bottom-0 right-0 h-1/3 w-1/3 ${j??""}`,"svelte-93jqwv"),F(y,`background: ${x()[0]??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`),R(S,1,`shape4 absolute bottom-0 left-0 h-1/3 w-1/3 ${H??""}`,"svelte-93jqwv"),F(S,`background: ${x()[0]??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`)},[A,A,A,A]),M(g,b),oe()}var e0=q("<div><div></div> <div></div> <div></div> <div></div></div>");function t0(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1),d=p(o,"theme",3,!1),m=p(o,"inverse",3,!1);const A=()=>m()?d()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":d()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=e0(),f=fe(b),I=ge(f,2),y=ge(I,2),S=ge(y,2);Q(b),K((N,X,j,H)=>{R(b,1,`${c()??""} loading relative m-auto`,"svelte-s6zf0w"),F(b,`animation-duration: ${1.6/h()}s;-webkit-animation-duration: ${1.6/h()}s;`),R(f,1,`shape1 absolute h-1/3 w-1/3 rounded-full ${N??""}`,"svelte-s6zf0w"),F(f,`background: ${x()[0]??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`),R(I,1,`shape2 absolute h-1/3 w-1/3 rounded-full ${X??""}`,"svelte-s6zf0w"),F(I,`background: ${x()[0]??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`),R(y,1,`shape3 absolute h-1/3 w-1/3 rounded-full ${j??""}`,"svelte-s6zf0w"),F(y,`background: ${x()[0]??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`),R(S,1,`shape4 absolute h-1/3 w-1/3 rounded-full ${H??""}`,"svelte-s6zf0w"),F(S,`background: ${x()[0]??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`)},[A,A,A,A]),M(g,b),oe()}var r0=q("<div></div>");function n0(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1),d=p(o,"theme",3,!1),m=p(o,"inverse",3,!1);const A=()=>m()?d()?" border-dark/5 border-l-dark/[1] dark:border-primary/5 dark:border-l-primary/[1] border-r-dark/[1] dark:border-r-primary/[1]":" border-white/5 border-l-white/[1] dark:border-black/5 dark:border-l-black/[1] border-r-white/[1] dark:border-r-black/[1]":d()?" border-primary/5 dark:border-dark/5 border-l-primary/[1] dark:border-l-dark/[1] border-r-primary/[1] dark:border-r-dark/[1]":" border-black/5 dark:border-white/5 border-l-black/[1] dark:border-l-white/[1] border-r-black/[1] dark:border-r-white/[1]";var b=r0();K(f=>{R(b,1,`${c()??""} loading m-auto rounded-full border-4 ${f??""}`,"svelte-2lwbms"),F(b,`border-color: ${x()[0]+"0D"} ${x()[0]+"FF"} ${x()[0]+"0D"} ${x()[0]+"FF"};animation-duration: ${2/h()}s;-webkit-animation-duration: ${2/h()}s;`)},[A]),M(g,b),oe()}var i0=q("<div><div></div> <div></div> <div></div> <div></div></div>");function s0(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1),d=p(o,"theme",3,!1),m=p(o,"inverse",3,!1);const A=()=>m()?d()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":d()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=i0(),f=fe(b),I=ge(f,2),y=ge(I,2),S=ge(y,2);Q(b),K((N,X,j,H)=>{R(b,1,`${c()??""} loading relative m-auto`,"svelte-t6co57"),F(b,`animation-duration: ${1.2/h()}s;-webkit-animation-duration: ${1.2/h()}s;`),R(f,1,`shape1 absolute h-1/2 w-1/2 rounded-tl-full ${N??""}`,"svelte-t6co57"),F(f,`background: ${x()[0]??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`),R(I,1,`shape2 absolute h-1/2 w-1/2 rounded-tr-full ${X??""}`,"svelte-t6co57"),F(I,`background: ${x()[0]??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`),R(y,1,`shape3 absolute h-1/2 w-1/2 rounded-br-full ${j??""}`,"svelte-t6co57"),F(y,`background: ${x()[0]??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`),R(S,1,`shape4 absolute h-1/2 w-1/2 rounded-bl-full ${H??""}`,"svelte-t6co57"),F(S,`background: ${x()[0]??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`)},[A,A,A,A]),M(g,b),oe()}var a0=q('<div><svg viewBox="0 0 40 40"><circle class="track stroke-[5px] opacity-0 svelte-1pe4tp6" stroke="currentColor" cx="20" cy="20" r="17.5" fill="none"></circle><circle class="car stroke-[5px] svelte-1pe4tp6" stroke="currentColor" cx="20" cy="20" r="17.5" fill="none"></circle></svg></div>');function o0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" text-dark dark:text-primary":" text-white dark:text-black":c()?" text-primary dark:text-dark":" text-black dark:text-white";var b=a0(),f=fe(b),I=ge(fe(f));Q(f),Q(b),K(y=>{R(b,1,`${h()??""} m-auto`,"svelte-1pe4tp6"),F(b,`animation-duration: ${2/m()}s;-webkit-animation-duration: ${2/m()}s;`),R(f,0,`container overflow-visible will-change-transform origin-center${y??""}`,"svelte-1pe4tp6"),F(f,`color: ${d()[0]??""}`),F(I,`animation-duration: ${2/m()*.75}s;-webkit-animation-duration: ${2/m()*.75}s;`)},[A]),M(g,b),oe()}var l0=q('<div class="absolute left-1/2 flex h-8 w-[3px] flex-col gap-5 rounded-full bg-transparent svelte-17oce1"><div></div></div>'),c0=q("<div></div>");function u0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=c0();nt(b,20,()=>new Array(12),rt,(f,I,y)=>{var S=l0();F(S,`transform: rotate(calc(360deg / -12*${y}));`);var N=fe(S);Q(S),K(X=>{R(N,1,`h-1/5 rounded-full line${X??""}`,"svelte-17oce1"),F(N,`background: ${d()[0]??""};animation-delay: calc( ${1/m()}s / -12 * ${y}); animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A]),M(f,S)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto -translate-x-0.5`,"svelte-17oce1")),M(g,b),oe()}var d0=q('<div class="m-auto svelte-yanu54"><svg x="0px" y="0px" viewBox="0 0 37 37" preserveAspectRatio="xMidYMid meet"><path fill="none" stroke-width="5" pathLength="100" d="M0.37 18.5 C0.37 5.772 5.772 0.37 18.5 0.37 S36.63 5.772 36.63 18.5 S31.228 36.63 18.5 36.63 S0.37 31.228 0.37 18.5"></path><path fill="none" stroke-width="5" pathLength="100" d="M0.37 18.5 C0.37 5.772 5.772 0.37 18.5 0.37 S36.63 5.772 36.63 18.5 S31.228 36.63 18.5 36.63 S0.37 31.228 0.37 18.5"></path></svg></div>');function f0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" stroke-dark dark:stroke-primary":" stroke-white dark:stroke-black":c()?" stroke-primary dark:stroke-dark":" stroke-black dark:stroke-white";var b=d0(),f=fe(b),I=fe(f),y=ge(I);Q(f),Q(b),K((S,N)=>{R(f,0,`${h()??""} origin-center overflow-visible`,"svelte-yanu54"),R(I,0,`opacity-10 ${S??""}`,"svelte-yanu54"),F(I,`stroke: ${d()[0]??""};`),R(y,0,`car ${N??""}`,"svelte-yanu54"),F(y,`stroke: ${d()[0]??""}; animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A,A]),M(g,b),oe()}var h0=q('<div class="m-auto svelte-9yvcj3"><svg viewBox="0 0 35 35"><rect x="2.5" y="2.5" fill="none" stroke-width="5px" width="32.5" height="32.5"></rect><rect x="2.5" y="2.5" fill="none" stroke-width="5px" width="32.5" height="32.5" pathLength="100"></rect></svg></div>');function g0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" stroke-dark dark:stroke-primary":" stroke-white dark:stroke-black":c()?" stroke-primary dark:stroke-dark":" stroke-black dark:stroke-white";var b=h0(),f=fe(b),I=fe(f),y=ge(I);Q(f),Q(b),K((S,N)=>{R(f,0,`${h()??""} origin-center overflow-visible will-change-transform`,"svelte-9yvcj3"),R(I,0,`opacity-10 ${S??""}`,"svelte-9yvcj3"),F(I,`stroke: ${d()[0]??""};`),R(y,0,`car ${N??""}`,"svelte-9yvcj3"),F(y,`stroke: ${d()[0]??""};  animation-duration: ${1.2/m()}s;-webkit-animation-duration: ${1.2/m()}s;`)},[A,A]),M(g,b),oe()}var x0=q('<div class="m-auto svelte-17m1fu6"><svg x="0px" y="0px" viewBox="0 0 37 37" height="37" width="37" preserveAspectRatio="xMidYMid meet"><path fill="none" stroke-width="5" pathLength="100" d="M36.63 31.746 c0 -13.394 -7.3260000000000005 -25.16 -18.13 -31.375999999999998 C7.696 6.66 0.37 18.352 0.37 31.746 c5.328 3.108 11.544 4.8839999999999995 18.13 4.8839999999999995 S31.301999999999996 34.854 36.63 31.746z"></path><path fill="none" stroke-width="5" pathLength="100" d="M36.63 31.746 c0 -13.394 -7.3260000000000005 -25.16 -18.13 -31.375999999999998 C7.696 6.66 0.37 18.352 0.37 31.746 c5.328 3.108 11.544 4.8839999999999995 18.13 4.8839999999999995 S31.301999999999996 34.854 36.63 31.746z"></path></svg></div>');function w0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" stroke-dark dark:stroke-primary":" stroke-white dark:stroke-black":c()?" stroke-primary dark:stroke-dark":" stroke-black dark:stroke-white";var b=x0(),f=fe(b),I=fe(f),y=ge(I);Q(f),Q(b),K((S,N)=>{R(f,0,`${h()??""} origin-center overflow-visible`,"svelte-17m1fu6"),R(I,0,`opacity-10${S??""}`,"svelte-17m1fu6"),F(I,`stroke: ${d()[0]??""};`),R(y,0,`car${N??""}`,"svelte-17m1fu6"),F(y,`stroke: ${d()[0]??""}; animation-duration: ${1/m()}s;-webkit-animation-duration: ${1/m()}s;`)},[A,A]),M(g,b),oe()}var m0=q('<div class="dot absolute left-0 right-0 flex svelte-1cawxvx"><div></div></div>'),b0=q("<div></div>");function v0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=b0();nt(b,20,()=>[0,-.835,-.668,-.501,-.334,-.167],rt,(f,I)=>{var y=m0(),S=fe(y);Q(y),K(N=>{F(y,`animation-duration: ${2/m()}s; animation-delay: calc(${2/m()}s * ${I??""} * 0.5);`),R(S,1,`h-1.5 w-1.5 rounded-full${N??""}`,"svelte-1cawxvx"),F(S,`background-color: ${d()[0]??""}; animation-delay: calc(${2/m()}s * ${I??""} * 0.5);`)},[A]),M(f,y)}),Q(b),K(()=>{R(b,1,`${h()??""} container relative m-auto flex items-center`,"svelte-1cawxvx"),F(b,`animation-duration: ${2/m()}s;`)}),M(g,b),oe()}var C0=q('<div class="absolute left-0 right-0 flex svelte-13fjlb0"><div></div></div>'),A0=q("<div></div>");function E0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=A0();nt(b,20,()=>[0,-.875,-.75,-.625,-.5,-.375,-.25,-.125],rt,(f,I,y)=>{var S=C0();F(S,`transform: rotate(calc(360deg / 8 * ${y})); `);var N=fe(S);Q(S),K(X=>{R(N,1,`dot h-1.5 w-1.5 rounded-full${X??""}`,"svelte-13fjlb0"),F(N,`background-color: ${d()[0]??""};animation-duration: ${1/m()}s ; animation-delay: calc(${1/m()}s * ${I??""});`)},[A]),M(f,S)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto flex items-center`,"svelte-13fjlb0")),M(g,b),oe()}var p0=q('<div class="absolute left-0 right-0 flex svelte-109o9tf"><div></div></div>'),y0=q("<div></div>");function _0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=y0();nt(b,20,()=>[0,-.125,-.25,-.375,-.5,-.625,-.75,-.875],rt,(f,I,y)=>{var S=p0(),N=fe(S);Q(S),K(X=>{F(S,`transform: rotate(${y*45}deg); animation-duration: ${.3/m()}s`),R(N,1,`dot h-1.5 w-1.5 rounded-full${X??""}`,"svelte-109o9tf"),F(N,`background-color: ${d()[0]??""}; transform: translateX(12px); animation-duration: ${.9/m()}s; animation-delay: calc(${.9/m()}s * ${I??""});`)},[A]),M(f,S)}),Q(b),K(()=>R(b,1,`${h()??""} container relative m-auto flex items-center`,"svelte-109o9tf")),M(g,b),oe()}var I0=q('<div class="cube h-2 w-2 svelte-1r7ikud"><div></div></div>'),T0=q("<div></div>");function S0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=T0();nt(b,20,()=>[0,-.36,-.2],rt,(f,I)=>{var y=I0(),S=fe(y);Q(y),K(N=>{F(y,`animation-duration: ${1.75/m()}s; animation-delay: calc(${1.75/m()}s * ${I??""})`),R(S,1,`cube__inner h-2 w-2 rounded-xs${N??""}`,"svelte-1r7ikud"),F(S,`background-color: ${d()[0]??""}; animation-duration: ${1.75/m()}s; animation-delay: calc(${1.75/m()}s * ${I??""})`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex items-end justify-between`,"svelte-1r7ikud")),M(g,b),oe()}var k0=q("<div></div>"),N0=q("<div></div>");function O0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=N0();nt(b,20,()=>[-.45,-.3,-.15,0],rt,(f,I)=>{var y=k0();K(S=>{R(y,1,`bar h-full w-[3px]${S??""}`,"svelte-108ehfe"),F(y,`background-color: ${d()[0]??""}; animation-duration: ${1/m()}s; animation-delay: ${1*I}s`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex items-center justify-between`,"svelte-108ehfe")),M(g,b),oe()}var R0=q("<div><div></div> <div></div> <div></div></div>");function D0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=R0(),f=fe(b),I=ge(f,2),y=ge(I,2);Q(b),K((S,N,X)=>{R(b,1,`${h()??""} relative m-auto`,"svelte-117ps63"),R(f,1,`line1 absolute w-1 h-1${S??""}`,"svelte-117ps63"),F(f,`background-color: ${d()[0]??""}; top: calc(50% - 2px); left: calc(50% - 2px); animation-duration: ${4/m()}s;`),R(I,1,`line2 absolute w-1 h-1${N??""}`,"svelte-117ps63"),F(I,`background-color: ${d()[0]??""}; animation-duration: ${4/m()}s;`),R(y,1,`line2 absolute w-1 h-1${X??""}`,"svelte-117ps63"),F(y,`background-color: ${d()[0]??""}; animation-duration: ${4/m()}s; animation-delay: calc(${4/m()}s * -0.5);`)},[A,A,A]),M(g,b),oe()}var M0=q('<div><div class="isolation absolute flex h-[13.92px] w-[13.92px] items-center justify-center overflow-hidden svelte-1rwbk1k" style="top: 8.25%; left: 8.25%; border-radius: 50% 50% calc(32px / 15);"><div></div> <div></div></div> <div class="isolation absolute flex h-[13.92px] w-[13.92px] items-center justify-center overflow-hidden svelte-1rwbk1k" style="bottom: 8.25%; right: 8.25%; transform: rotate(180deg); align-self: flex-end; border-radius: 50% 50% calc(32px / 15);"><div></div> <div></div></div></div>');function B0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=M0(),f=fe(b),I=fe(f),y=ge(I,2);Q(f);var S=ge(f,2),N=fe(S),X=ge(N,2);Q(S),Q(b),K((j,H,Ie,me)=>{R(b,1,`${h()??""} container relative m-auto flex flex-col`,"svelte-1rwbk1k"),F(b,`animation-duration: ${3.5/m()}s;`),R(I,1,`absolute left-0 top-0 h-full w-full opacity-10${j??""}`,"svelte-1rwbk1k"),F(I,`background-color: ${d()[0]??""};`),R(y,1,`half1 relative w-full origin-bottom-right h-full${H??""}`,"svelte-1rwbk1k"),F(y,`background-color: ${d()[0]??""}; animation-duration: ${3.5/m()}s;`),R(N,1,`absolute left-0 top-0 h-full w-full opacity-10${Ie??""}`,"svelte-1rwbk1k"),F(N,`background-color: ${d()[0]??""};`),R(X,1,`half2 relative h-full w-full origin-bottom-right z-10${me??""}`,"svelte-1rwbk1k"),F(X,`background-color: ${d()[0]??""}; animation-delay: -${3.5/m()/2}s; animation-duration: ${3.5/m()}s;`)},[A,A,A,A]),M(g,b),oe()}var L0=q('<div><div style="height:4px"><div></div> <div></div></div></div>');function P0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=L0(),f=fe(b),I=fe(f),y=ge(I,2);Q(f),Q(b),K((S,N)=>{R(b,1,`${h()??""} flex flex-col justify-center`,"svelte-1nz4ont"),R(f,1,`${h()??""} relative m-auto overflow-hidden rounded-full`,"svelte-1nz4ont"),R(I,1,`absolute h-full w-full opacity-10${S??""}`,"svelte-1nz4ont"),F(I,`background-color: ${d()[0]??""};`),R(y,1,`container h-full w-full rounded-full${N??""}`,"svelte-1nz4ont"),F(y,`background-color: ${d()[0]??""}; animation-duration: ${1.5/m()}s`)},[A,A]),M(g,b),oe()}var F0=q('<div><div style="height:4px"><div></div> <div></div></div></div>');function U0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=F0(),f=fe(b),I=fe(f),y=ge(I,2);Q(f),Q(b),K((S,N)=>{R(b,1,`${h()??""} flex flex-col justify-center`,"svelte-1jtne8e"),R(f,1,`${h()??""} relative m-auto overflow-hidden rounded-full`,"svelte-1jtne8e"),R(I,1,`absolute h-full w-full opacity-10${S??""}`,"svelte-1jtne8e"),F(I,`background-color: ${d()[0]??""};`),R(y,1,`container h-full w-full rounded-full${N??""}`,"svelte-1jtne8e"),F(y,`background-color: ${d()[0]??""}; animation-duration: ${2/m()}s`)},[A,A]),M(g,b),oe()}var z0=q('<div><svg x="0px" y="0px" viewBox="0 0 55 23.1" preserveAspectRatio="xMidYMid meet"><path fill="none" stroke-width="5" pathLength="100" d="M26.7,12.2c3.5,3.4,7.4,7.8,12.7,7.8c5.5,0,9.6-4.4,9.6-9.5C49,5,45.1,1,39.8,1c-5.5,0-9.5,4.2-13.1,7.8l-3.4,3.3c-3.6,3.6-7.6,7.8-13.1,7.8C4.9,20,1,16,1,10.5C1,5.4,5.1,1,10.6,1c5.3,0,9.2,4.5,12.7,7.8L26.7,12.2z"></path><path fill="none" stroke-width="5" pathLength="100" d="M26.7,12.2c3.5,3.4,7.4,7.8,12.7,7.8c5.5,0,9.6-4.4,9.6-9.5C49,5,45.1,1,39.8,1c-5.5,0-9.5,4.2-13.1,7.8l-3.4,3.3c-3.6,3.6-7.6,7.8-13.1,7.8C4.9,20,1,16,1,10.5C1,5.4,5.1,1,10.6,1c5.3,0,9.2,4.5,12.7,7.8L26.7,12.2z"></path></svg></div>');function V0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" stroke-dark dark:stroke-primary":" stroke-white dark:stroke-black":c()?" stroke-primary dark:stroke-dark":" stroke-black dark:stroke-white";var b=z0(),f=fe(b),I=fe(f),y=ge(I);Q(f),Q(b),K((S,N)=>{R(b,1,`${h()??""} m-auto flex flex-col justify-center`,"svelte-1gji24v"),R(f,0,`${h()??""} m-auto h-full w-full origin-center overflow-visible`,"svelte-1gji24v"),R(I,0,`opacity-10${S??""}`,"svelte-1gji24v"),F(I,`stroke: ${d()[0]??""};`),R(y,0,`car${N??""}`,"svelte-1gji24v"),F(y,`stroke: ${d()[0]??""}; animation-duration: ${1.5/m()}s;-webkit-animation-duration: ${1.5/m()}s;`)},[A,A]),M(g,b),oe()}var G0=q('<div><svg class="h-full w-full origin-center overflow-visible svelte-c9p1vw" x="0px" y="0px" viewBox="0 0 40 40" height="40" width="40" preserveAspectRatio="xMidYMid meet"><path fill="none" stroke-width="4" pathLength="100" d="M29.760000000000005 18.72 c0 7.28 -3.9200000000000004 13.600000000000001 -9.840000000000002 16.96 c -2.8800000000000003 1.6800000000000002 -6.24 2.64 -9.840000000000002 2.64 c -3.6 0 -6.88 -0.96 -9.76 -2.64 c0 -7.28 3.9200000000000004 -13.52 9.840000000000002 -16.96 c2.8800000000000003 -1.6800000000000002 6.24 -2.64 9.76 -2.64 S26.880000000000003 17.040000000000003 29.760000000000005 18.72 c5.84 3.3600000000000003 9.76 9.68 9.840000000000002 16.96 c -2.8800000000000003 1.6800000000000002 -6.24 2.64 -9.76 2.64 c -3.6 0 -6.88 -0.96 -9.840000000000002 -2.64 c -5.84 -3.3600000000000003 -9.76 -9.68 -9.76 -16.96 c0 -7.28 3.9200000000000004 -13.600000000000001 9.76 -16.96 C25.84 5.120000000000001 29.760000000000005 11.440000000000001 29.760000000000005 18.72z"></path><path fill="none" stroke-width="4" pathLength="100" d="M29.760000000000005 18.72 c0 7.28 -3.9200000000000004 13.600000000000001 -9.840000000000002 16.96 c -2.8800000000000003 1.6800000000000002 -6.24 2.64 -9.840000000000002 2.64 c -3.6 0 -6.88 -0.96 -9.76 -2.64 c0 -7.28 3.9200000000000004 -13.52 9.840000000000002 -16.96 c2.8800000000000003 -1.6800000000000002 6.24 -2.64 9.76 -2.64 S26.880000000000003 17.040000000000003 29.760000000000005 18.72 c5.84 3.3600000000000003 9.76 9.68 9.840000000000002 16.96 c -2.8800000000000003 1.6800000000000002 -6.24 2.64 -9.76 2.64 c -3.6 0 -6.88 -0.96 -9.840000000000002 -2.64 c -5.84 -3.3600000000000003 -9.76 -9.68 -9.76 -16.96 c0 -7.28 3.9200000000000004 -13.600000000000001 9.76 -16.96 C25.84 5.120000000000001 29.760000000000005 11.440000000000001 29.760000000000005 18.72z"></path></svg></div>');function H0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" stroke-dark dark:stroke-primary":" stroke-white dark:stroke-black":c()?" stroke-primary dark:stroke-dark":" stroke-black dark:stroke-white";var b=G0(),f=fe(b),I=fe(f),y=ge(I);Q(f),Q(b),K((S,N)=>{R(b,1,`${h()??""} m-auto`,"svelte-c9p1vw"),R(I,0,`opacity-10${S??""}`,"svelte-c9p1vw"),F(I,`stroke: ${d()[0]??""};`),R(y,0,`car${N??""}`,"svelte-c9p1vw"),F(y,`stroke: ${d()[0]??""}; animation-duration: ${1.5/m()}s;-webkit-animation-duration: ${1.5/m()}s;`)},[A,A]),M(g,b),oe()}var W0=q('<div><svg class="h-full w-full origin-center overflow-visible svelte-1c8wyn1" x="0px" y="0px" viewBox="0 0 50 31.25" height="31.25" width="50" preserveAspectRatio="xMidYMid meet"><path stroke-width="4" fill="none" pathLength="100" d="M0.625 21.5 h10.25 l3.75 -5.875 l7.375 15 l9.75 -30 l7.375 20.875 v0 h10.25"></path><path stroke-width="4" fill="none" pathLength="100" d="M0.625 21.5 h10.25 l3.75 -5.875 l7.375 15 l9.75 -30 l7.375 20.875 v0 h10.25"></path></svg></div>');function X0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" stroke-dark dark:stroke-primary":" stroke-white dark:stroke-black":c()?" stroke-primary dark:stroke-dark":" stroke-black dark:stroke-white";var b=W0(),f=fe(b),I=fe(f),y=ge(I);Q(f),Q(b),K((S,N)=>{R(b,1,`${h()??""} m-auto`,"svelte-1c8wyn1"),R(I,0,`track opacity-10${S??""}`,"svelte-1c8wyn1"),F(I,`stroke: ${d()[0]??""};`),R(y,0,`car${N??""}`,"svelte-1c8wyn1"),F(y,`stroke: ${d()[0]??""}; animation-duration: ${1.5/m()}s;-webkit-animation-duration: ${1.5/m()}s;`)},[A,A]),M(g,b),oe()}var Y0=q('<div class="relative w-full svelte-nhw0qa" style="height: calc(32px / 6);"><div></div> <div></div></div>'),j0=q("<div></div>");function Z0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=j0();nt(b,20,()=>[0,1,2,3,4,5],rt,(f,I)=>{var y=Y0(),S=fe(y),N=ge(S,2);Q(y),K((X,j)=>{R(S,1,`slice absolute top-0 h-full rounded-full shrink-0${X??""}`,"svelte-nhw0qa"),F(S,`background-color: ${d()[0]??""};left: calc(50% - 32px / 12);width: calc(100% / 6);animation-duration: ${2.5/m()}s;animation-delay: ${-(2.5/m()/6)*I}s;`),R(N,1,`slice absolute top-0 h-full rounded-full shrink-0${j??""}`,"svelte-nhw0qa"),F(N,`background-color: ${d()[0]??""};left: calc(50% - 32px / 12);width: calc(100% / 6);animation-duration: ${2.5/m()}s;animation-delay: ${-(2.5/m()/2)-2.5/m()/6*I}s;`)},[A,A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex flex-col items-center justify-center`,"svelte-nhw0qa")),M(g,b),oe()}var K0=q("<div></div>"),q0=q("<div></div>");function Q0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white",b=[[24,-35],[16,-6],[8,23],[-1,51],[38,-17.5],[30,10],[22,39],[14,67],[53,-.8],[44.5,27],[36,55.7],[28.7,84.3],[66.8,15],[58.8,43],[50,72],[42,100]];var f=q0();nt(f,20,()=>[-.48,-.4,-.32,-.24,-.4,-.32,-.24,-.16,-.32,-.24,-.16,-.08,-.24,-.16,-.08,-0],rt,(I,y,S)=>{var N=K0();K(X=>{R(N,1,`dot absolute h-1 w-1 rounded-full${X??""}`,"svelte-nmsbv6"),F(N,`background-color: ${d()[0]??""};bottom: calc(${b[S][0]??""}% + 1.6px);right: calc(${b[S][1]??""}% + 1.6px);animation-duration: ${1.5/m()}s;animation-delay: ${1.5/m()*y}s`)},[A]),M(I,N)}),Q(f),K(()=>R(f,1,`${h()??""} relative m-auto flex items-center`,"svelte-nmsbv6")),M(g,f),oe()}var J0=q("<div><div></div> <div></div></div>");function $0(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=J0(),f=fe(b),I=ge(f,2);Q(b),K((y,S)=>{R(b,1,`${h()??""} relative m-auto`,"svelte-132qmdp"),R(f,1,`container absolute left-2.5 top-2.5 h-3 w-3 rounded-full${y??""}`,"svelte-132qmdp"),F(f,`background-color: ${d()[0]??""};animation-duration: ${1.5/m()}s;`),R(I,1,`container absolute left-2.5 top-2.5 h-3 w-3 rounded-full${S??""}`,"svelte-132qmdp"),F(I,`background-color: ${d()[0]??""};animation-duration: ${1.5/m()}s;animation-delay: ${.75/m()}s`)},[A,A]),M(g,b),oe()}var el=q('<div class="absolute h-full svelte-1bnnw30"><div></div></div>'),tl=q("<div></div>");function rl(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=tl();nt(b,20,()=>[120,-120,0],rt,(f,I)=>{var y=el(),S=fe(y);Q(y),K(N=>{F(y,`transform: rotate(${I??""}deg);left: 37.5%;width:25%;`),R(S,1,`dot absolute left-0 top-0 h-0 w-full rounded-full${N??""}`,"svelte-1bnnw30"),F(S,`background-color: ${d()[0]??""};padding-bottom: 100%;animation-duration: ${1.5/m()}s;`)},[A]),M(f,y)}),Q(b),K(()=>{R(b,1,`${h()??""} container relative m-auto inline-block`,"svelte-1bnnw30"),F(b,`animation-duration: ${1.5/m()}s;`)}),M(g,b),oe()}var nl=q("<div></div>"),il=q('<div><div class="flex items-center justify-between svelte-uk5o8f"></div></div>');function sl(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=il(),f=fe(b);nt(f,20,()=>[-.45,-.3,-.15,0],rt,(I,y)=>{var S=nl();K(N=>{R(S,1,`dot h-1.5 w-1.5 rounded-full${N??""}`,"svelte-uk5o8f"),F(S,`background-color: ${d()[0]??""};animation-duration: ${1/m()}s;animation-delay: ${1/m()*y}s`)},[A]),M(I,S)}),Q(f),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex flex-col justify-center`,"svelte-uk5o8f")),M(g,b),oe()}var al=q('<div class="dot absolute left-0 top-0 flex h-full w-full items-center svelte-1czddta"><div></div></div>'),ol=q("<div></div>");function ll(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=ol();nt(b,20,()=>[0,.4,.8],rt,(f,I,y)=>{var S=al(),N=fe(S);Q(S),K(X=>{F(S,`animation-duration: ${2.5/m()}s;transform: translateX(${32*I}px);animation-delay: ${2.5/m()/(-1.5*y)}s`),R(N,1,`w-2 rounded-full h-2${X??""}`,"svelte-1czddta"),F(N,`background-color: ${d()[0]??""};`)},[A]),M(f,S)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto`,"svelte-1czddta")),M(g,b),oe()}var cl=q("<div><div></div></div>"),ul=q("<div></div>");function dl(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=ul();nt(b,20,()=>[0,1,2,3],rt,(f,I)=>{var y=cl();let S;var N=fe(y);Q(y),K((X,j)=>{S=R(y,1,"dot relative flex h-full w-1/4 items-center svelte-1jkqewp",null,S,X),F(y,`transform-origin: center top;animation-duration: ${1.5/m()}s;`),R(N,1,`h-1/4 w-full rounded-full${j??""}`,"svelte-1jkqewp"),F(N,`background-color: ${d()[0]??""};`)},[()=>({dot1:I===0,dot2:I===3}),A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex items-center justify-center`,"svelte-1jkqewp")),M(g,b),oe()}var fl=q("<div></div>"),hl=q('<div><div class="relative flex h-1/5 w-full -translate-x-[10%] items-center justify-between svelte-19nczvc"></div></div>');function gl(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=hl(),f=fe(b);nt(f,20,()=>[0,-.2,-.4,-.6,-.8],rt,(I,y)=>{var S=fl();K(N=>{R(S,1,`dot absolute h-full w-1/5 rounded-full${N??""}`,"svelte-19nczvc"),F(S,`background-color: ${d()[0]??""};animation-delay: ${2.5/m()*y}s;animation-duration: ${2.5/m()}s`)},[A]),M(I,S)}),Q(f),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex flex-col justify-center`,"svelte-19nczvc")),M(g,b),oe()}var xl=q("<div></div>"),wl=q('<div><div class="relative flex items-center justify-between svelte-frvugr"></div></div>');function ml(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=wl(),f=fe(b);nt(f,20,()=>[-.375,-.25,-.125],rt,(I,y)=>{var S=xl();K(N=>{R(S,1,`dot h-2 w-2 rounded-full${N??""}`,"svelte-frvugr"),F(S,`background-color: ${d()[0]??""};animation-duration: ${1.3/m()}s;animation-delay: ${1.3/m()*y}s`)},[A]),M(I,S)}),Q(f),Q(b),K(()=>R(b,1,`${h()??""} m-auto flex flex-col justify-center`,"svelte-frvugr")),M(g,b),oe()}var bl=q('<div class="dot absolute left-0 flex h-full w-full flex-col items-center svelte-1f4socq"><div></div></div>'),vl=q("<div></div>");function Cl(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=vl();nt(b,20,()=>[1,.9,.6,.4],rt,(f,I,y)=>{var S=bl(),N=fe(S);Q(S),K(X=>{F(S,`animation-duration: ${1.6/m()}s;animation-delay: ${1.6/m()*-(.4-y*.09)}s;`),R(N,1,`h-1/4 w-1/4 rounded-full${X??""}`,"svelte-1f4socq"),F(N,`background-color: ${d()[0]??""};opacity: ${I??""};transform: scale(${1-.1*y});`)},[A]),M(f,S)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto flex -rotate-90 items-center`,"svelte-1f4socq")),M(g,b),oe()}var Al=q("<div></div>"),El=q("<div></div>");function pl(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=El();nt(b,20,()=>[0,-2],rt,(f,I)=>{var y=Al();K(S=>{R(y,1,`dot absolute left-0 top-0 h-full w-full rounded-full${S??""}`,"svelte-1aoytyd"),F(y,`background-color: ${d()[0]??""};animation-duration: ${2/m()}s;animation-delay: ${2/m()/I}s;`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto`,"svelte-1aoytyd")),M(g,b),oe()}var yl=q("<div></div>"),_l=q("<div></div>");function Il(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=_l();nt(b,20,()=>[0,-2],rt,(f,I)=>{var y=yl();K(S=>{R(y,1,`dot absolute left-0 top-0 h-full w-full rounded-full${S??""}`,"svelte-1lgjbwz"),F(y,`background-color: ${d()[0]??""};animation-duration: ${2/m()}s;animation-delay: ${2/m()/I}s;`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto`,"svelte-1lgjbwz")),M(g,b),oe()}var Tl=q("<div></div>"),Sl=q("<div></div>");function kl(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=Sl();nt(b,20,()=>[0,-.25,-.5,-.75],rt,(f,I)=>{var y=Tl();K(S=>{R(y,1,`dot absolute left-0 top-0 h-full w-full rounded-full${S??""}`,"svelte-z28xzg"),F(y,`background-color: ${d()[0]??""};animation-duration: ${2/m()}s;animation-delay: ${2/m()*I}s`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto`,"svelte-z28xzg")),M(g,b),oe()}var Nl=q("<div></div>"),Ol=q("<div></div>");function Rl(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=Ol();nt(b,20,()=>[[-.375,1],[-.375,.8],[-.3,.6],[-.225,.4],[-.15,.2],[-.075,.1]],rt,(f,I)=>{var y=Nl();K(S=>{R(y,1,`line absolute left-0 h-1 w-full rounded-full${S??""}`,"svelte-twiz59"),F(y,`background-color: ${d()[0]??""};top: calc(50% - 2px);animation-duration: ${.9/m()}s;animation-delay: ${.9/m()*I[0]}s;opacity: ${I[1]??""};`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto`,"svelte-twiz59")),M(g,b),oe()}var Dl=q("<div></div>"),Ml=q("<div></div>");function Bl(g,o){ae(o,!0);let c=p(o,"theme",3,!1),x=p(o,"inverse",3,!1),h=p(o,"size",3,"w-8 h-8"),d=p(o,"customColor",19,()=>[]),m=p(o,"speed",11,1);const A=()=>x()?c()?" bg-dark dark:bg-primary":" bg-white dark:bg-black":c()?" bg-primary dark:bg-dark":" bg-black dark:bg-white";var b=Ml();nt(b,20,()=>[[-.375,1],[-.375,.8],[-.3,.6],[-.225,.4],[-.15,.2],[-.075,.1]],rt,(f,I)=>{var y=Dl();K(S=>{R(y,1,`line absolute left-0 h-1 w-full rounded-full${S??""}`,"svelte-14lwwb2"),F(y,`background-color: ${d()[0]??""};top: 50%;animation-duration: ${.9/m()}s;animation-delay: ${.9/m()*I[0]}s;opacity: ${I[1]??""};`)},[A]),M(f,y)}),Q(b),K(()=>R(b,1,`${h()??""} relative m-auto`,"svelte-14lwwb2")),M(g,b),oe()}var Ll=q("<div><div></div></div>");function Pl(g,o){ae(o,!0);let c=p(o,"inverse",3,!1),x=p(o,"size",3,"w-8 h-8"),h=p(o,"customColor",19,()=>[]),d=p(o,"speed",11,1);const m=()=>c()?" border-white/10 dark:border-black/10":" border-black/10 dark:border-white/10",A=()=>c()?" border-transparent dark:border-transparent border-l-dark dark:border-l-primary":" border-transparent dark:border-transparent border-l-primary dark:border-l-dark";var b=Ll(),f=fe(b);Q(b),K((I,y)=>{R(b,1,`${x()??""} m-auto rounded-full border-2 p-0.5 animate-spin${I??""}`),F(b,`border-color:${h()[0]??""};animation-duration: ${1/d()}s;-webkit-animation-duration: ${1/d()}s;`),R(f,1,`h-full w-full border-2 rounded-full${y??""}`),F(f,`border-color:${(h()[1]&&"transparent")??""};border-left-color:${h()[1]??""}`)},[m,A]),M(g,b),oe()}var Fl=q("<div><div></div></div>");function Ul(g,o){ae(o,!0);let c=p(o,"inverse",3,!1),x=p(o,"size",3,"w-8 h-8"),h=p(o,"customColor",19,()=>[]),d=p(o,"speed",11,1);const m=()=>c()?" border-white/10 dark:border-black/10":" border-black/10 dark:border-white/10",A=()=>c()?" border-transparent dark:border-transparent border-l-dark dark:border-l-primary":" border-transparent dark:border-transparent border-l-primary dark:border-l-dark";var b=Fl(),f=fe(b);Q(b),K((I,y)=>{R(b,1,`${x()??""} m-auto rounded-full border-2 p-0.5 animate-spin${I??""}`),F(b,`border-color:${(h()[1]&&"transparent")??""};border-left-color:${h()[1]??""};animation-duration: ${1/d()}s;-webkit-animation-duration: ${1/d()}s;`),R(f,1,`h-full w-full border-2 rounded-full${y??""}`),F(f,`border-color:${h()[0]??""};`)},[A,m]),M(g,b),oe()}var zl=q("<div></div>");function Vl(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1),d=p(o,"inverse",3,!1);const m=()=>d()?"border-white/5 dark:border-black/5 border-l-dark dark:border-l-primary border-r-dark dark:border-r-primary":"border-black/5 dark:border-white/5 border-l-primary dark:border-l-dark border-r-primary dark:border-r-dark";var A=zl();K(b=>{R(A,1,`${c()??""} loading m-auto rounded-full border-4 ${b??""}`,"svelte-1m0k15d"),F(A,`border-color: ${(x()[0]||(d(),""))??""} ${(x()[1]||(d(),""))??""} ${(x()[0]||(d(),""))??""} ${(x()[1]||(d(),""))??""};animation-duration: ${2/h()}s;-webkit-animation-duration: ${2/h()}s;`)},[m]),M(g,A),oe()}var Gl=q("<div><div></div> <div></div> <div></div> <div></div></div>");function Hl(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1),d=p(o,"inverse",3,!1);const m=()=>d()?"bg-dark dark:bg-primary":"bg-primary dark:bg-dark",A=()=>d()?"bg-white/50 dark:bg-black/50":"bg-black/50 dark:bg-white/50";var b=Gl(),f=fe(b),I=ge(f,2),y=ge(I,2),S=ge(y,2);Q(b),K((N,X,j,H)=>{R(b,1,`${c()??""} relative m-auto rotate-45`,"svelte-1lc4cbw"),R(f,1,`shape1 absolute left-0 top-0 h-1/3 w-1/3 ${N??""}`,"svelte-1lc4cbw"),F(f,`background: ${x()[0]??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`),R(I,1,`shape2 absolute right-0 top-0 h-1/3 w-1/3 ${X??""}`,"svelte-1lc4cbw"),F(I,`background: ${x()[1]??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`),R(y,1,`shape3 absolute bottom-0 right-0 h-1/3 w-1/3 ${j??""}`,"svelte-1lc4cbw"),F(y,`background: ${x()[0]??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`),R(S,1,`shape4 absolute bottom-0 left-0 h-1/3 w-1/3 ${H??""}`,"svelte-1lc4cbw"),F(S,`background: ${x()[1]??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`)},[m,A,m,A]),M(g,b),oe()}var Wl=q("<div><div></div> <div></div> <div></div> <div></div></div>");function Xl(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1),d=p(o,"inverse",3,!1);const m=()=>d()?"bg-dark dark:bg-primary":"bg-primary dark:bg-dark",A=()=>d()?"bg-white/50 dark:bg-black/50":"bg-black/50 dark:bg-white/50";var b=Wl(),f=fe(b),I=ge(f,2),y=ge(I,2),S=ge(y,2);Q(b),K((N,X,j,H)=>{R(b,1,`${c()??""} loading relative m-auto`,"svelte-1ck9zaj"),F(b,`animation-duration: ${1.6/h()}s;-webkit-animation-duration: ${1.6/h()}s;`),R(f,1,`shape1 absolute h-1/3 w-1/3 rounded-full ${N??""}`,"svelte-1ck9zaj"),F(f,`background: ${x()[0]??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`),R(I,1,`shape2 absolute h-1/3 w-1/3 rounded-full ${X??""}`,"svelte-1ck9zaj"),F(I,`background: ${x()[1]??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`),R(y,1,`shape3 absolute h-1/3 w-1/3 rounded-full ${j??""}`,"svelte-1ck9zaj"),F(y,`background: ${x()[0]??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`),R(S,1,`shape4 absolute h-1/3 w-1/3 rounded-full ${H??""}`,"svelte-1ck9zaj"),F(S,`background: ${x()[1]??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`)},[m,A,m,A]),M(g,b),oe()}var Yl=q("<div><div></div> <div></div> <div></div> <div></div></div>");function jl(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1),d=p(o,"inverse",3,!1);const m=()=>d()?"bg-dark dark:bg-primary":"bg-primary dark:bg-dark",A=()=>d()?"bg-white/50 dark:bg-black/50":"bg-black/50 dark:bg-white/50";var b=Yl(),f=fe(b),I=ge(f,2),y=ge(I,2),S=ge(y,2);Q(b),K((N,X,j,H)=>{R(b,1,`${c()??""} loading relative m-auto`,"svelte-1hx3nye"),F(b,`animation-duration: ${1.2/h()}s;-webkit-animation-duration: ${1.2/h()}s;`),R(f,1,`shape1 absolute h-1/2 w-1/2 rounded-tl-full ${N??""}`,"svelte-1hx3nye"),F(f,`background: ${x()[0]??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`),R(I,1,`shape2 absolute h-1/2 w-1/2 rounded-tr-full ${X??""}`,"svelte-1hx3nye"),F(I,`background: ${x()[1]??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`),R(y,1,`shape3 absolute h-1/2 w-1/2 rounded-br-full ${j??""}`,"svelte-1hx3nye"),F(y,`background: ${x()[0]??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`),R(S,1,`shape4 absolute h-1/2 w-1/2 rounded-bl-full ${H??""}`,"svelte-1hx3nye"),F(S,`background: ${x()[1]??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`)},[m,A,m,A]),M(g,b),oe()}var Zl=q("<div></div>");function Kl(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1);var d=Zl();K(()=>{R(d,1,`${c()??""} loading m-auto rounded-full border-4`,"svelte-kh3qux"),F(d,`border-color: ${(x()[0]||"#DA1414")??""} ${(x()[1]||"#11BB8D")??""} ${(x()[2]||"#7356BF")??""} ${(x()[3]||"#FFC043")??""};animation-duration: ${2/h()}s;-webkit-animation-duration: ${2/h()}s;`)}),M(g,d),oe()}var ql=q('<div><div class="shape1 absolute left-0 top-0 h-1/3 w-1/3 svelte-15ewgeu"></div> <div class="shape2 absolute right-0 top-0 h-1/3 w-1/3 svelte-15ewgeu"></div> <div class="shape3 absolute bottom-0 right-0 h-1/3 w-1/3 svelte-15ewgeu"></div> <div class="shape4 absolute bottom-0 left-0 h-1/3 w-1/3 svelte-15ewgeu"></div></div>');function Ql(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1);var d=ql(),m=fe(d),A=ge(m,2),b=ge(A,2),f=ge(b,2);Q(d),K(()=>{R(d,1,`${c()??""} relative m-auto rotate-45`,"svelte-15ewgeu"),F(m,`background: ${(x()[0]||"#DA1414")??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`),F(A,`background: ${(x()[1]||"#11BB8D")??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`),F(b,`background: ${(x()[2]||"#7356BF")??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`),F(f,`background: ${(x()[3]||"#FFC043")??""};animation-duration: ${.5/h()}s;-webkit-animation-duration: ${.5/h()}s;`)}),M(g,d),oe()}var Jl=q('<div><div class="shape1 absolute h-1/3 w-1/3 rounded-full svelte-1rb3ntr"></div> <div class="shape2 absolute h-1/3 w-1/3 rounded-full svelte-1rb3ntr"></div> <div class="shape3 absolute h-1/3 w-1/3 rounded-full svelte-1rb3ntr"></div> <div class="shape4 absolute h-1/3 w-1/3 rounded-full svelte-1rb3ntr"></div></div>');function $l(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1);var d=Jl(),m=fe(d),A=ge(m,2),b=ge(A,2),f=ge(b,2);Q(d),K(()=>{R(d,1,`${c()??""} loading relative m-auto`,"svelte-1rb3ntr"),F(d,`animation-duration: ${1.6/h()}s;-webkit-animation-duration: ${1.6/h()}s;`),F(m,`background: ${(x()[0]||"#DA1414")??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`),F(A,`background: ${(x()[1]||"#11BB8D")??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`),F(b,`background: ${(x()[2]||"#7356BF")??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`),F(f,`background: ${(x()[3]||"#FFC043")??""};animation-duration: ${.8/h()}s;-webkit-animation-duration: ${.8/h()}s;`)}),M(g,d),oe()}var ec=q('<div><div class="shape1 absolute h-1/2 w-1/2 rounded-tl-full svelte-f9vkbw"></div> <div class="shape2 absolute h-1/2 w-1/2 rounded-tr-full svelte-f9vkbw"></div> <div class="shape3 absolute h-1/2 w-1/2 rounded-br-full svelte-f9vkbw"></div> <div class="shape4 absolute h-1/2 w-1/2 rounded-bl-full svelte-f9vkbw"></div></div>');function tc(g,o){ae(o,!0);let c=p(o,"size",3,"w-8 h-8"),x=p(o,"customColor",19,()=>[]),h=p(o,"speed",11,1);var d=ec(),m=fe(d),A=ge(m,2),b=ge(A,2),f=ge(b,2);Q(d),K(()=>{R(d,1,`${c()??""} loading relative m-auto`,"svelte-f9vkbw"),F(d,`animation-duration: ${1.2/h()}s;-webkit-animation-duration: ${1.2/h()}s;`),F(m,`background: ${(x()[0]||"#DA1414")??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`),F(A,`background: ${(x()[1]||"#11BB8D")??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`),F(b,`background: ${(x()[2]||"#7356BF")??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`),F(f,`background: ${(x()[3]||"#FFC043")??""};animation-duration: ${.6/h()}s;-webkit-animation-duration: ${.6/h()}s;`)}),M(g,d),oe()}var rc=q("<div><!></div>");function nc(g,o){ae(o,!0);let c=p(o,"type",3,"1_0"),x=p(o,"height",3,"8"),h=p(o,"width",3,"8"),d=p(o,"theme",3,!1),m=p(o,"inverse",3,!1),A=p(o,"customColor",19,()=>[]),b=p(o,"lazyAnimation",3,!0),f=p(o,"speed",15,1),I=Ts(null);const y={2:"h-2",4:"h-4",6:"h-6",8:"h-8",12:"h-12",16:"h-16",20:"h-20",28:"h-28",36:"h-36",48:"h-48",56:"h-56",64:"h-64",72:"h-72",80:"h-80",96:"h-96",full:"h-full"},S={2:"w-2",4:"w-4",6:"w-6",8:"w-8",12:"w-12",16:"w-16",20:"w-20",28:"w-28",36:"w-36",48:"w-48",56:"w-56",64:"w-64",72:"w-72",80:"w-80",96:"w-96",full:"w-full"},N=(te,Ce)=>y[te]+" "+S[Ce],X=te=>{let Ce=[];if(te?.children?.length)for(let he=0;he<te.children.length;he++)Ce.push(te.children[he]),Ce=Ce.concat(X(te.children[he]));return Ce},j=new IntersectionObserver(te=>{te.forEach(Ce=>{if(!ee(I))return;const he=X(ee(I));Ce.isIntersecting?he.length>0&&he.forEach(G=>{G.style.animationPlayState="running"}):he.length>0&&he.forEach(G=>{G.style.animationPlayState="paused"})})});uo(()=>{b()&&ee(I)&&j.observe(ee(I))});var H=rc(),Ie=fe(H);{var me=te=>{{let Ce=ue(()=>N(x(),h()));ea(te,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Ce)},get customColor(){return A()},get speed(){return f()},set speed(he){f(he)}})}},$=te=>{var Ce=le(),he=ce(Ce);{var G=z=>{{let Be=ue(()=>N(x(),h()));g1(z,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Be)},get customColor(){return A()},get speed(){return f()},set speed(Se){f(Se)}})}},xe=z=>{var Be=le(),Se=ce(Be);{var ie=Ue=>{{let U=ue(()=>N(x(),h()));w1(Ue,{get theme(){return d()},get inverse(){return m()},get size(){return ee(U)},get customColor(){return A()},get speed(){return f()},set speed(We){f(We)}})}},_e=Ue=>{var U=le(),We=ce(U);{var Te=Et=>{{let Bt=ue(()=>N(x(),h()));b1(Et,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Bt)},get customColor(){return A()},get speed(){return f()},set speed(Ar){f(Ar)}})}},Cr=Et=>{var Bt=le(),Ar=ce(Bt);{var mt=Le=>{{let Br=ue(()=>N(x(),h()));C1(Le,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Br)},get customColor(){return A()},get speed(){return f()},set speed(Ae){f(Ae)}})}},er=Le=>{var Br=le(),Ae=ce(Br);{var Yn=Zt=>{{let ir=ue(()=>N(x(),h()));E1(Zt,{get theme(){return d()},get inverse(){return m()},get size(){return ee(ir)},get customColor(){return A()},get speed(){return f()},set speed(pt){f(pt)}})}},wt=Zt=>{var ir=le(),pt=ce(ir);{var mn=Xt=>{{let Lt=ue(()=>N(x(),h()));y1(Xt,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Lt)},get customColor(){return A()},get speed(){return f()},set speed(Er){f(Er)}})}},ze=Xt=>{var Lt=le(),Er=ce(Lt);{var bt=Ne=>{{let pr=ue(()=>N(x(),h()));I1(Ne,{get theme(){return d()},get inverse(){return m()},get size(){return ee(pr)},get customColor(){return A()},get speed(){return f()},set speed(de){f(de)}})}},Ke=Ne=>{var pr=le(),de=ce(pr);{var bn=Nt=>{{let Lr=ue(()=>N(x(),h()));S1(Nt,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Lr)},get customColor(){return A()},get speed(){return f()},set speed(Pt){f(Pt)}})}},xi=Nt=>{var Lr=le(),Pt=ce(Lr);{var wi=lt=>{{let rn=ue(()=>N(x(),h()));O1(lt,{get theme(){return d()},get inverse(){return m()},get size(){return ee(rn)},get customColor(){return A()},get speed(){return f()},set speed(Pr){f(Pr)}})}},sr=lt=>{var rn=le(),Pr=ce(rn);{var Hi=J=>{{let it=ue(()=>N(x(),h()));M1(J,{get theme(){return d()},get inverse(){return m()},get size(){return ee(it)},get customColor(){return A()},get speed(){return f()},set speed(Ge){f(Ge)}})}},ct=J=>{var it=le(),Ge=ce(it);{var st=ar=>{{let sn=ue(()=>N(x(),h()));P1(ar,{get theme(){return d()},get inverse(){return m()},get size(){return ee(sn)},get customColor(){return A()},get speed(){return f()},set speed(Pe){f(Pe)}})}},nn=ar=>{var sn=le(),Pe=ce(sn);{var yr=_r=>{{let Ot=ue(()=>N(x(),h()));U1(_r,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Ot)},get customColor(){return A()},get speed(){return f()},set speed(an){f(an)}})}},mi=_r=>{var Ot=le(),an=ce(Ot);{var yt=tr=>{{let Ft=ue(()=>N(x(),h()));V1(tr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Ft)},get customColor(){return A()},get speed(){return f()},set speed(jn){f(jn)}})}},Fr=tr=>{var Ft=le(),jn=ce(Ft);{var Ir=ht=>{{let Kt=ue(()=>N(x(),h()));H1(ht,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Kt)},get customColor(){return A()},get speed(){return f()},set speed(Rt){f(Rt)}})}},Zn=ht=>{var Kt=le(),Rt=ce(Kt);{var ne=or=>{{let vt=ue(()=>N(x(),h()));X1(or,{get theme(){return d()},get inverse(){return m()},get size(){return ee(vt)},get customColor(){return A()},get speed(){return f()},set speed(lr){f(lr)}})}},Ur=or=>{var vt=le(),lr=ce(vt);{var vn=Tt=>{{let An=ue(()=>N(x(),h()));Z1(Tt,{get theme(){return d()},get inverse(){return m()},get size(){return ee(An)},get customColor(){return A()},get speed(){return f()},set speed(Kn){f(Kn)}})}},Cn=Tt=>{var An=le(),Kn=ce(An);{var qt=He=>{{let on=ue(()=>N(x(),h()));Q1(He,{get theme(){return d()},get inverse(){return m()},get size(){return ee(on)},get customColor(){return A()},get speed(){return f()},set speed(Qt){f(Qt)}})}},St=He=>{var on=le(),Qt=ce(on);{var qn=zr=>{{let qe=ue(()=>N(x(),h()));$1(zr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(qe)},get customColor(){return A()},get speed(){return f()},set speed(cr){f(cr)}})}},V=zr=>{var qe=le(),cr=ce(qe);{var Wi=Re=>{{let Oe=ue(()=>N(x(),h()));t0(Re,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Oe)},get customColor(){return A()},get speed(){return f()},set speed(ln){f(ln)}})}},Ve=Re=>{var Oe=le(),ln=ce(Oe);{var Qn=Je=>{{let Yt=ue(()=>N(x(),h()));n0(Je,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Yt)},get customColor(){return A()},get speed(){return f()},set speed($n){f($n)}})}},Jn=Je=>{var Yt=le(),$n=ce(Yt);{var ot=Vr=>{{let rr=ue(()=>N(x(),h()));s0(Vr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(rr)},get customColor(){return A()},get speed(){return f()},set speed(Xe){f(Xe)}})}},ur=Vr=>{var rr=le(),Xe=ce(rr);{var _t=_=>{{let we=ue(()=>N(x(),h()));o0(_,{get theme(){return d()},get inverse(){return m()},get size(){return ee(we)},get customColor(){return A()},get speed(){return f()},set speed(ut){f(ut)}})}},B=_=>{var we=le(),ut=ce(we);{var Vt=dr=>{{let kt=ue(()=>N(x(),h()));u0(dr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(kt)},get customColor(){return A()},get speed(){return f()},set speed(ve){f(ve)}})}},Xi=dr=>{var kt=le(),ve=ce(kt);{var $e=Gr=>{{let Hr=ue(()=>N(x(),h()));f0(Gr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Hr)},get customColor(){return A()},get speed(){return f()},set speed(Wr){f(Wr)}})}},bi=Gr=>{var Hr=le(),Wr=ce(Hr);{var ei=et=>{{let fr=ue(()=>N(x(),h()));g0(et,{get theme(){return d()},get inverse(){return m()},get size(){return ee(fr)},get customColor(){return A()},get speed(){return f()},set speed(Jt){f(Jt)}})}},Yi=et=>{var fr=le(),Jt=ce(fr);{var Ee=ye=>{{let dt=ue(()=>N(x(),h()));w0(ye,{get theme(){return d()},get inverse(){return m()},get size(){return ee(dt)},get customColor(){return A()},get speed(){return f()},set speed(ti){f(ti)}})}},ji=ye=>{var dt=le(),ti=ce(dt);{var ri=Gt=>{{let En=ue(()=>N(x(),h()));v0(Gt,{get theme(){return d()},get inverse(){return m()},get size(){return ee(En)},get customColor(){return A()},get speed(){return f()},set speed(Tr){f(Tr)}})}},vi=Gt=>{var En=le(),Tr=ce(En);{var cn=Sr=>{{let hr=ue(()=>N(x(),h()));E0(Sr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(hr)},get customColor(){return A()},get speed(){return f()},set speed(kr){f(kr)}})}},un=Sr=>{var hr=le(),kr=ce(hr);{var Dt=Nr=>{{let dn=ue(()=>N(x(),h()));_0(Nr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(dn)},get customColor(){return A()},get speed(){return f()},set speed(ni){f(ni)}})}},Ci=Nr=>{var dn=le(),ni=ce(dn);{var Zi=Fe=>{{let fn=ue(()=>N(x(),h()));S0(Fe,{get theme(){return d()},get inverse(){return m()},get size(){return ee(fn)},get customColor(){return A()},get speed(){return f()},set speed(Xr){f(Xr)}})}},Ki=Fe=>{var fn=le(),Xr=ce(fn);{var gr=L=>{{let ke=ue(()=>N(x(),h()));O0(L,{get theme(){return d()},get inverse(){return m()},get size(){return ee(ke)},get customColor(){return A()},get speed(){return f()},set speed(gt){f(gt)}})}},qi=L=>{var ke=le(),gt=ce(ke);{var pn=Yr=>{{let yn=ue(()=>N(x(),h()));D0(Yr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(yn)},get customColor(){return A()},get speed(){return f()},set speed(ii){f(ii)}})}},Ai=Yr=>{var yn=le(),ii=ce(yn);{var si=xr=>{{let Qe=ue(()=>N(x(),h()));B0(xr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Qe)},get customColor(){return A()},get speed(){return f()},set speed(jr){f(jr)}})}},xt=xr=>{var Qe=le(),jr=ce(Qe);{var Or=be=>{{let _n=ue(()=>N(x(),h()));P0(be,{get theme(){return d()},get inverse(){return m()},get size(){return ee(_n)},get customColor(){return A()},get speed(){return f()},set speed(je){f(je)}})}},Ye=be=>{var _n=le(),je=ce(_n);{var Rr=Kr=>{{let Ut=ue(()=>N(x(),h()));U0(Kr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Ut)},get customColor(){return A()},get speed(){return f()},set speed(hn){f(hn)}})}},Zr=Kr=>{var Ut=le(),hn=ce(Ut);{var Ei=Dr=>{{let gn=ue(()=>N(x(),h()));V0(Dr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(gn)},get customColor(){return A()},get speed(){return f()},set speed(oi){f(oi)}})}},ai=Dr=>{var gn=le(),oi=ce(gn);{var qr=Qr=>{{let wr=ue(()=>N(x(),h()));H0(Qr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(wr)},get customColor(){return A()},get speed(){return f()},set speed(ci){f(ci)}})}},li=Qr=>{var wr=le(),ci=ce(wr);{var mr=Ct=>{{let xn=ue(()=>N(x(),h()));X0(Ct,{get theme(){return d()},get inverse(){return m()},get size(){return ee(xn)},get customColor(){return A()},get speed(){return f()},set speed(Ht){f(Ht)}})}},In=Ct=>{var xn=le(),Ht=ce(xn);{var Qi=Jr=>{{let wn=ue(()=>N(x(),h()));Z0(Jr,{get theme(){return d()},get inverse(){return m()},get size(){return ee(wn)},get customColor(){return A()},get speed(){return f()},set speed(Wt){f(Wt)}})}},ui=Jr=>{var wn=le(),Wt=ce(wn);{var Ji=$t=>{{let De=ue(()=>N(x(),h()));Q0($t,{get theme(){return d()},get inverse(){return m()},get size(){return ee(De)},get customColor(){return A()},get speed(){return f()},set speed($r){f($r)}})}},di=$t=>{var De=le(),$r=ce(De);{var v=t=>{{let r=ue(()=>N(x(),h()));$0(t,{get theme(){return d()},get inverse(){return m()},get size(){return ee(r)},get customColor(){return A()},get speed(){return f()},set speed(n){f(n)}})}},e=t=>{var r=le(),n=ce(r);{var i=a=>{{let l=ue(()=>N(x(),h()));rl(a,{get theme(){return d()},get inverse(){return m()},get size(){return ee(l)},get customColor(){return A()},get speed(){return f()},set speed(u){f(u)}})}},s=a=>{var l=le(),u=ce(l);{var w=E=>{{let T=ue(()=>N(x(),h()));sl(E,{get theme(){return d()},get inverse(){return m()},get size(){return ee(T)},get customColor(){return A()},get speed(){return f()},set speed(k){f(k)}})}},C=E=>{var T=le(),k=ce(T);{var O=P=>{{let Y=ue(()=>N(x(),h()));ll(P,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Y)},get customColor(){return A()},get speed(){return f()},set speed(Z){f(Z)}})}},D=P=>{var Y=le(),Z=ce(Y);{var W=pe=>{{let At=ue(()=>N(x(),h()));dl(pe,{get theme(){return d()},get inverse(){return m()},get size(){return ee(At)},get customColor(){return A()},get speed(){return f()},set speed(zt){f(zt)}})}},Me=pe=>{var At=le(),zt=ce(At);{var Mt=at=>{{let It=ue(()=>N(x(),h()));gl(at,{get theme(){return d()},get inverse(){return m()},get size(){return ee(It)},get customColor(){return A()},get speed(){return f()},set speed(br){f(br)}})}},Ze=at=>{var It=le(),br=ce(It);{var en=tn=>{{let pi=ue(()=>N(x(),h()));ml(tn,{get theme(){return d()},get inverse(){return m()},get size(){return ee(pi)},get customColor(){return A()},get speed(){return f()},set speed(es){f(es)}})}},$i=tn=>{var pi=le(),es=ce(pi);{var da=Tn=>{{let yi=ue(()=>N(x(),h()));Cl(Tn,{get theme(){return d()},get inverse(){return m()},get size(){return ee(yi)},get customColor(){return A()},get speed(){return f()},set speed(ts){f(ts)}})}},fa=Tn=>{var yi=le(),ts=ce(yi);{var ha=Sn=>{{let _i=ue(()=>N(x(),h()));pl(Sn,{get theme(){return d()},get inverse(){return m()},get size(){return ee(_i)},get customColor(){return A()},get speed(){return f()},set speed(rs){f(rs)}})}},ga=Sn=>{var _i=le(),rs=ce(_i);{var xa=kn=>{{let Ii=ue(()=>N(x(),h()));Il(kn,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Ii)},get customColor(){return A()},get speed(){return f()},set speed(ns){f(ns)}})}},wa=kn=>{var Ii=le(),ns=ce(Ii);{var ma=Nn=>{{let Ti=ue(()=>N(x(),h()));kl(Nn,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Ti)},get customColor(){return A()},get speed(){return f()},set speed(is){f(is)}})}},ba=Nn=>{var Ti=le(),is=ce(Ti);{var va=On=>{{let Si=ue(()=>N(x(),h()));Rl(On,{get theme(){return d()},get inverse(){return m()},get size(){return ee(Si)},get customColor(){return A()},get speed(){return f()},set speed(ss){f(ss)}})}},Ca=On=>{var Si=le(),ss=ce(Si);{var Aa=Rn=>{{let ki=ue(()=>N(x(),h()));Bl(Rn,{get theme(){return d()},get inverse(){return m()},get size(){return ee(ki)},get customColor(){return A()},get speed(){return f()},set speed(as){f(as)}})}},Ea=Rn=>{var ki=le(),as=ce(ki);{var pa=Dn=>{{let Ni=ue(()=>N(x(),h()));Pl(Dn,{get inverse(){return m()},get size(){return ee(Ni)},get customColor(){return A()},get speed(){return f()},set speed(os){f(os)}})}},ya=Dn=>{var Ni=le(),os=ce(Ni);{var _a=Mn=>{{let Oi=ue(()=>N(x(),h()));Ul(Mn,{get inverse(){return m()},get size(){return ee(Oi)},get customColor(){return A()},get speed(){return f()},set speed(ls){f(ls)}})}},Ia=Mn=>{var Oi=le(),ls=ce(Oi);{var Ta=Bn=>{{let Ri=ue(()=>N(x(),h()));Vl(Bn,{get inverse(){return m()},get size(){return ee(Ri)},get customColor(){return A()},get speed(){return f()},set speed(cs){f(cs)}})}},Sa=Bn=>{var Ri=le(),cs=ce(Ri);{var ka=Ln=>{{let Di=ue(()=>N(x(),h()));Hl(Ln,{get inverse(){return m()},get size(){return ee(Di)},get customColor(){return A()},get speed(){return f()},set speed(us){f(us)}})}},Na=Ln=>{var Di=le(),us=ce(Di);{var Oa=Pn=>{{let Mi=ue(()=>N(x(),h()));Xl(Pn,{get inverse(){return m()},get size(){return ee(Mi)},get customColor(){return A()},get speed(){return f()},set speed(ds){f(ds)}})}},Ra=Pn=>{var Mi=le(),ds=ce(Mi);{var Da=Fn=>{{let Bi=ue(()=>N(x(),h()));jl(Fn,{get inverse(){return m()},get size(){return ee(Bi)},get customColor(){return A()},get speed(){return f()},set speed(fs){f(fs)}})}},Ma=Fn=>{var Bi=le(),fs=ce(Bi);{var Ba=Un=>{{let Li=ue(()=>N(x(),h()));Kl(Un,{get size(){return ee(Li)},get customColor(){return A()},get speed(){return f()},set speed(hs){f(hs)}})}},La=Un=>{var Li=le(),hs=ce(Li);{var Pa=zn=>{{let Pi=ue(()=>N(x(),h()));Ql(zn,{get size(){return ee(Pi)},get customColor(){return A()},get speed(){return f()},set speed(gs){f(gs)}})}},Fa=zn=>{var Pi=le(),gs=ce(Pi);{var Ua=Vn=>{{let Fi=ue(()=>N(x(),h()));$l(Vn,{get size(){return ee(Fi)},get customColor(){return A()},get speed(){return f()},set speed(xs){f(xs)}})}},za=Vn=>{var Fi=le(),xs=ce(Fi);{var Va=Gn=>{{let ws=ue(()=>N(x(),h()));tc(Gn,{get size(){return ee(ws)},get customColor(){return A()},get speed(){return f()},set speed(ms){f(ms)}})}},Ga=Gn=>{{let ws=ue(()=>N(x(),h()));ea(Gn,{get theme(){return d()},get inverse(){return m()},get size(){return ee(ws)},get customColor(){return A()},get speed(){return f()},set speed(ms){f(ms)}})}};re(xs,Gn=>{c()==="4_3"?Gn(Va):Gn(Ga,!1)},!0)}M(Vn,Fi)};re(gs,Vn=>{c()==="4_2"?Vn(Ua):Vn(za,!1)},!0)}M(zn,Pi)};re(hs,zn=>{c()==="4_1"?zn(Pa):zn(Fa,!1)},!0)}M(Un,Li)};re(fs,Un=>{c()==="4_0"?Un(Ba):Un(La,!1)},!0)}M(Fn,Bi)};re(ds,Fn=>{c()==="2_5"?Fn(Da):Fn(Ma,!1)},!0)}M(Pn,Mi)};re(us,Pn=>{c()==="2_4"?Pn(Oa):Pn(Ra,!1)},!0)}M(Ln,Di)};re(cs,Ln=>{c()==="2_3"?Ln(ka):Ln(Na,!1)},!0)}M(Bn,Ri)};re(ls,Bn=>{c()==="2_2"?Bn(Ta):Bn(Sa,!1)},!0)}M(Mn,Oi)};re(os,Mn=>{c()==="2_1"?Mn(_a):Mn(Ia,!1)},!0)}M(Dn,Ni)};re(as,Dn=>{c()==="2_0"?Dn(pa):Dn(ya,!1)},!0)}M(Rn,ki)};re(ss,Rn=>{c()==="1_53"?Rn(Aa):Rn(Ea,!1)},!0)}M(On,Si)};re(is,On=>{c()==="1_52"?On(va):On(Ca,!1)},!0)}M(Nn,Ti)};re(ns,Nn=>{c()==="1_51"?Nn(ma):Nn(ba,!1)},!0)}M(kn,Ii)};re(rs,kn=>{c()==="1_50"?kn(xa):kn(wa,!1)},!0)}M(Sn,_i)};re(ts,Sn=>{c()==="1_49"?Sn(ha):Sn(ga,!1)},!0)}M(Tn,yi)};re(es,Tn=>{c()==="1_48"?Tn(da):Tn(fa,!1)},!0)}M(tn,pi)};re(br,tn=>{c()==="1_47"?tn(en):tn($i,!1)},!0)}M(at,It)};re(zt,at=>{c()==="1_46"?at(Mt):at(Ze,!1)},!0)}M(pe,At)};re(Z,pe=>{c()==="1_45"?pe(W):pe(Me,!1)},!0)}M(P,Y)};re(k,P=>{c()==="1_44"?P(O):P(D,!1)},!0)}M(E,T)};re(u,E=>{c()==="1_43"?E(w):E(C,!1)},!0)}M(a,l)};re(n,a=>{c()==="1_42"?a(i):a(s,!1)},!0)}M(t,r)};re($r,t=>{c()==="1_41"?t(v):t(e,!1)},!0)}M($t,De)};re(Wt,$t=>{c()==="1_40"?$t(Ji):$t(di,!1)},!0)}M(Jr,wn)};re(Ht,Jr=>{c()==="1_39"?Jr(Qi):Jr(ui,!1)},!0)}M(Ct,xn)};re(ci,Ct=>{c()==="1_38"?Ct(mr):Ct(In,!1)},!0)}M(Qr,wr)};re(oi,Qr=>{c()==="1_37"?Qr(qr):Qr(li,!1)},!0)}M(Dr,gn)};re(hn,Dr=>{c()==="1_36"?Dr(Ei):Dr(ai,!1)},!0)}M(Kr,Ut)};re(je,Kr=>{c()==="1_35"?Kr(Rr):Kr(Zr,!1)},!0)}M(be,_n)};re(jr,be=>{c()==="1_34"?be(Or):be(Ye,!1)},!0)}M(xr,Qe)};re(ii,xr=>{c()==="1_33"?xr(si):xr(xt,!1)},!0)}M(Yr,yn)};re(gt,Yr=>{c()==="1_32"?Yr(pn):Yr(Ai,!1)},!0)}M(L,ke)};re(Xr,L=>{c()==="1_31"?L(gr):L(qi,!1)},!0)}M(Fe,fn)};re(ni,Fe=>{c()==="1_30"?Fe(Zi):Fe(Ki,!1)},!0)}M(Nr,dn)};re(kr,Nr=>{c()==="1_29"?Nr(Dt):Nr(Ci,!1)},!0)}M(Sr,hr)};re(Tr,Sr=>{c()==="1_28"?Sr(cn):Sr(un,!1)},!0)}M(Gt,En)};re(ti,Gt=>{c()==="1_27"?Gt(ri):Gt(vi,!1)},!0)}M(ye,dt)};re(Jt,ye=>{c()==="1_26"?ye(Ee):ye(ji,!1)},!0)}M(et,fr)};re(Wr,et=>{c()==="1_25"?et(ei):et(Yi,!1)},!0)}M(Gr,Hr)};re(ve,Gr=>{c()==="1_24"?Gr($e):Gr(bi,!1)},!0)}M(dr,kt)};re(ut,dr=>{c()==="1_23"?dr(Vt):dr(Xi,!1)},!0)}M(_,we)};re(Xe,_=>{c()==="1_22"?_(_t):_(B,!1)},!0)}M(Vr,rr)};re($n,Vr=>{c()==="1_21"?Vr(ot):Vr(ur,!1)},!0)}M(Je,Yt)};re(ln,Je=>{c()==="1_20"?Je(Qn):Je(Jn,!1)},!0)}M(Re,Oe)};re(cr,Re=>{c()==="1_19"?Re(Wi):Re(Ve,!1)},!0)}M(zr,qe)};re(Qt,zr=>{c()==="1_18"?zr(qn):zr(V,!1)},!0)}M(He,on)};re(Kn,He=>{c()==="1_17"?He(qt):He(St,!1)},!0)}M(Tt,An)};re(lr,Tt=>{c()==="1_16"?Tt(vn):Tt(Cn,!1)},!0)}M(or,vt)};re(Rt,or=>{c()==="1_15"?or(ne):or(Ur,!1)},!0)}M(ht,Kt)};re(jn,ht=>{c()==="1_14"?ht(Ir):ht(Zn,!1)},!0)}M(tr,Ft)};re(an,tr=>{c()==="1_13"?tr(yt):tr(Fr,!1)},!0)}M(_r,Ot)};re(Pe,_r=>{c()==="1_12"?_r(yr):_r(mi,!1)},!0)}M(ar,sn)};re(Ge,ar=>{c()==="1_11"?ar(st):ar(nn,!1)},!0)}M(J,it)};re(Pr,J=>{c()==="1_10"?J(Hi):J(ct,!1)},!0)}M(lt,rn)};re(Pt,lt=>{c()==="1_9"?lt(wi):lt(sr,!1)},!0)}M(Nt,Lr)};re(de,Nt=>{c()==="1_8"?Nt(bn):Nt(xi,!1)},!0)}M(Ne,pr)};re(Er,Ne=>{c()==="1_7"?Ne(bt):Ne(Ke,!1)},!0)}M(Xt,Lt)};re(pt,Xt=>{c()==="1_6"?Xt(mn):Xt(ze,!1)},!0)}M(Zt,ir)};re(Ae,Zt=>{c()==="1_5"?Zt(Yn):Zt(wt,!1)},!0)}M(Le,Br)};re(Ar,Le=>{c()==="1_4"?Le(mt):Le(er,!1)},!0)}M(Et,Bt)};re(We,Et=>{c()==="1_3"?Et(Te):Et(Cr,!1)},!0)}M(Ue,U)};re(Se,Ue=>{c()==="1_2"?Ue(ie):Ue(_e,!1)},!0)}M(z,Be)};re(he,z=>{c()==="1_1"?z(G):z(xe,!1)},!0)}M(te,Ce)};re(Ie,te=>{c()==="1_0"?te(me):te($,!1)})}Q(H),bo(H,te=>Hn(I,te),()=>ee(I)),M(g,H),oe()}var ic=q("<span></span>"),sc=ho("<svg><use></use></svg>");function ta(g,o){ae(o,!0);let c=p(o,"type",3,"symbol"),x=p(o,"name",3,""),h=p(o,"size",3,24),d=p(o,"width",3,0),m=p(o,"height",3,0),A=p(o,"theme",3,!1),b=p(o,"opacity",3,1),f=p(o,"path",19,()=>fo("STDF-global-icon-svg-path")||"fonts/symbol.svg"),I=p(o,"y",3,0),y=p(o,"injClass",3,"");var S=le(),N=ce(S);{var X=H=>{var Ie=le(),me=ce(Ie);aa(me,()=>o.children),M(H,Ie)},j=H=>{var Ie=le(),me=ce(Ie);{var $=Ce=>{var he=ic();K(()=>{R(he,1,`${c()??""} ${x()??""} relative${A()?" text-primary dark:text-dark":""} ${y()??""}`),F(he,`opacity:${b()??""}; width:${(d()||h())??""}px; height:${(m()||h())??""}px; top:${I()??""}px;`)}),M(Ce,he)},te=Ce=>{var he=le(),G=ce(he);{var xe=Be=>{var Se=sc(),ie=fe(Se);Q(Se),K(()=>{Ss(Se,"width",d()||h()),Ss(Se,"height",m()||h()),R(Se,0,`relative${A()?" text-primary dark:text-dark":""} inline fill-current ${y()??""}`),F(Se,`fill-opacity:${b()??""}; top:${I()??""}px;`),vo(ie,"xlink:href",`/${f()??""}#${x()??""}`)}),M(Be,Se)},z=Be=>{};re(G,Be=>{c()==="symbol"?Be(xe):Be(z,!1)},!0)}M(Ce,he)};re(me,Ce=>{c()==="iconify"||c()==="iconify-color"?Ce($):Ce(te,!1)},!0)}M(H,Ie)};re(N,H=>{o.children?H(X):H(j,!1)})}M(g,S),oe()}var ac=q("<div><button><!> <!> <!> <!></button></div>");function _s(g,o){ae(o,!0);let c=p(o,"fill",3,"base"),x=p(o,"state",3,"theme"),h=p(o,"radius",3,"sm"),d=p(o,"size",3,"big"),m=p(o,"line",3,"solid"),A=p(o,"injClass",3,""),b=p(o,"love",3,!1),f=p(o,"heightOut",3,"2"),I=p(o,"heightIn",3,"3"),y=p(o,"group",3,!1),S=p(o,"disabled",3,!1),N=p(o,"customSize",3,!1),X=p(o,"customWidth",3,0),j=p(o,"customHeight",3,0),H=p(o,"icon",3,null),Ie=p(o,"iconPosition",3,"left"),me=p(o,"loading",3,null),$=p(o,"disabledLoading",3,!0),te=p(o,"type",3,"button"),Ce=ue(()=>S()||me()&&$());const he={theme:"bg-primary dark:bg-dark",success:"bg-success",warning:"bg-warning",error:"bg-error",info:"bg-info"},G={none:"rounded-none",sm:"rounded-sm",xl:"rounded-xl","2xl":"rounded-2xl",full:"rounded-full"},xe={base:"",line:"border border-black dark:border-white !text-black dark:!text-white",lineLight:"border border-black/20 dark:border-white/30 !text-black dark:!text-white",lineTheme:"border border-primary dark:border-dark !text-primary dark:!text-dark",text:"!text-black dark:!text-white",textTheme:"!text-primary dark:!text-dark",colorLight:"!bg-black/5 dark:!bg-white/10 !text-black dark:!text-white"},z={full:"w-full",big:"w-full",md:"w-1/2",sm:"w-1/4",auto:"w-auto"},Be={solid:"border-solid",dashed:"border-dashed",dotted:"border-dotted"},Se={0:"py-0",1:"py-1",2:"py-2",3:"py-3",4:"py-4"},ie={0:"py-0",1:"py-1",2:"py-2",3:"py-3",4:"py-4"},_e=(d()==="full"||d()==="big")&&!N(),Ue=x()==="theme"?"text-white dark:text-black":"text-white";var U=ac(),We=fe(U);We.__click=function(...Le){o.onclick?.apply(this,Le)};var Te=fe(We);{var Cr=Le=>{nc(Le,Es(me))};re(Te,Le=>{me()&&Le(Cr)})}var Et=ge(Te,2);{var Bt=Le=>{ta(Le,Es(H))};re(Et,Le=>{H()&&H().name&&Ie()==="left"&&Le(Bt)})}var Ar=ge(Et,2);aa(Ar,()=>o.children??go);var mt=ge(Ar,2);{var er=Le=>{ta(Le,Es(H))};re(mt,Le=>{H()&&H().name&&Ie()==="right"&&Le(er)})}Q(We),Q(U),K(()=>{R(U,1,`${(Se[f()]||Se[2])??""} ${d()==="big"&&!N()?"px-4":"px-0"} ${_e?"block":"inline"} ${b()?"text-xl":""}`),R(We,1,`inline-flex items-center justify-center gap-1 truncate ${!y()&&!ee(Ce)?"active:opacity-80":""} ${(ie[I()]||ie[3])??""} ${(z[d()]||z.big)??""} ${Ue} ${(Be[m()]||Be.solid)??""} ${(G[h()]||G.sm)??""} ${(c()==="base"&&(he[x()]||he.theme))??""} ${(xe[c()]||xe.base)??""} ${A()??""} ${ee(Ce)?"cursor-not-allowed opacity-50":""}`),We.disabled=ee(Ce),F(We,N()?`width:${X()}px;height:${j()}px;padding:0;`:""),Ss(We,"type",te())}),M(g,U),oe()}xo(["click"]);var oc=q('<div class="p-4"><!> <!> <!> <div class="grid grid-cols-1 place-items-center bg-primary-500 p-8"><strong class="text-white"><!></strong></div></div>');function hc(g,o){ae(o,!0);let c=Ts(void 0),x=Ts(void 0);const h=async()=>{const H=await d1.scanBarcode({hint:o1.QR_CODE,android:{scanningLibrary:Bs.MLKIT},web:{showCameraSelection:!0}});Hn(c,H.ScanResult,!0)},d=async()=>{try{const Ie=await(await fetch("/api")).json();Hn(x,JSON.stringify({data:Ie,message:"Success"},null,2),!0)}catch(H){Hn(x,JSON.stringify({error:H,message:"error"},null,2),!0)}},m=async()=>{try{const Ie=await(await fetch("https://fake.jsonmockapi.com/products?length=10")).json();Hn(x,JSON.stringify({data:Ie,message:"Success"},null,2),!0)}catch(H){Hn(x,JSON.stringify({error:H,message:"error"},null,2),!0)}};var A=oc(),b=fe(A);_s(b,{onclick:h,children:(H,Ie)=>{As();var me=hi("Ler QR Code");M(H,me)},$$slots:{default:!0}});var f=ge(b,2);_s(f,{onclick:d,children:(H,Ie)=>{As();var me=hi("API Handler");M(H,me)},$$slots:{default:!0}});var I=ge(f,2);_s(I,{onclick:m,children:(H,Ie)=>{As();var me=hi("API Handler 2");M(H,me)},$$slots:{default:!0}});var y=ge(I,2),S=fe(y),N=fe(S);{var X=H=>{var Ie=hi();K(()=>wo(Ie,ee(x))),M(H,Ie)},j=H=>{var Ie=hi("Sem resultado");M(H,Ie)};re(N,H=>{ee(x)?H(X):H(j,!1)})}Q(S),Q(y),Q(A),M(g,A),oe()}export{Ds as C,fc as H,oa as W,hc as _,o1 as a};
